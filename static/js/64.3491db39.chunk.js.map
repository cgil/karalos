{"version":3,"file":"static/js/64.3491db39.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/CloudUpload.js","../node_modules/@mui/lab/LoadingButton/loadingButtonClasses.js","../node_modules/@mui/lab/LoadingButton/LoadingButton.js","../node_modules/@mui/system/esm/Stack/Stack.js","../node_modules/attr-accept/dist/es/index.js","../node_modules/classnames/index.js","../node_modules/exifreader/src/utils.js","../node_modules/exifreader/src/dataview.js","../node_modules/exifreader/src/constants.js","../node_modules/exifreader/src/tag-names-utils.js","../node_modules/exifreader/src/byte-order.js","../node_modules/exifreader/src/image-header-tiff.js","../node_modules/exifreader/src/image-header-jpeg.js","../node_modules/exifreader/src/image-header-png.js","../node_modules/exifreader/src/image-header-heic.js","../node_modules/exifreader/src/image-header-webp.js","../node_modules/exifreader/src/image-header.js","../node_modules/exifreader/src/types.js","../node_modules/exifreader/src/tag-names-common.js","../node_modules/exifreader/src/tag-names-0th-ifd.js","../node_modules/exifreader/src/tag-names-gps-ifd.js","../node_modules/exifreader/src/tag-names-interoperability-ifd.js","../node_modules/exifreader/src/tag-names-mpf-ifd.js","../node_modules/exifreader/src/tag-names.js","../node_modules/exifreader/src/tag-names-exif-ifd.js","../node_modules/exifreader/src/tags.js","../node_modules/exifreader/src/file-tags.js","../node_modules/exifreader/src/jfif-tags.js","../node_modules/exifreader/src/iptc-tag-names.js","../node_modules/exifreader/src/text-decoder.js","../node_modules/exifreader/src/tag-decoder.js","../node_modules/exifreader/src/iptc-tags.js","../node_modules/exifreader/src/xmp-tag-names.js","../node_modules/exifreader/src/dom-parser.js","../node_modules/exifreader/src/xmp-tags.js","../node_modules/exifreader/src/icc-tag-names.js","../node_modules/exifreader/src/icc-tags.js","../node_modules/exifreader/src/png-file-tags.js","../node_modules/exifreader/src/png-text-tags.js","../node_modules/exifreader/src/png-tags.js","../node_modules/exifreader/src/thumbnail.js","../node_modules/exifreader/src/errors.js","../node_modules/exifreader/src/exif-reader.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/file-selector/src/file.ts","../node_modules/file-selector/src/file-selector.ts","../node_modules/react-dropzone/dist/es/utils/index.js","../node_modules/react-dropzone/dist/es/index.js","../node_modules/react-edit-text/src/components/EditIcon.js","../node_modules/react-edit-text/src/components/Input.js","../node_modules/react-edit-text/src/propTypes.js","../node_modules/react-edit-text/src/EditText.js","../node_modules/react-firebase-hooks/storage/dist/index.esm.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'CloudUpload');\nexports.default = _default;","import generateUtilityClass from '@mui/material/generateUtilityClass';\nimport generateUtilityClasses from '@mui/material/generateUtilityClasses';\nexport function getLoadingButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiLoadingButton', slot);\n}\nconst loadingButtonClasses = generateUtilityClasses('MuiLoadingButton', ['root', 'loading', 'loadingIndicator', 'loadingIndicatorCenter', 'loadingIndicatorStart', 'loadingIndicatorEnd', 'endIconLoadingEnd', 'startIconLoadingStart']);\nexport default loadingButtonClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"disabled\", \"id\", \"loading\", \"loadingIndicator\", \"loadingPosition\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes } from '@mui/utils';\nimport { capitalize, unstable_useId as useId } from '@mui/material/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport loadingButtonClasses, { getLoadingButtonUtilityClass } from './loadingButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    loading,\n    loadingPosition,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', loading && 'loading'],\n    startIcon: [loading && `startIconLoading${capitalize(loadingPosition)}`],\n    endIcon: [loading && `endIconLoading${capitalize(loadingPosition)}`],\n    loadingIndicator: ['loadingIndicator', loading && `loadingIndicator${capitalize(loadingPosition)}`]\n  };\n  const composedClasses = composeClasses(slots, getLoadingButtonUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\n\n// TODO use `import { rootShouldForwardProp } from '../styles/styled';` once move to core\nconst rootShouldForwardProp = prop => prop !== 'ownerState' && prop !== 'theme' && prop !== 'sx' && prop !== 'as' && prop !== 'classes';\nconst LoadingButtonRoot = styled(Button, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiLoadingButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root, styles.startIconLoadingStart && {\n      [`& .${loadingButtonClasses.startIconLoadingStart}`]: styles.startIconLoadingStart\n    }, styles.endIconLoadingEnd && {\n      [`& .${loadingButtonClasses.endIconLoadingEnd}`]: styles.endIconLoadingEnd\n    }];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0\n  }\n}, ownerState.loadingPosition === 'center' && {\n  transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color'], {\n    duration: theme.transitions.duration.short\n  }),\n  [`&.${loadingButtonClasses.loading}`]: {\n    color: 'transparent'\n  }\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginRight: -8\n  }\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginLeft: -8\n  }\n}));\nconst LoadingButtonLoadingIndicator = styled('div', {\n  name: 'MuiLoadingButton',\n  slot: 'LoadingIndicator',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.loadingIndicator, styles[`loadingIndicator${capitalize(ownerState.loadingPosition)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  visibility: 'visible',\n  display: 'flex'\n}, ownerState.loadingPosition === 'start' && (ownerState.variant === 'outlined' || ownerState.variant === 'contained') && {\n  left: ownerState.size === 'small' ? 10 : 14\n}, ownerState.loadingPosition === 'start' && ownerState.variant === 'text' && {\n  left: 6\n}, ownerState.loadingPosition === 'center' && {\n  left: '50%',\n  transform: 'translate(-50%)',\n  color: (theme.vars || theme).palette.action.disabled\n}, ownerState.loadingPosition === 'end' && (ownerState.variant === 'outlined' || ownerState.variant === 'contained') && {\n  right: ownerState.size === 'small' ? 10 : 14\n}, ownerState.loadingPosition === 'end' && ownerState.variant === 'text' && {\n  right: 6\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  position: 'relative',\n  left: -10\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  position: 'relative',\n  right: -10\n}));\nconst LoadingButton = /*#__PURE__*/React.forwardRef(function LoadingButton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiLoadingButton'\n  });\n  const {\n      children,\n      disabled = false,\n      id: idProp,\n      loading = false,\n      loadingIndicator: loadingIndicatorProp,\n      loadingPosition = 'center',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const id = useId(idProp);\n  const loadingIndicator = loadingIndicatorProp != null ? loadingIndicatorProp : /*#__PURE__*/_jsx(CircularProgress, {\n    \"aria-labelledby\": id,\n    color: \"inherit\",\n    size: 16\n  });\n  const ownerState = _extends({}, props, {\n    disabled,\n    loading,\n    loadingIndicator,\n    loadingPosition,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const loadingButtonLoadingIndicator = loading ? /*#__PURE__*/_jsx(LoadingButtonLoadingIndicator, {\n    className: classes.loadingIndicator,\n    ownerState: ownerState,\n    children: loadingIndicator\n  }) : null;\n  return /*#__PURE__*/_jsxs(LoadingButtonRoot, _extends({\n    disabled: disabled || loading,\n    id: id,\n    ref: ref\n  }, other, {\n    variant: variant,\n    classes: classes,\n    ownerState: ownerState,\n    children: [ownerState.loadingPosition === 'end' ? children : loadingButtonLoadingIndicator, ownerState.loadingPosition === 'end' ? loadingButtonLoadingIndicator : children]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LoadingButton.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the loading indicator is shown.\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Element placed before the children if the button is in loading state.\n   * The node should contain an element with `role=\"progressbar\"` with an accessible name.\n   * By default we render a `CircularProgress` that is labelled by the button itself.\n   * @default <CircularProgress color=\"inherit\" size={16} />\n   */\n  loadingIndicator: PropTypes.node,\n  /**\n   * The loading indicator can be positioned on the start, end, or the center of the button.\n   * @default 'center'\n   */\n  loadingPosition: chainPropTypes(PropTypes.oneOf(['start', 'end', 'center']), props => {\n    if (props.loadingPosition === 'start' && !props.startIcon) {\n      return new Error(`MUI: The loadingPosition=\"start\" should be used in combination with startIcon.`);\n    }\n    if (props.loadingPosition === 'end' && !props.endIcon) {\n      return new Error(`MUI: The loadingPosition=\"end\" should be used in combination with endIcon.`);\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default LoadingButton;","'use client';\n\nimport PropTypes from 'prop-types';\nimport createStack from './createStack';\n/**\n *\n * Demos:\n *\n * - [Stack (Joy UI)](https://mui.com/joy-ui/react-stack/)\n * - [Stack (Material UI)](https://mui.com/material-ui/react-stack/)\n * - [Stack (MUI System)](https://mui.com/system/react-stack/)\n *\n * API:\n *\n * - [Stack API](https://mui.com/system/api/stack/)\n */\nconst Stack = createStack();\nprocess.env.NODE_ENV !== \"production\" ? Stack.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   * @default 'column'\n   */\n  direction: PropTypes.oneOfType([PropTypes.oneOf(['column-reverse', 'column', 'row-reverse', 'row']), PropTypes.arrayOf(PropTypes.oneOf(['column-reverse', 'column', 'row-reverse', 'row'])), PropTypes.object]),\n  /**\n   * Add an element between each child.\n   */\n  divider: PropTypes.node,\n  /**\n   * Defines the space between immediate children.\n   * @default 0\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n  /**\n   * The system prop, which allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * If `true`, the CSS flexbox `gap` is used instead of applying `margin` to children.\n   *\n   * While CSS `gap` removes the [known limitations](https://mui.com/joy-ui/react-stack/#limitations),\n   * it is not fully supported in some browsers. We recommend checking https://caniuse.com/?search=flex%20gap before using this flag.\n   *\n   * To enable this flag globally, follow the theme's default props configuration.\n   * @default false\n   */\n  useFlexGap: PropTypes.bool\n} : void 0;\nexport default Stack;","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        chars.push(dataView.getUint8(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getUnicodeStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i += 2) {\n        chars.push(dataView.getUint16(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getStringValueFromArray(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getCharacterArray(string) {\n    return string.split('').map((character) => character.charCodeAt(0));\n}\n\nexport function objectAssign() {\n    for (let i = 1; i < arguments.length; i++) {\n        for (const property in arguments[i]) {\n            arguments[0][property] = arguments[i][property];\n        }\n    }\n\n    return arguments[0];\n}\n\nexport function deferInit(object, key, initializer) {\n    let initialized = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!initialized) {\n                initialized = true;\n                Object.defineProperty(object, key, {\n                    configurable: true,\n                    enumerable: true,\n                    value: initializer.apply(object),\n                    writable: true\n                });\n            }\n            return object[key];\n        },\n        configurable: true,\n        enumerable: true\n    });\n}\n\nexport function getBase64Image(image) {\n    if (typeof btoa !== 'undefined') {\n        if (typeof image === 'string') {\n            // This only happens during the build tests using Node 16+ (npm run test:build).\n            return btoa(image);\n        }\n        // IE11- does not implement reduce on the Uint8Array prototype.\n        return btoa(Array.prototype.reduce.call(new Uint8Array(image), (data, byte) => data + String.fromCharCode(byte), ''));\n    }\n    if (typeof Buffer === 'undefined') {\n        return undefined;\n    }\n    if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n        return Buffer.from(image).toString('base64'); // eslint-disable-line no-undef\n    }\n    return (new Buffer(image)).toString('base64'); // eslint-disable-line no-undef\n}\n\nexport function dataUriToBuffer(dataUri) {\n    const data = dataUri.substring(dataUri.indexOf(',') + 1);\n\n    if (dataUri.indexOf(';base64') !== -1) {\n        if (typeof atob !== 'undefined') {\n            return Uint8Array.from(atob(data), (char) => char.charCodeAt(0)).buffer;\n        }\n        if (typeof Buffer === 'undefined') {\n            return undefined;\n        }\n        if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n            return Buffer.from(data, 'base64'); // eslint-disable-line no-undef\n        }\n        return new Buffer(data, 'base64'); // eslint-disable-line no-undef\n    }\n\n    const decodedData = decodeURIComponent(data);\n    if (typeof Buffer !== 'undefined') {\n        if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n            return Buffer.from(decodedData); // eslint-disable-line no-undef\n        }\n        return new Buffer(decodedData); // eslint-disable-line no-undef\n    }\n    return Uint8Array.from(decodedData, (char) => char.charCodeAt(0)).buffer;\n}\n","export default class DataView {\n    constructor(buffer) {\n        if (bufferTypeIsUnsupported(buffer)) {\n            throw new Error('DataView: Passed buffer type is unsupported.');\n        }\n\n        this.buffer = buffer;\n        this.byteLength = this.buffer.length;\n    }\n\n    getUint8(offset) {\n        return this.buffer.readUInt8(offset);\n    }\n\n    getUint16(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt16LE(offset);\n        }\n        return this.buffer.readUInt16BE(offset);\n    }\n\n    getUint32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt32LE(offset);\n        }\n        return this.buffer.readUInt32BE(offset);\n    }\n\n    getInt32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readInt32LE(offset);\n        }\n        return this.buffer.readInt32BE(offset);\n    }\n}\n\nfunction bufferTypeIsUnsupported(buffer) {\n    return typeof buffer !== 'object'\n        || buffer.length === undefined\n        || buffer.readUInt8 === undefined\n        || buffer.readUInt16LE === undefined\n        || buffer.readUInt16BE === undefined\n        || buffer.readUInt32LE === undefined\n        || buffer.readUInt32BE === undefined\n        || buffer.readInt32LE === undefined\n        || buffer.readInt32BE === undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    USE_FILE: true,\n    USE_JFIF: true,\n    USE_PNG_FILE: true,\n    USE_EXIF: true,\n    USE_IPTC: true,\n    USE_XMP: true,\n    USE_ICC: true,\n    USE_MPF: true,\n    USE_THUMBNAIL: true,\n    USE_TIFF: true,\n    USE_JPEG: true,\n    USE_PNG: true,\n    USE_HEIC: true,\n    USE_WEBP: true\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringValue(value) {\n    return value.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getEncodedString(value) {\n    if (value.length >= 8) {\n        const encoding = getStringValue(value.slice(0, 8));\n\n        if (encoding === 'ASCII\\x00\\x00\\x00') {\n            return getStringValue(value.slice(8));\n        } else if (encoding === 'JIS\\x00\\x00\\x00\\x00\\x00') {\n            return '[JIS encoded text]';\n        } else if (encoding === 'UNICODE\\x00') {\n            return '[Unicode encoded text]';\n        } else if (encoding === '\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00') {\n            return '[Undefined encoding]';\n        }\n    }\n\n    return 'Undefined';\n}\n\nexport function getCalculatedGpsValue(value) {\n    return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\n\nexport default {\n    BIG_ENDIAN,\n    LITTLE_ENDIAN,\n    getByteOrder\n};\n\nfunction getByteOrder(dataView, tiffHeaderOffset) {\n    if (dataView.getUint16(tiffHeaderOffset) === LITTLE_ENDIAN) {\n        return LITTLE_ENDIAN;\n    } else if (dataView.getUint16(tiffHeaderOffset) === BIG_ENDIAN) {\n        return BIG_ENDIAN;\n    }\n    throw new Error('Illegal byte order value. Faulty image.');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\nimport Constants from './constants.js';\n\nexport default {\n    isTiffFile,\n    findTiffOffsets\n};\n\nfunction isTiffFile(dataView) {\n    const MIN_TIFF_DATA_BUFFER_LENGTH = 4;\n\n    return !!dataView && (dataView.byteLength >= MIN_TIFF_DATA_BUFFER_LENGTH) && hasTiffMarker(dataView);\n}\n\nfunction hasTiffMarker(dataView) {\n    const TIFF_ID = 0x2a;\n    const TIFF_ID_OFFSET = 2;\n\n    const littleEndian = dataView.getUint16(0) === ByteOrder.LITTLE_ENDIAN;\n    return dataView.getUint16(TIFF_ID_OFFSET, littleEndian) === TIFF_ID;\n}\n\nfunction findTiffOffsets() {\n    const TIFF_FILE_HEADER_OFFSET = 0;\n\n    if (Constants.USE_EXIF) {\n        return {\n            hasAppMarkers: true,\n            tiffHeaderOffset: TIFF_FILE_HEADER_OFFSET\n        };\n    }\n    return {};\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isJpegFile,\n    findJpegOffsets\n};\n\nconst MIN_JPEG_DATA_BUFFER_LENGTH = 2;\nconst JPEG_ID = 0xffd8;\nconst JPEG_ID_SIZE = 2;\nconst APP_ID_OFFSET = 4;\nconst APP_MARKER_SIZE = 2;\nconst JFIF_DATA_OFFSET = 2; // From start of APP0 marker.\nconst TIFF_HEADER_OFFSET = 10; // From start of APP1 marker.\nconst IPTC_DATA_OFFSET = 18; // From start of APP13 marker.\nconst XMP_DATA_OFFSET = 33; // From start of APP1 marker.\nconst XMP_EXTENDED_DATA_OFFSET = 79; // From start of APP1 marker including GUID, total length, and offset.\nconst APP2_ICC_DATA_OFFSET = 18; // From start of APP2 marker including marker and chunk/chunk total numbers.\nconst MPF_DATA_OFFSET = 8;\n\nconst APP2_ICC_IDENTIFIER = 'ICC_PROFILE\\0';\nconst ICC_CHUNK_NUMBER_OFFSET = APP_ID_OFFSET + APP2_ICC_IDENTIFIER.length;\nconst ICC_TOTAL_CHUNKS_OFFSET = ICC_CHUNK_NUMBER_OFFSET + 1;\n\nconst APP2_MPF_IDENTIFIER = 'MPF\\0';\n\nconst SOF0_MARKER = 0xffc0;\nconst SOF2_MARKER = 0xffc2;\nconst DHT_MARKER = 0xffc4;\nconst DQT_MARKER = 0xffdb;\nconst DRI_MARKER = 0xffdd;\nconst SOS_MARKER = 0xffda;\n\nconst APP0_MARKER = 0xffe0;\nconst APP1_MARKER = 0xffe1;\nconst APP2_MARKER = 0xffe2;\nconst APP13_MARKER = 0xffed;\nconst APP15_MARKER = 0xffef;\nconst COMMENT_MARKER = 0xfffe;\n\n// Any number of fill bytes can be placed before an app marker. It's actually the first 0xff that is the\n// fill byte and the next 0xff is either another fill byte or the first half of the next app marker.\nconst FILL_BYTE = 0xffff;\n\nconst APP0_JFIF_IDENTIFIER = 'JFIF';\nconst APP1_EXIF_IDENTIFIER = 'Exif';\nconst APP1_XMP_IDENTIFIER = 'http://ns.adobe.com/xap/1.0/\\x00';\nconst APP1_XMP_EXTENDED_IDENTIFIER = 'http://ns.adobe.com/xmp/extension/\\x00';\nconst APP13_IPTC_IDENTIFIER = 'Photoshop 3.0';\n\nfunction isJpegFile(dataView) {\n    return !!dataView && (dataView.byteLength >= MIN_JPEG_DATA_BUFFER_LENGTH) && (dataView.getUint16(0) === JPEG_ID);\n}\n\nfunction findJpegOffsets(dataView) {\n    let appMarkerPosition = JPEG_ID_SIZE;\n    let fieldLength;\n    let sof0DataOffset;\n    let sof2DataOffset;\n    let jfifDataOffset;\n    let tiffHeaderOffset;\n    let iptcDataOffset;\n    let xmpChunks;\n    let iccChunks;\n    let mpfDataOffset;\n\n    while (appMarkerPosition + APP_ID_OFFSET + 5 <= dataView.byteLength) {\n        if (Constants.USE_FILE && isSOF0Marker(dataView, appMarkerPosition)) {\n            sof0DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_FILE && isSOF2Marker(dataView, appMarkerPosition)) {\n            sof2DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_JFIF && isApp0JfifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            jfifDataOffset = appMarkerPosition + JFIF_DATA_OFFSET;\n        } else if (Constants.USE_EXIF && isApp1ExifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            tiffHeaderOffset = appMarkerPosition + TIFF_HEADER_OFFSET;\n        } else if (Constants.USE_XMP && isApp1XmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_XMP && isApp1ExtendedXmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getExtendedXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_IPTC && isApp13PhotoshopMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            iptcDataOffset = appMarkerPosition + IPTC_DATA_OFFSET;\n        } else if (Constants.USE_ICC && isApp2ICCMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            const iccDataOffset = appMarkerPosition + APP2_ICC_DATA_OFFSET;\n            const iccDataLength = fieldLength - (APP2_ICC_DATA_OFFSET - APP_MARKER_SIZE);\n\n            const iccChunkNumber = dataView.getUint8(appMarkerPosition + ICC_CHUNK_NUMBER_OFFSET);\n            const iccChunksTotal = dataView.getUint8(appMarkerPosition + ICC_TOTAL_CHUNKS_OFFSET);\n            if (!iccChunks) {\n                iccChunks = [];\n            }\n            iccChunks.push({offset: iccDataOffset, length: iccDataLength, chunkNumber: iccChunkNumber, chunksTotal: iccChunksTotal});\n        } else if (Constants.USE_MPF && isApp2MPFMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            mpfDataOffset = appMarkerPosition + MPF_DATA_OFFSET;\n        } else if (isAppMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n        } else if (isFillByte(dataView, appMarkerPosition)) {\n            appMarkerPosition++;\n            continue;\n        } else {\n            break;\n        }\n        appMarkerPosition += APP_MARKER_SIZE + fieldLength;\n    }\n\n    return {\n        hasAppMarkers: appMarkerPosition > JPEG_ID_SIZE,\n        fileDataOffset: sof0DataOffset || sof2DataOffset,\n        jfifDataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks,\n        mpfDataOffset\n    };\n}\n\nfunction isSOF0Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF0_MARKER);\n}\n\nfunction isSOF2Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF2_MARKER);\n}\n\nfunction isApp2ICCMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_ICC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_ICC_IDENTIFIER);\n}\n\nfunction isApp2MPFMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_MPF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_MPF_IDENTIFIER);\n}\n\nfunction isApp0JfifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP0_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP0_JFIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isApp1ExifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_EXIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isApp1XmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_IDENTIFIER;\n}\n\nfunction isApp1ExtendedXmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isExtendedXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isExtendedXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_EXTENDED_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_EXTENDED_IDENTIFIER;\n}\n\nfunction getXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_DATA_OFFSET,\n        length: fieldLength - (XMP_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction getExtendedXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_EXTENDED_DATA_OFFSET,\n        length: fieldLength - (XMP_EXTENDED_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction isApp13PhotoshopMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP13_IPTC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP13_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP13_IPTC_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isAppMarker(dataView, appMarkerPosition) {\n    const appMarker = dataView.getUint16(appMarkerPosition);\n    return ((appMarker >= APP0_MARKER) && (appMarker <= APP15_MARKER))\n        || (appMarker === COMMENT_MARKER)\n        || (appMarker === SOF0_MARKER)\n        || (appMarker === SOF2_MARKER)\n        || (appMarker === DHT_MARKER)\n        || (appMarker === DQT_MARKER)\n        || (appMarker === DRI_MARKER)\n        || (appMarker === SOS_MARKER);\n}\n\nfunction isFillByte(dataView, appMarkerPosition) {\n    return dataView.getUint16(appMarkerPosition) === FILL_BYTE;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n// Specification: http://www.libpng.org/pub/png/spec/1.2/\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isPngFile,\n    findPngOffsets\n};\n\nconst PNG_ID = '\\x89\\x50\\x4e\\x47\\x0d\\x0a\\x1a\\x0a';\nconst PNG_CHUNK_LENGTH_SIZE = 4;\nexport const PNG_CHUNK_TYPE_SIZE = 4;\nexport const PNG_CHUNK_LENGTH_OFFSET = 0;\nexport const PNG_CHUNK_TYPE_OFFSET = PNG_CHUNK_LENGTH_SIZE;\nexport const PNG_CHUNK_DATA_OFFSET = PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE;\nconst PNG_XMP_PREFIX = 'XML:com.adobe.xmp\\x00';\nexport const TYPE_TEXT = 'tEXt';\nexport const TYPE_ITXT = 'iTXt';\nexport const TYPE_PHYS = 'pHYs';\nexport const TYPE_TIME = 'tIME';\nexport const TYPE_EXIF = 'eXIf';\n\nfunction isPngFile(dataView) {\n    return !!dataView && getStringFromDataView(dataView, 0, PNG_ID.length) === PNG_ID;\n}\n\nfunction findPngOffsets(dataView) {\n    const PNG_CRC_SIZE = 4;\n\n    const offsets = {\n        hasAppMarkers: false\n    };\n\n    let offset = PNG_ID.length;\n\n    while (offset + PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE <= dataView.byteLength) {\n        if (Constants.USE_PNG_FILE && isPngImageHeaderChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            offsets.pngHeaderOffset = offset + PNG_CHUNK_DATA_OFFSET;\n        } else if (Constants.USE_XMP && isPngXmpChunk(dataView, offset)) {\n            const dataOffset = getPngXmpDataOffset(dataView, offset);\n            if (dataOffset !== undefined) {\n                offsets.hasAppMarkers = true;\n                offsets.xmpChunks = [{\n                    dataOffset,\n                    length: dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET) - (dataOffset - (offset + PNG_CHUNK_DATA_OFFSET))\n                }];\n            }\n        } else if (isPngTextChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            const chunkType = getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE);\n            if (!offsets.pngTextChunks) {\n                offsets.pngTextChunks = [];\n            }\n            offsets.pngTextChunks.push({\n                length: dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET),\n                type: chunkType,\n                offset: offset + PNG_CHUNK_DATA_OFFSET\n            });\n        } else if (isPngExifChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            offsets.tiffHeaderOffset = offset + PNG_CHUNK_DATA_OFFSET;\n        } else if (isPngChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            if (!offsets.pngChunkOffsets) {\n                offsets.pngChunkOffsets = [];\n            }\n            offsets.pngChunkOffsets.push(offset + PNG_CHUNK_LENGTH_OFFSET);\n        }\n\n        offset += dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET)\n            + PNG_CHUNK_LENGTH_SIZE\n            + PNG_CHUNK_TYPE_SIZE\n            + PNG_CRC_SIZE;\n    }\n\n    return offsets;\n}\n\nfunction isPngImageHeaderChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_IMAGE_HEADER = 'IHDR';\n    return getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_IMAGE_HEADER;\n}\n\nfunction isPngXmpChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_INTERNATIONAL_TEXT = 'iTXt';\n    return (getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_INTERNATIONAL_TEXT)\n        && (getStringFromDataView(dataView, offset + PNG_CHUNK_DATA_OFFSET, PNG_XMP_PREFIX.length) === PNG_XMP_PREFIX);\n}\n\nfunction isPngTextChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_TEXT = 'tEXt';\n    const PNG_CHUNK_TYPE_ITXT = 'iTXt';\n    const chunkType = getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE);\n    return chunkType === PNG_CHUNK_TYPE_TEXT || chunkType === PNG_CHUNK_TYPE_ITXT;\n}\n\nfunction isPngExifChunk(dataView, offset) {\n    return getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === TYPE_EXIF;\n}\n\nfunction isPngChunk(dataView, offset) {\n    const SUPPORTED_PNG_CHUNK_TYPES = [TYPE_PHYS, TYPE_TIME];\n    const chunkType = getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE);\n    return SUPPORTED_PNG_CHUNK_TYPES.includes(chunkType);\n}\n\nfunction getPngXmpDataOffset(dataView, offset) {\n    const COMPRESSION_FLAG_SIZE = 1;\n    const COMPRESSION_METHOD_SIZE = 1;\n\n    offset += PNG_CHUNK_DATA_OFFSET + PNG_XMP_PREFIX.length + COMPRESSION_FLAG_SIZE + COMPRESSION_METHOD_SIZE;\n\n    let numberOfNullSeparators = 0;\n    while (numberOfNullSeparators < 2 && offset < dataView.byteLength) {\n        if (dataView.getUint8(offset) === 0x00) {\n            numberOfNullSeparators++;\n        }\n        offset++;\n    }\n    if (numberOfNullSeparators < 2) {\n        return undefined;\n    }\n    return offset;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isHeicFile,\n    findHeicOffsets\n};\n\nfunction isHeicFile(dataView) {\n    if (!dataView) {\n        return false;\n    }\n\n    const HEIC_ID = 'ftyp';\n    const HEIC_ID_OFFSET = 4;\n    const HEIC_MAJOR_BRANDS = ['heic', 'heix', 'hevc', 'hevx', 'heim', 'heis', 'hevm', 'hevs', 'mif1'];\n    const HEIC_MAJOR_BRAND_LENGTH = 4;\n\n    const heicMajorBrand = getStringFromDataView(dataView, HEIC_ID_OFFSET + HEIC_ID.length, HEIC_MAJOR_BRAND_LENGTH);\n\n    return (getStringFromDataView(dataView, HEIC_ID_OFFSET, HEIC_ID.length) === HEIC_ID)\n        && (HEIC_MAJOR_BRANDS.indexOf(heicMajorBrand) !== -1);\n}\n\nfunction findHeicOffsets(dataView) {\n    if (Constants.USE_EXIF || Constants.USE_ICC) {\n        const {offset: metaOffset, length: metaLength} = findMetaAtom(dataView);\n        if (metaOffset === undefined) {\n            return {hasAppMarkers: false};\n        }\n\n        const metaEndOffset = Math.min(metaOffset + metaLength, dataView.byteLength);\n        const {exifItemOffset, ilocOffset, colrOffset} = findMetaItems(dataView, metaOffset, metaEndOffset);\n\n        const exifOffset = findExifOffset(dataView, exifItemOffset, ilocOffset, metaEndOffset);\n        const iccChunks = findIccChunks(dataView, colrOffset, metaEndOffset);\n        return {\n            hasAppMarkers: (exifOffset !== undefined) || (iccChunks !== undefined),\n            tiffHeaderOffset: exifOffset,\n            iccChunks\n        };\n    }\n\n    return {hasAppMarkers: false};\n}\n\nfunction findMetaAtom(dataView) {\n    const ATOM_LENGTH_SIZE = 4;\n    const ATOM_TYPE_SIZE = 4;\n    const ATOM_MIN_LENGTH = 8;\n    const ATOM_TYPE_OFFSET = 4;\n\n    let offset = 0;\n\n    while (offset + ATOM_LENGTH_SIZE + ATOM_TYPE_SIZE <= dataView.byteLength) {\n        const atomLength = getAtomLength(dataView, offset);\n        if (atomLength >= ATOM_MIN_LENGTH) {\n            const atomType = getStringFromDataView(dataView, offset + ATOM_TYPE_OFFSET, ATOM_TYPE_SIZE);\n            if (atomType === 'meta') {\n                return {\n                    offset,\n                    length: atomLength\n                };\n            }\n        }\n\n        offset += atomLength;\n    }\n\n    return {\n        offset: undefined,\n        length: 0\n    };\n}\n\nfunction getAtomLength(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_LOW_OFFSET = 12;\n\n    const atomLength = dataView.getUint32(offset);\n    if (extendsToEndOfFile(atomLength)) {\n        return dataView.byteLength - offset;\n    }\n    if (hasExtendedSize(atomLength)) {\n        if (hasEmptyHighBits(dataView, offset)) {\n            // It's a bit tricky to handle 64 bit numbers in JavaScript. Let's\n            // wait until there are real-world examples where it is necessary.\n            return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_LOW_OFFSET);\n        }\n    }\n\n    return atomLength;\n}\n\nfunction extendsToEndOfFile(atomLength) {\n    return atomLength === 0;\n}\n\nfunction hasExtendedSize(atomLength) {\n    return atomLength === 1;\n}\n\nfunction hasEmptyHighBits(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_OFFSET = 8;\n    return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_OFFSET) === 0;\n}\n\nfunction findMetaItems(dataView, offset, metaEndOffset) {\n    const STRING_SIZE = 4;\n    const ITEM_INDEX_REL_OFFSET = -4;\n    const offsets = {\n        ilocOffset: undefined,\n        exifItemOffset: undefined,\n        colrOffset: undefined\n    };\n\n    while ((offset + STRING_SIZE <= metaEndOffset)\n        && (!offsets.ilocOffset || !offsets.exifItemOffset || !offsets.colrOffset)) {\n        const itemName = getStringFromDataView(dataView, offset, STRING_SIZE);\n        if (Constants.USE_EXIF && (itemName === 'iloc')) {\n            offsets.ilocOffset = offset;\n        } else if (Constants.USE_EXIF && (itemName === 'Exif')) {\n            offsets.exifItemOffset = offset + ITEM_INDEX_REL_OFFSET;\n        } else if (Constants.USE_ICC && (itemName === 'colr')) {\n            offsets.colrOffset = offset + ITEM_INDEX_REL_OFFSET;\n        }\n\n        offset++;\n    }\n\n    return offsets;\n}\n\nfunction findExifOffset(dataView, exifItemOffset, offset, metaEndOffset) {\n    const EXIF_ITEM_OFFSET_SIZE = 2;\n    const ILOC_DATA_OFFSET = 12;\n    const EXIF_POINTER_OFFSET = 8;\n    const EXIF_POINTER_SIZE = 4;\n    const EXIF_PREFIX_LENGTH_OFFSET = 4;\n    const ILOC_ITEM_SIZE = 16;\n\n    if (!offset || !exifItemOffset || (exifItemOffset + EXIF_ITEM_OFFSET_SIZE > metaEndOffset)) {\n        return undefined;\n    }\n\n    const exifItemIndex = dataView.getUint16(exifItemOffset);\n    offset += ILOC_DATA_OFFSET;\n\n    while (offset + ILOC_ITEM_SIZE <= metaEndOffset) {\n        const itemIndex = dataView.getUint16(offset);\n        if (itemIndex === exifItemIndex) {\n            const exifPointer = dataView.getUint32(offset + EXIF_POINTER_OFFSET);\n            if (exifPointer + EXIF_POINTER_SIZE <= dataView.byteLength) {\n                const exifOffset = dataView.getUint32(exifPointer);\n                const prefixLength = exifOffset + EXIF_PREFIX_LENGTH_OFFSET;\n                return exifPointer + prefixLength;\n            }\n        }\n        offset += ILOC_ITEM_SIZE;\n    }\n\n    return undefined;\n}\n\nfunction findIccChunks(dataView, offset, metaEndOffset) {\n    const ITEM_TYPE_OFFSET = 8;\n    const ITEM_TYPE_SIZE = 4;\n    const ITEM_CONTENT_OFFSET = 12;\n\n    if (!offset || (offset + ITEM_CONTENT_OFFSET > metaEndOffset)) {\n        return undefined;\n    }\n\n    const colorType = getStringFromDataView(dataView, offset + ITEM_TYPE_OFFSET, ITEM_TYPE_SIZE);\n    if ((colorType !== 'prof') && (colorType !== 'rICC')) {\n        return undefined;\n    }\n\n    return [{\n        offset: offset + ITEM_CONTENT_OFFSET,\n        length: getAtomLength(dataView, offset) - ITEM_CONTENT_OFFSET,\n        chunkNumber: 1,\n        chunksTotal: 1\n    }];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isWebpFile,\n    findOffsets\n};\n\nfunction isWebpFile(dataView) {\n    const RIFF_ID_OFFSET = 0;\n    const RIFF_ID = 'RIFF';\n    const WEBP_MARKER_OFFSET = 8;\n    const WEBP_MARKER = 'WEBP';\n\n    return !!dataView && getStringFromDataView(dataView, RIFF_ID_OFFSET, RIFF_ID.length) === RIFF_ID\n        && getStringFromDataView(dataView, WEBP_MARKER_OFFSET, WEBP_MARKER.length) === WEBP_MARKER;\n}\n\nfunction findOffsets(dataView) {\n    const SUB_CHUNK_START_OFFSET = 12;\n    const CHUNK_SIZE_OFFSET = 4;\n    const EXIF_IDENTIFIER = 'Exif\\x00\\x00';\n    const CHUNK_HEADER_SIZE = 8;\n\n    let offset = SUB_CHUNK_START_OFFSET;\n    let hasAppMarkers = false;\n    let tiffHeaderOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (offset + CHUNK_HEADER_SIZE < dataView.byteLength) {\n        const chunkId = getStringFromDataView(dataView, offset, 4);\n        const chunkSize = dataView.getUint32(offset + CHUNK_SIZE_OFFSET, true);\n\n        if (Constants.USE_EXIF && (chunkId === 'EXIF')) {\n            hasAppMarkers = true;\n            if (getStringFromDataView(dataView, offset + CHUNK_HEADER_SIZE, EXIF_IDENTIFIER.length) === EXIF_IDENTIFIER) {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE + EXIF_IDENTIFIER.length;\n            } else {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE;\n            }\n        } else if (Constants.USE_XMP && (chunkId === 'XMP ')) {\n            hasAppMarkers = true;\n            xmpChunks = [{\n                dataOffset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize\n            }];\n        } else if (Constants.USE_ICC && (chunkId === 'ICCP')) {\n            hasAppMarkers = true;\n            iccChunks = [{\n                offset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize,\n                chunkNumber: 1,\n                chunksTotal: 1\n            }];\n        }\n\n        offset += CHUNK_HEADER_SIZE + (chunkSize % 2 === 0 ? chunkSize : chunkSize + 1);\n    }\n\n    return {\n        hasAppMarkers,\n        tiffHeaderOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport Tiff from './image-header-tiff.js';\nimport Jpeg from './image-header-jpeg.js';\nimport Png from './image-header-png.js';\nimport Heic from './image-header-heic.js';\nimport Webp from './image-header-webp.js';\n\nexport default {\n    parseAppMarkers\n};\n\nfunction parseAppMarkers(dataView) {\n    if (Constants.USE_TIFF && Tiff.isTiffFile(dataView)) {\n        return Tiff.findTiffOffsets();\n    }\n\n    if (Constants.USE_JPEG && Jpeg.isJpegFile(dataView)) {\n        return Jpeg.findJpegOffsets(dataView);\n    }\n\n    if (Constants.USE_PNG && Png.isPngFile(dataView)) {\n        return Png.findPngOffsets(dataView);\n    }\n\n    if (Constants.USE_HEIC && Heic.isHeicFile(dataView)) {\n        return Heic.findHeicOffsets(dataView);\n    }\n\n    if (Constants.USE_WEBP && Webp.isWebpFile(dataView)) {\n        return Webp.findOffsets(dataView);\n    }\n\n    throw new Error('Invalid image format');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\n\nconst typeSizes = {\n    1: 1, // BYTE\n    2: 1, // ASCII\n    3: 2, // SHORT\n    4: 4, // LONG\n    5: 8, // RATIONAL\n    7: 1, // UNDEFINED\n    9: 4, // SLONG\n    10: 8, // SRATIONAL\n    13: 4 // IFD\n};\n\nconst tagTypes = {\n    'BYTE': 1,\n    'ASCII': 2,\n    'SHORT': 3,\n    'LONG': 4,\n    'RATIONAL': 5,\n    'UNDEFINED': 7,\n    'SLONG': 9,\n    'SRATIONAL': 10,\n    'IFD': 13\n};\n\nexport default {\n    getAsciiValue,\n    getByteAt,\n    getAsciiAt,\n    getShortAt,\n    getLongAt,\n    getRationalAt,\n    getUndefinedAt,\n    getSlongAt,\n    getSrationalAt,\n    getIfdPointerAt,\n    typeSizes,\n    tagTypes,\n    getTypeSize\n};\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\nfunction getByteAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getAsciiAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getShortAt(dataView, offset, byteOrder) {\n    return dataView.getUint16(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getLongAt(dataView, offset, byteOrder) {\n    return dataView.getUint32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getRationalAt(dataView, offset, byteOrder) {\n    return [getLongAt(dataView, offset, byteOrder), getLongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getUndefinedAt(dataView, offset) {\n    return getByteAt(dataView, offset);\n}\n\nfunction getSlongAt(dataView, offset, byteOrder) {\n    return dataView.getInt32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getSrationalAt(dataView, offset, byteOrder) {\n    return [getSlongAt(dataView, offset, byteOrder), getSlongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getIfdPointerAt(dataView, offset, byteOrder) {\n    return getLongAt(dataView, offset, byteOrder);\n}\n\nfunction getTypeSize(typeName) {\n    if (tagTypes[typeName] === undefined) {\n        throw new Error('No such type found.');\n    }\n\n    return typeSizes[tagTypes[typeName]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    ApertureValue: (value) => Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2),\n    ColorSpace(value) {\n        if (value === 1) {\n            return 'sRGB';\n        } else if (value === 0xffff) {\n            return 'Uncalibrated';\n        }\n        return 'Unknown';\n    },\n    ComponentsConfiguration(value) {\n        return value.map((character) => {\n            if (character === 0x31) {\n                return 'Y';\n            } else if (character === 0x32) {\n                return 'Cb';\n            } else if (character === 0x33) {\n                return 'Cr';\n            } else if (character === 0x34) {\n                return 'R';\n            } else if (character === 0x35) {\n                return 'G';\n            } else if (character === 0x36) {\n                return 'B';\n            }\n        }).join('');\n    },\n    Contrast(value) {\n        if (value === 0) {\n            return 'Normal';\n        } else if (value === 1) {\n            return 'Soft';\n        } else if (value === 2) {\n            return 'Hard';\n        }\n        return 'Unknown';\n    },\n    CustomRendered(value) {\n        if (value === 0) {\n            return 'Normal process';\n        } else if (value === 1) {\n            return 'Custom process';\n        }\n        return 'Unknown';\n    },\n    ExposureMode(value) {\n        if (value === 0) {\n            return 'Auto exposure';\n        } else if (value === 1) {\n            return 'Manual exposure';\n        } else if (value === 2) {\n            return 'Auto bracket';\n        }\n        return 'Unknown';\n    },\n    ExposureProgram(value) {\n        if (value === 0) {\n            return 'Undefined';\n        } else if (value === 1) {\n            return 'Manual';\n        } else if (value === 2) {\n            return 'Normal program';\n        } else if (value === 3) {\n            return 'Aperture priority';\n        } else if (value === 4) {\n            return 'Shutter priority';\n        } else if (value === 5) {\n            return 'Creative program';\n        } else if (value === 6) {\n            return 'Action program';\n        } else if (value === 7) {\n            return 'Portrait mode';\n        } else if (value === 8) {\n            return 'Landscape mode';\n        } else if (value === 9) {\n            return 'Bulb';\n        }\n        return 'Unknown';\n    },\n    ExposureTime(value) {\n        if (value[0] >= value[1]) {\n            return `${Math.round(value[0] / value[1])}`;\n        }\n        if (value[0] !== 0) {\n            return `1/${Math.round(value[1] / value[0])}`;\n        }\n        return `0/${value[1]}`;\n    },\n    FNumber: (value) => `f/${value[0] / value[1]}`,\n    FocalLength: (value) => (value[0] / value[1]) + ' mm',\n    FocalPlaneResolutionUnit(value) {\n        if (value === 2) {\n            return 'inches';\n        } else if (value === 3) {\n            return 'centimeters';\n        }\n        return 'Unknown';\n    },\n    LightSource: (value) => {\n        if (value === 1) {\n            return 'Daylight';\n        } else if (value === 2) {\n            return 'Fluorescent';\n        } else if (value === 3) {\n            return 'Tungsten (incandescent light)';\n        } else if (value === 4) {\n            return 'Flash';\n        } else if (value === 9) {\n            return 'Fine weather';\n        } else if (value === 10) {\n            return 'Cloudy weather';\n        } else if (value === 11) {\n            return 'Shade';\n        } else if (value === 12) {\n            return 'Daylight fluorescent (D 5700  7100K)';\n        } else if (value === 13) {\n            return 'Day white fluorescent (N 4600  5400K)';\n        } else if (value === 14) {\n            return 'Cool white fluorescent (W 3900  4500K)';\n        } else if (value === 15) {\n            return 'White fluorescent (WW 3200  3700K)';\n        } else if (value === 17) {\n            return 'Standard light A';\n        } else if (value === 18) {\n            return 'Standard light B';\n        } else if (value === 19) {\n            return 'Standard light C';\n        } else if (value === 20) {\n            return 'D55';\n        } else if (value === 21) {\n            return 'D65';\n        } else if (value === 22) {\n            return 'D75';\n        } else if (value === 23) {\n            return 'D50';\n        } else if (value === 24) {\n            return 'ISO studio tungsten';\n        } else if (value === 255) {\n            return 'Other light source';\n        }\n        return 'Unknown';\n    },\n    MeteringMode(value) {\n        if (value === 1) {\n            return 'Average';\n        } else if (value === 2) {\n            return 'CenterWeightedAverage';\n        } else if (value === 3) {\n            return 'Spot';\n        } else if (value === 4) {\n            return 'MultiSpot';\n        } else if (value === 5) {\n            return 'Pattern';\n        } else if (value === 6) {\n            return 'Partial';\n        } else if (value === 255) {\n            return 'Other';\n        }\n        return 'Unknown';\n    },\n    ResolutionUnit(value) {\n        if (value === 2) {\n            return 'inches';\n        }\n        if (value === 3) {\n            return 'centimeters';\n        }\n        return 'Unknown';\n    },\n    Saturation(value) {\n        if (value === 0) {\n            return 'Normal';\n        } else if (value === 1) {\n            return 'Low saturation';\n        } else if (value === 2) {\n            return 'High saturation';\n        }\n        return 'Unknown';\n    },\n    SceneCaptureType(value) {\n        if (value === 0) {\n            return 'Standard';\n        } else if (value === 1) {\n            return 'Landscape';\n        } else if (value === 2) {\n            return 'Portrait';\n        } else if (value === 3) {\n            return 'Night scene';\n        }\n        return 'Unknown';\n    },\n    Sharpness(value) {\n        if (value === 0) {\n            return 'Normal';\n        } else if (value === 1) {\n            return 'Soft';\n        } else if (value === 2) {\n            return 'Hard';\n        }\n        return 'Unknown';\n    },\n    ShutterSpeedValue(value) {\n        const denominator = Math.pow(2, value[0] / value[1]);\n        if (denominator <= 1) {\n            return `${Math.round(1 / denominator)}`;\n        }\n        return `1/${Math.round(denominator)}`;\n    },\n    WhiteBalance(value) {\n        if (value === 0) {\n            return 'Auto white balance';\n        } else if (value === 1) {\n            return 'Manual white balance';\n        }\n        return 'Unknown';\n    },\n    XResolution: (value) => '' + Math.round(value[0] / value[1]),\n    YResolution: (value) => '' + Math.round(value[0] / value[1])\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x000b: 'ProcessingSoftware',\n    0x00fe: {\n        name: 'SubfileType',\n        description: (value) => ({\n            0x0: 'Full-resolution image',\n            0x1: 'Reduced-resolution image',\n            0x2: 'Single page of multi-page image',\n            0x3: 'Single page of multi-page reduced-resolution image',\n            0x4: 'Transparency mask',\n            0x5: 'Transparency mask of reduced-resolution image',\n            0x6: 'Transparency mask of multi-page image',\n            0x7: 'Transparency mask of reduced-resolution multi-page image',\n            0x10001: 'Alternate reduced-resolution image',\n            0xffffffff: 'Invalid'\n        })[value] || 'Unknown'\n    },\n    0x00ff: {\n        name: 'OldSubfileType',\n        description: (value) => ({\n            0: 'Full-resolution image',\n            1: 'Reduced-resolution image',\n            2: 'Single page of multi-page image'\n        })[value] || 'Unknown'\n    },\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0107: {\n        name: 'Thresholding',\n        description: (value) => ({\n            1: 'No dithering or halftoning',\n            2: 'Ordered dither or halfton',\n            3: 'Randomized dither'\n        })[value] || 'Unknown'\n    },\n    0x0108: 'CellWidth',\n    0x0109: 'CellLength',\n    0x010a: {\n        name: 'FillOrder',\n        description: (value) => ({\n            1: 'Normal',\n            2: 'Reversed'\n        })[value] || 'Unknown'\n    },\n    0x010d: 'DocumentName',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: {\n        name: 'Orientation',\n        description: (value) => {\n            if (value === 1) {\n                return 'top-left';\n            }\n            if (value === 2) {\n                return 'top-right';\n            }\n            if (value === 3) {\n                return 'bottom-right';\n            }\n            if (value === 4) {\n                return 'bottom-left';\n            }\n            if (value === 5) {\n                return 'left-top';\n            }\n            if (value === 6) {\n                return 'right-top';\n            }\n            if (value === 7) {\n                return 'right-bottom';\n            }\n            if (value === 8) {\n                return 'left-bottom';\n            }\n            return 'Undefined';\n        }\n    },\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0118: 'MinSampleValue',\n    0x0119: 'MaxSampleValue',\n    0x011a: {\n        'name': 'XResolution',\n        'description': TagNamesCommon.XResolution\n    },\n    0x011b: {\n        'name': 'YResolution',\n        'description': TagNamesCommon.YResolution\n    },\n    0x011c: 'PlanarConfiguration',\n    0x011d: 'PageName',\n    0x011e: {\n        'name': 'XPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011f: {\n        'name': 'YPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x0122: {\n        name: 'GrayResponseUnit',\n        description: (value) => ({\n            1: '0.1',\n            2: '0.001',\n            3: '0.0001',\n            4: '1e-05',\n            5: '1e-06'\n        })[value] || 'Unknown'\n    },\n    0x0128: {\n        name: 'ResolutionUnit',\n        description: TagNamesCommon.ResolutionUnit\n    },\n    0x0129: 'PageNumber',\n    0x012d: 'TransferFunction',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013b: 'Artist',\n    0x013c: 'HostComputer',\n    0x013d: 'Predictor',\n    0x013e: {\n        'name': 'WhitePoint',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x013f: {\n        'name': 'PrimaryChromaticities',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x0141: 'HalftoneHints',\n    0x0142: 'TileWidth',\n    0x0143: 'TileLength',\n    0x014a: 'A100DataOffset',\n    0x014c: {\n        name: 'InkSet',\n        description: (value) => ({\n            1: 'CMYK',\n            2: 'Not CMYK'\n        })[value] || 'Unknown'\n    },\n    0x0151: 'TargetPrinter',\n    0x0152: {\n        name: 'ExtraSamples',\n        description: (value) => ({\n            0: 'Unspecified',\n            1: 'Associated Alpha',\n            2: 'Unassociated Alpha',\n        })[value] || 'Unknown'\n    },\n    0x0153: {\n        name: 'SampleFormat',\n        description: (value) => {\n            const formats = {\n                1: 'Unsigned',\n                2: 'Signed',\n                3: 'Float',\n                4: 'Undefined',\n                5: 'Complex int',\n                6: 'Complex float',\n            };\n            if (!Array.isArray(value)) {\n                return 'Unknown';\n            }\n            return value.map((sample) => formats[sample] || 'Unknown').join(', ');\n        }\n    },\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0211: {\n        'name': 'YCbCrCoefficients',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join('/');\n        }\n    },\n    0x0212: 'YCbCrSubSampling',\n    0x0213: {\n        name: 'YCbCrPositioning',\n        description: (value) => {\n            if (value === 1) {\n                return 'centered';\n            }\n            if (value === 2) {\n                return 'co-sited';\n            }\n            return 'undefined ' + value;\n        }\n    },\n    0x0214: {\n        'name': 'ReferenceBlackWhite',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join(', ');\n        }\n    },\n    0x02bc: 'ApplicationNotes',\n    0x4746: 'Rating',\n    0x4749: 'RatingPercent',\n    0x8298: {\n        name: 'Copyright',\n        description: (value) => value.join('; ')\n    },\n    0x830e: 'PixelScale',\n    0x83bb: 'IPTC-NAA',\n    0x8480: 'IntergraphMatrix',\n    0x8482: 'ModelTiePoint',\n    0x8546: 'SEMInfo',\n    0x85d8: 'ModelTransform',\n    0x8649: 'PhotoshopSettings',\n    0x8769: 'Exif IFD Pointer',\n    0x8773: 'ICC_Profile',\n    0x87af: 'GeoTiffDirectory',\n    0x87b0: 'GeoTiffDoubleParams',\n    0x87b1: 'GeoTiffAsciiParams',\n    0x8825: 'GPS Info IFD Pointer',\n    0x9c9b: 'XPTitle',\n    0x9c9c: 'XPComment',\n    0x9c9d: 'XPAuthor',\n    0x9c9e: 'XPKeywords',\n    0x9c9f: 'XPSubject',\n    0xa480: 'GDALMetadata',\n    0xa481: 'GDALNoData',\n    0xc4a5: 'PrintIM',\n    0xc613: 'DNGBackwardVersion',\n    0xc614: 'UniqueCameraModel',\n    0xc615: 'LocalizedCameraModel',\n    0xc621: 'ColorMatrix1',\n    0xc622: 'ColorMatrix2',\n    0xc623: 'CameraCalibration1',\n    0xc624: 'CameraCalibration2',\n    0xc625: 'ReductionMatrix1',\n    0xc626: 'ReductionMatrix2',\n    0xc627: 'AnalogBalance',\n    0xc628: 'AsShotNeutral',\n    0xc629: 'AsShotWhiteXY',\n    0xc62a: 'BaselineExposure',\n    0xc62b: 'BaselineNoise',\n    0xc62c: 'BaselineSharpness',\n    0xc62e: 'LinearResponseLimit',\n    0xc62f: 'CameraSerialNumber',\n    0xc630: 'DNGLensInfo',\n    0xc633: 'ShadowScale',\n    0xc635: {\n        name: 'MakerNoteSafety',\n        description: (value) => ({\n            0: 'Unsafe',\n            1: 'Safe'\n        })[value] || 'Unknown'\n    },\n    0xc65a: {\n        name: 'CalibrationIlluminant1',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65b: {\n        name: 'CalibrationIlluminant2',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65d: 'RawDataUniqueID',\n    0xc68b: 'OriginalRawFileName',\n    0xc68c: 'OriginalRawFileData',\n    0xc68f: 'AsShotICCProfile',\n    0xc690: 'AsShotPreProfileMatrix',\n    0xc691: 'CurrentICCProfile',\n    0xc692: 'CurrentPreProfileMatrix',\n    0xc6bf: 'ColorimetricReference',\n    0xc6c5: 'SRawType',\n    0xc6d2: 'PanasonicTitle',\n    0xc6d3: 'PanasonicTitle2',\n    0xc6f3: 'CameraCalibrationSig',\n    0xc6f4: 'ProfileCalibrationSig',\n    0xc6f5: 'ProfileIFD',\n    0xc6f6: 'AsShotProfileName',\n    0xc6f8: 'ProfileName',\n    0xc6f9: 'ProfileHueSatMapDims',\n    0xc6fa: 'ProfileHueSatMapData1',\n    0xc6fb: 'ProfileHueSatMapData2',\n    0xc6fc: 'ProfileToneCurve',\n    0xc6fd: {\n        name: 'ProfileEmbedPolicy',\n        description: (value) => ({\n            0: 'Allow Copying',\n            1: 'Embed if Used',\n            2: 'Never Embed',\n            3: 'No Restrictions'\n        })[value] || 'Unknown'\n    },\n    0xc6fe: 'ProfileCopyright',\n    0xc714: 'ForwardMatrix1',\n    0xc715: 'ForwardMatrix2',\n    0xc716: 'PreviewApplicationName',\n    0xc717: 'PreviewApplicationVersion',\n    0xc718: 'PreviewSettingsName',\n    0xc719: 'PreviewSettingsDigest',\n    0xc71a: {\n        name: 'PreviewColorSpace',\n        description: (value) => ({\n            1: 'Gray Gamma 2.2',\n            2: 'sRGB',\n            3: 'Adobe RGB',\n            4: 'ProPhoto RGB'\n        })[value] || 'Unknown'\n    },\n    0xc71b: 'PreviewDateTime',\n    0xc71c: 'RawImageDigest',\n    0xc71d: 'OriginalRawFileDigest',\n    0xc725: 'ProfileLookTableDims',\n    0xc726: 'ProfileLookTableData',\n    0xc763: 'TimeCodes',\n    0xc764: 'FrameRate',\n    0xc772: 'TStop',\n    0xc789: 'ReelName',\n    0xc791: 'OriginalDefaultFinalSize',\n    0xc792: 'OriginalBestQualitySize',\n    0xc793: 'OriginalDefaultCropSize',\n    0xc7a1: 'CameraLabel',\n    0xc7a3: {\n        name: 'ProfileHueSatMapEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a4: {\n        name: 'ProfileLookTableEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a5: 'BaselineExposureOffset',\n    0xc7a6: {\n        name: 'DefaultBlackRender',\n        description: (value) => ({\n            0: 'Auto',\n            1: 'None'\n        })[value] || 'Unknown'\n    },\n    0xc7a7: 'NewRawImageDigest',\n    0xc7a8: 'RawToPreviewGain'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getEncodedString, getCalculatedGpsValue} from './tag-names-utils.js';\n\nexport default {\n    0x0000: {\n        'name': 'GPSVersionID',\n        'description': (value) => {\n            if (value[0] === 2 && value[1] === 2 && value[2] === 0 && value[3] === 0) {\n                return 'Version 2.2';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0001: {\n        'name': 'GPSLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0002: {\n        'name': 'GPSLatitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0003: {\n        'name': 'GPSLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0004: {\n        'name': 'GPSLongitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0005: {\n        'name': 'GPSAltitudeRef',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Sea level';\n            } else if (value === 1) {\n                return 'Sea level reference (negative value)';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0006: {\n        'name': 'GPSAltitude',\n        'description': (value) => {\n            return (value[0] / value[1]) + ' m';\n        }\n    },\n    0x0007: {\n        'name': 'GPSTimeStamp',\n        'description': (values) => {\n            return values.map(([numerator, denominator]) => {\n                const num = numerator / denominator;\n                if (/^\\d(\\.|$)/.test(`${num}`)) {\n                    return `0${num}`;\n                }\n                return num;\n            }).join(':');\n        }\n    },\n    0x0008: 'GPSSatellites',\n    0x0009: {\n        'name': 'GPSStatus',\n        'description': (value) => {\n            const status = value.join('');\n            if (status === 'A') {\n                return 'Measurement in progress';\n            } else if (status === 'V') {\n                return 'Measurement Interoperability';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000a: {\n        'name': 'GPSMeasureMode',\n        'description': (value) => {\n            const mode = value.join('');\n            if (mode === '2') {\n                return '2-dimensional measurement';\n            } else if (mode === '3') {\n                return '3-dimensional measurement';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000b: 'GPSDOP',\n    0x000c: {\n        'name': 'GPSSpeedRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers per hour';\n            } else if (ref === 'M') {\n                return 'Miles per hour';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000d: 'GPSSpeed',\n    0x000e: {\n        'name': 'GPSTrackRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000f: 'GPSTrack',\n    0x0010: {\n        'name': 'GPSImgDirectionRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: {\n        'name': 'GPSDestLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0014: {\n        'name': 'GPSDestLatitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0015: {\n        'name': 'GPSDestLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0016: {\n        'name': 'GPSDestLongitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0017: {\n        'name': 'GPSDestBearingRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0018: 'GPSDestBearing',\n    0x0019: {\n        'name': 'GPSDestDistanceRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers';\n            } else if (ref === 'M') {\n                return 'Miles';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001a: 'GPSDestDistance',\n    0x001b: {\n        'name': 'GPSProcessingMethod',\n        'description': getEncodedString\n    },\n    0x001c: {\n        'name': 'GPSAreaInformation',\n        'description': getEncodedString\n    },\n    0x001d: 'GPSDateStamp',\n    0x001e: {\n        'name': 'GPSDifferential',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Measurement without differential correction';\n            } else if (value === 1) {\n                return 'Differential correction applied';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001f: 'GPSHPositioningError'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0x0001: 'InteroperabilityIndex',\n    0x0002: {\n        name: 'InteroperabilityVersion',\n        description: (value) => getStringValue(value)\n    },\n    0x1000: 'RelatedImageFileFormat',\n    0x1001: 'RelatedImageWidth',\n    0x1002: 'RelatedImageHeight'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0xb000: {\n        'name': 'MPFVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0xb001: 'NumberOfImages',\n    0xb002: 'MPEntry',\n    0xb003: 'ImageUIDList',\n    0xb004: 'TotalFrames'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {objectAssign} from './utils.js';\nimport Constants from './constants.js';\nimport TagNames0thIfd from './tag-names-0th-ifd.js';\nimport TagNamesExifIfd from './tag-names-exif-ifd.js';\nimport TagNamesGpsIfd from './tag-names-gps-ifd.js';\nimport TagNamesInteroperabilityIfd from './tag-names-interoperability-ifd.js';\nimport TagNamesMpfIfd from './tag-names-mpf-ifd.js';\n\nconst tagNames0thExifIfds = objectAssign({}, TagNames0thIfd, TagNamesExifIfd);\n\nexport default {\n    '0th': tagNames0thExifIfds,\n    'exif': tagNames0thExifIfds,\n    'gps': TagNamesGpsIfd,\n    'interoperability': TagNamesInteroperabilityIfd,\n    'mpf': Constants.USE_MPF ? TagNamesMpfIfd : {},\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue, getEncodedString} from './tag-names-utils.js';\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x829a: {\n        'name': 'ExposureTime',\n        'description': TagNamesCommon.ExposureTime\n    },\n    0x829d: {\n        'name': 'FNumber',\n        'description': TagNamesCommon.FNumber\n    },\n    0x8822: {\n        'name': 'ExposureProgram',\n        'description': TagNamesCommon.ExposureProgram\n    },\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: {\n        'name': 'OECF',\n        'description': () => '[Raw OECF table data]'\n    },\n    0x882a: 'TimeZoneOffset',\n    0x882b: 'SelfTimerMode',\n    0x8830: {\n        name: 'SensitivityType',\n        description: (value) => ({\n            1: 'Standard Output Sensitivity',\n            2: 'Recommended Exposure Index',\n            3: 'ISO Speed',\n            4: 'Standard Output Sensitivity and Recommended Exposure Index',\n            5: 'Standard Output Sensitivity and ISO Speed',\n            6: 'Recommended Exposure Index and ISO Speed',\n            7: 'Standard Output Sensitivity, Recommended Exposure Index and ISO Speed'\n        })[value] || 'Unknown'\n    },\n    0x8831: 'StandardOutputSensitivity',\n    0x8832: 'RecommendedExposureIndex',\n    0x8833: 'ISOSpeed',\n    0x8834: 'ISOSpeedLatitudeyyy',\n    0x8835: 'ISOSpeedLatitudezzz',\n    0x9000: {\n        'name': 'ExifVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9009: 'GooglePlusUploadCode',\n    0x9010: 'OffsetTime',\n    0x9011: 'OffsetTimeOriginal',\n    0x9012: 'OffsetTimeDigitized',\n    0x9101: {\n        'name': 'ComponentsConfiguration',\n        'description': TagNamesCommon.ComponentsConfiguration\n    },\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: {\n        'name': 'ShutterSpeedValue',\n        'description': TagNamesCommon.ShutterSpeedValue\n    },\n    0x9202: {\n        'name': 'ApertureValue',\n        'description': TagNamesCommon.ApertureValue\n    },\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: {\n        'name': 'MaxApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9206: {\n        'name': 'SubjectDistance',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9207: {\n        'name': 'MeteringMode',\n        'description': TagNamesCommon.MeteringMode\n    },\n    0x9208: {\n        'name': 'LightSource',\n        description: TagNamesCommon.LightSource\n    },\n    0x9209: {\n        'name': 'Flash',\n        'description': (value) => {\n            if (value === 0x00) {\n                return 'Flash did not fire';\n            } else if (value === 0x01) {\n                return 'Flash fired';\n            } else if (value === 0x05) {\n                return 'Strobe return light not detected';\n            } else if (value === 0x07) {\n                return 'Strobe return light detected';\n            } else if (value === 0x09) {\n                return 'Flash fired, compulsory flash mode';\n            } else if (value === 0x0d) {\n                return 'Flash fired, compulsory flash mode, return light not detected';\n            } else if (value === 0x0f) {\n                return 'Flash fired, compulsory flash mode, return light detected';\n            } else if (value === 0x10) {\n                return 'Flash did not fire, compulsory flash mode';\n            } else if (value === 0x18) {\n                return 'Flash did not fire, auto mode';\n            } else if (value === 0x19) {\n                return 'Flash fired, auto mode';\n            } else if (value === 0x1d) {\n                return 'Flash fired, auto mode, return light not detected';\n            } else if (value === 0x1f) {\n                return 'Flash fired, auto mode, return light detected';\n            } else if (value === 0x20) {\n                return 'No flash function';\n            } else if (value === 0x41) {\n                return 'Flash fired, red-eye reduction mode';\n            } else if (value === 0x45) {\n                return 'Flash fired, red-eye reduction mode, return light not detected';\n            } else if (value === 0x47) {\n                return 'Flash fired, red-eye reduction mode, return light detected';\n            } else if (value === 0x49) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode';\n            } else if (value === 0x4d) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected';\n            } else if (value === 0x4f) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected';\n            } else if (value === 0x59) {\n                return 'Flash fired, auto mode, red-eye reduction mode';\n            } else if (value === 0x5d) {\n                return 'Flash fired, auto mode, return light not detected, red-eye reduction mode';\n            } else if (value === 0x5f) {\n                return 'Flash fired, auto mode, return light detected, red-eye reduction mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x920a: {\n        'name': 'FocalLength',\n        'description': TagNamesCommon.FocalLength\n    },\n    0x9211: 'ImageNumber',\n    0x9212: {\n        name: 'SecurityClassification',\n        description: (value) => ({\n            'C': 'Confidential',\n            'R': 'Restricted',\n            'S': 'Secret',\n            'T': 'Top Secret',\n            'U': 'Unclassified'\n        })[value] || 'Unknown'\n    },\n    0x9213: 'ImageHistory',\n    0x9214: {\n        'name': 'SubjectArea',\n        'description': (value) => {\n            if (value.length === 2) {\n                return `Location; X: ${value[0]}, Y: ${value[1]}`;\n            } else if (value.length === 3) {\n                return `Circle; X: ${value[0]}, Y: ${value[1]}, diameter: ${value[2]}`;\n            } else if (value.length === 4) {\n                return `Rectangle; X: ${value[0]}, Y: ${value[1]}, width: ${value[2]}, height: ${value[3]}`;\n            }\n            return 'Unknown';\n        }\n    },\n    0x927c: {\n        'name': 'MakerNote',\n        'description': () => '[Raw maker note data]'\n    },\n    0x9286: {\n        'name': 'UserComment',\n        'description': getEncodedString\n    },\n    0x9290: 'SubSecTime',\n    0x9291: 'SubSecTimeOriginal',\n    0x9292: 'SubSecTimeDigitized',\n    0x9400: {\n        'name': 'AmbientTemperature',\n        'description': (value) => (value[0] / value[1]) + ' C'\n    },\n    0x9401: {\n        'name': 'Humidity',\n        'description': (value) => (value[0] / value[1]) + ' %'\n    },\n    0x9402: {\n        'name': 'Pressure',\n        'description': (value) => (value[0] / value[1]) + ' hPa'\n    },\n    0x9403: {\n        'name': 'WaterDepth',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9404: {\n        'name': 'Acceleration',\n        'description': (value) => (value[0] / value[1]) + ' mGal'\n    },\n    0x9405: {\n        'name': 'CameraElevationAngle',\n        'description': (value) => (value[0] / value[1]) + ' '\n    },\n    0xa000: {\n        'name': 'FlashpixVersion',\n        'description': (value) => value.map((charCode) => String.fromCharCode(charCode)).join('')\n    },\n    0xa001: {\n        'name': 'ColorSpace',\n        'description': TagNamesCommon.ColorSpace\n    },\n    0xa002: 'PixelXDimension',\n    0xa003: 'PixelYDimension',\n    0xa004: 'RelatedSoundFile',\n    0xa005: 'Interoperability IFD Pointer',\n    0xa20b: 'FlashEnergy',\n    0xa20c: {\n        'name': 'SpatialFrequencyResponse',\n        'description': () => '[Raw SFR table data]'\n    },\n    0xa20e: 'FocalPlaneXResolution',\n    0xa20f: 'FocalPlaneYResolution',\n    0xa210: {\n        'name': 'FocalPlaneResolutionUnit',\n        'description': TagNamesCommon.FocalPlaneResolutionUnit\n    },\n    0xa214: {\n        'name': 'SubjectLocation',\n        'description': ([x, y]) => `X: ${x}, Y: ${y}`\n    },\n    0xa215: 'ExposureIndex',\n    0xa217: {\n        'name': 'SensingMethod',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Undefined';\n            } else if (value === 2) {\n                return 'One-chip color area sensor';\n            } else if (value === 3) {\n                return 'Two-chip color area sensor';\n            } else if (value === 4) {\n                return 'Three-chip color area sensor';\n            } else if (value === 5) {\n                return 'Color sequential area sensor';\n            } else if (value === 7) {\n                return 'Trilinear sensor';\n            } else if (value === 8) {\n                return 'Color sequential linear sensor';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa300: {\n        'name': 'FileSource',\n        'description': (value) => {\n            if (value === 3) {\n                return 'DSC';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa301: {\n        'name': 'SceneType',\n        'description': (value) => {\n            if (value === 1) {\n                return 'A directly photographed image';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa302: {\n        'name': 'CFAPattern',\n        'description': () => '[Raw CFA pattern table data]'\n    },\n    0xa401: {\n        'name': 'CustomRendered',\n        'description': TagNamesCommon.CustomRendered\n    },\n    0xa402: {\n        'name': 'ExposureMode',\n        'description': TagNamesCommon.ExposureMode\n    },\n    0xa403: {\n        'name': 'WhiteBalance',\n        'description': TagNamesCommon.WhiteBalance\n    },\n    0xa404: {\n        'name': 'DigitalZoomRatio',\n        'description': (value) => {\n            if (value[0] === 0) {\n                return 'Digital zoom was not used';\n            }\n            return '' + (value[0] / value[1]);\n        }\n    },\n    0xa405: {\n        'name': 'FocalLengthIn35mmFilm',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Unknown';\n            }\n            return value;\n        }\n    },\n    0xa406: {\n        'name': 'SceneCaptureType',\n        'description': TagNamesCommon.SceneCaptureType\n    },\n    0xa407: {\n        'name': 'GainControl',\n        'description': (value) => {\n            if (value === 0) {\n                return 'None';\n            } else if (value === 1) {\n                return 'Low gain up';\n            } else if (value === 2) {\n                return 'High gain up';\n            } else if (value === 3) {\n                return 'Low gain down';\n            } else if (value === 4) {\n                return 'High gain down';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa408: {\n        'name': 'Contrast',\n        'description': TagNamesCommon.Contrast\n    },\n    0xa409: {\n        'name': 'Saturation',\n        'description': TagNamesCommon.Saturation\n    },\n    0xa40a: {\n        'name': 'Sharpness',\n        'description': TagNamesCommon.Sharpness\n    },\n    0xa40b: {\n        'name': 'DeviceSettingDescription',\n        'description': () => '[Raw device settings table data]'\n    },\n    0xa40c: {\n        'name': 'SubjectDistanceRange',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Macro';\n            } else if (value === 2) {\n                return 'Close view';\n            } else if (value === 3) {\n                return 'Distant view';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa420: 'ImageUniqueID',\n    0xa430: 'CameraOwnerName',\n    0xa431: 'BodySerialNumber',\n    0xa432: {\n        'name': 'LensSpecification',\n        'description': (value) => {\n            const focalLengths = `${value[0][0] / value[0][1]}-${value[1][0] / value[1][1]} mm`;\n            if (value[3][1] === 0) {\n                return `${focalLengths} f/?`;\n            }\n            return `${focalLengths} f/${1 / ((value[2][1] / value[2][1]) / (value[3][0] / value[3][1]))}`;\n        }\n    },\n    0xa433: 'LensMake',\n    0xa434: 'LensModel',\n    0xa435: 'LensSerialNumber',\n    0xa460: {\n        name: 'CompositeImage',\n        description: (value) => ({\n            1: 'Not a Composite Image',\n            2: 'General Composite Image',\n            3: 'Composite Image Captured While Shooting',\n        })[value] || 'Unknown'\n    },\n    0xa461: 'SourceImageNumberOfCompositeImage',\n    0xa462: 'SourceExposureTimesOfCompositeImage',\n    0xa500: 'Gamma',\n    0xea1c: 'Padding',\n    0xea1d: 'OffsetSchema',\n    0xfde8: 'OwnerName',\n    0xfde9: 'SerialNumber',\n    0xfdea: 'Lens',\n    0xfe4c: 'RawFile',\n    0xfe4d: 'Converter',\n    0xfe4e: 'WhiteBalance',\n    0xfe51: 'Exposure',\n    0xfe52: 'Shadows',\n    0xfe53: 'Brightness',\n    0xfe54: 'Contrast',\n    0xfe55: 'Saturation',\n    0xfe56: 'Sharpness',\n    0xfe57: 'Smoothness',\n    0xfe58: 'MoireFilter'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport {objectAssign} from './utils.js';\nimport ByteOrder from './byte-order.js';\nimport Types from './types.js';\nimport TagNames from './tag-names.js';\nimport {deferInit, getBase64Image} from './utils.js';\n\nconst EXIF_IFD_POINTER_KEY = 'Exif IFD Pointer';\nconst GPS_INFO_IFD_POINTER_KEY = 'GPS Info IFD Pointer';\nconst INTEROPERABILITY_IFD_POINTER_KEY = 'Interoperability IFD Pointer';\n\nconst getTagValueAt = {\n    1: Types.getByteAt,\n    2: Types.getAsciiAt,\n    3: Types.getShortAt,\n    4: Types.getLongAt,\n    5: Types.getRationalAt,\n    7: Types.getUndefinedAt,\n    9: Types.getSlongAt,\n    10: Types.getSrationalAt,\n    13: Types.getIfdPointerAt\n};\n\nexport default {\n    read,\n    readMpf\n};\n\nfunction read(dataView, tiffHeaderOffset, includeUnknown) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, tiffHeaderOffset);\n    let tags = read0thIfd(dataView, tiffHeaderOffset, byteOrder, includeUnknown);\n    tags = readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown);\n    tags = readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown);\n    tags = readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown);\n\n    return tags;\n}\n\nfunction read0thIfd(dataView, tiffHeaderOffset, byteOrder, includeUnknown) {\n    return readIfd(dataView, '0th', tiffHeaderOffset, get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder), byteOrder, includeUnknown);\n}\n\nfunction get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder) {\n    return tiffHeaderOffset + Types.getLongAt(dataView, tiffHeaderOffset + 4, byteOrder);\n}\n\nfunction readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown) {\n    if (tags[EXIF_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'exif', tiffHeaderOffset, tiffHeaderOffset + tags[EXIF_IFD_POINTER_KEY].value, byteOrder, includeUnknown));\n    }\n\n    return tags;\n}\n\nfunction readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown) {\n    if (tags[GPS_INFO_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'gps', tiffHeaderOffset, tiffHeaderOffset + tags[GPS_INFO_IFD_POINTER_KEY].value, byteOrder, includeUnknown));\n    }\n\n    return tags;\n}\n\nfunction readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder, includeUnknown) {\n    if (tags[INTEROPERABILITY_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'interoperability', tiffHeaderOffset, tiffHeaderOffset + tags[INTEROPERABILITY_IFD_POINTER_KEY].value, byteOrder, includeUnknown));\n    }\n\n    return tags;\n}\n\nfunction readMpf(dataView, dataOffset, includeUnknown) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, dataOffset);\n    const tags = readIfd(dataView, 'mpf', dataOffset, get0thIfdOffset(dataView, dataOffset, byteOrder), byteOrder, includeUnknown);\n    return addMpfImages(dataView, dataOffset, tags, byteOrder);\n}\n\nfunction addMpfImages(dataView, dataOffset, tags, byteOrder) {\n    const ENTRY_SIZE = 16;\n\n    if (!tags['MPEntry']) {\n        return tags;\n    }\n\n    const images = [];\n    for (let i = 0; i < Math.ceil(tags['MPEntry'].value.length / ENTRY_SIZE); i++) {\n        images[i] = {};\n\n        const attributes = getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE, Types.getTypeSize('LONG'), byteOrder);\n        images[i]['ImageFlags'] = getImageFlags(attributes);\n        images[i]['ImageFormat'] = getImageFormat(attributes);\n        images[i]['ImageType'] = getImageType(attributes);\n\n        const imageSize = getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 4, Types.getTypeSize('LONG'), byteOrder);\n        images[i]['ImageSize'] = {\n            value: imageSize,\n            description: '' + imageSize\n        };\n\n        const imageOffset = isFirstIndividualImage(i) ? 0 : getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 8, Types.getTypeSize('LONG'), byteOrder) + dataOffset;\n        images[i]['ImageOffset'] = {\n            value: imageOffset,\n            description: '' + imageOffset\n        };\n\n        const dependentImage1EntryNumber =\n            getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 12, Types.getTypeSize('SHORT'), byteOrder);\n        images[i]['DependentImage1EntryNumber'] = {\n            value: dependentImage1EntryNumber,\n            description: '' + dependentImage1EntryNumber\n        };\n\n        const dependentImage2EntryNumber =\n            getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 14, Types.getTypeSize('SHORT'), byteOrder);\n        images[i]['DependentImage2EntryNumber'] = {\n            value: dependentImage2EntryNumber,\n            description: '' + dependentImage2EntryNumber\n        };\n\n        images[i].image = dataView.buffer.slice(imageOffset, imageOffset + imageSize);\n        deferInit(images[i], 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    tags['Images'] = images;\n\n    return tags;\n}\n\nfunction getImageNumberValue(entries, offset, size, byteOrder) {\n    if (byteOrder === ByteOrder.LITTLE_ENDIAN) {\n        let value = 0;\n        for (let i = 0; i < size; i++) {\n            value += entries[offset + i] << (8 * i);\n        }\n        return value;\n    }\n\n    let value = 0;\n    for (let i = 0; i < size; i++) {\n        value += entries[offset + i] << (8 * (size - 1 - i));\n    }\n    return value;\n}\n\nfunction getImageFlags(attributes) {\n    const flags = [\n        (attributes >> 31) & 0x1,\n        (attributes >> 30) & 0x1,\n        (attributes >> 29) & 0x1\n    ];\n\n    const flagsDescription = [];\n\n    if (flags[0]) {\n        flagsDescription.push('Dependent Parent Image');\n    }\n    if (flags[1]) {\n        flagsDescription.push('Dependent Child Image');\n    }\n    if (flags[2]) {\n        flagsDescription.push('Representative Image');\n    }\n\n    return {\n        value: flags,\n        description: flagsDescription.join(', ') || 'None'\n    };\n}\n\nfunction getImageFormat(attributes) {\n    const imageFormat = attributes >> 24 & 0x7;\n    return {\n        value: imageFormat,\n        description: imageFormat === 0 ? 'JPEG' : 'Unknown'\n    };\n}\n\nfunction getImageType(attributes) {\n    const type = attributes & 0xffffff;\n    const descriptions = {\n        0x30000: 'Baseline MP Primary Image',\n        0x10001: 'Large Thumbnail (VGA equivalent)',\n        0x10002: 'Large Thumbnail (Full HD equivalent)',\n        0x20001: 'Multi-Frame Image (Panorama)',\n        0x20002: 'Multi-Frame Image (Disparity)',\n        0x20003: 'Multi-Frame Image (Multi-Angle)',\n        0x0: 'Undefined',\n    };\n\n    return {\n        value: type,\n        description: descriptions[type] || 'Unknown'\n    };\n}\n\nfunction isFirstIndividualImage(i) {\n    return i === 0;\n}\n\nfunction readIfd(dataView, ifdType, tiffHeaderOffset, offset, byteOrder, includeUnknown) {\n    const FIELD_COUNT_SIZE = Types.getTypeSize('SHORT');\n    const FIELD_SIZE = 12;\n\n    const tags = {};\n    const numberOfFields = getNumberOfFields(dataView, offset, byteOrder);\n\n    offset += FIELD_COUNT_SIZE;\n    for (let fieldIndex = 0; fieldIndex < numberOfFields; fieldIndex++) {\n        if (offset + FIELD_SIZE > dataView.byteLength) {\n            break;\n        }\n\n        const tag = readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder, includeUnknown);\n        if (tag !== undefined) {\n            tags[tag.name] = {\n                'id': tag.id,\n                'value': tag.value,\n                'description': tag.description\n            };\n        }\n\n        offset += FIELD_SIZE;\n    }\n\n    if (Constants.USE_THUMBNAIL && (offset < dataView.byteLength - Types.getTypeSize('LONG'))) {\n        const nextIfdOffset = Types.getLongAt(dataView, offset, byteOrder);\n        if (nextIfdOffset !== 0) {\n            tags['Thumbnail'] = readIfd(dataView, ifdType, tiffHeaderOffset, tiffHeaderOffset + nextIfdOffset, byteOrder, true);\n        }\n    }\n\n    return tags;\n}\n\nfunction getNumberOfFields(dataView, offset, byteOrder) {\n    if (offset + Types.getTypeSize('SHORT') <= dataView.byteLength) {\n        return Types.getShortAt(dataView, offset, byteOrder);\n    }\n    return 0;\n}\n\nfunction readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder, includeUnknown) {\n    const TAG_CODE_IPTC_NAA = 0x83bb;\n    const TAG_TYPE_OFFSET = Types.getTypeSize('SHORT');\n    const TAG_COUNT_OFFSET = TAG_TYPE_OFFSET + Types.getTypeSize('SHORT');\n    const TAG_VALUE_OFFSET = TAG_COUNT_OFFSET + Types.getTypeSize('LONG');\n\n    const tagCode = Types.getShortAt(dataView, offset, byteOrder);\n    const tagType = Types.getShortAt(dataView, offset + TAG_TYPE_OFFSET, byteOrder);\n    const tagCount = Types.getLongAt(dataView, offset + TAG_COUNT_OFFSET, byteOrder);\n    let tagValue;\n\n    if (Types.typeSizes[tagType] === undefined || (!includeUnknown && TagNames[ifdType][tagCode] === undefined)) {\n        return undefined;\n    }\n\n    if (tagValueFitsInOffsetSlot(tagType, tagCount)) {\n        tagValue = getTagValue(dataView, offset + TAG_VALUE_OFFSET, tagType, tagCount, byteOrder);\n    } else {\n        const tagValueOffset = Types.getLongAt(dataView, offset + TAG_VALUE_OFFSET, byteOrder);\n        if (tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount)) {\n            const forceByteType = tagCode === TAG_CODE_IPTC_NAA;\n            tagValue = getTagValue(dataView, tiffHeaderOffset + tagValueOffset, tagType, tagCount, byteOrder, forceByteType);\n        } else {\n            tagValue = '<faulty value>';\n        }\n    }\n\n    if (tagType === Types.tagTypes['ASCII']) {\n        tagValue = splitNullSeparatedAsciiString(tagValue);\n        tagValue = decodeAsciiValue(tagValue);\n    }\n\n    let tagName = `undefined-${tagCode}`;\n    let tagDescription = tagValue;\n\n    if (TagNames[ifdType][tagCode] !== undefined) {\n        if ((TagNames[ifdType][tagCode]['name'] !== undefined) && (TagNames[ifdType][tagCode]['description'] !== undefined)) {\n            tagName = TagNames[ifdType][tagCode]['name'];\n            try {\n                tagDescription = TagNames[ifdType][tagCode]['description'](tagValue);\n            } catch (error) {\n                tagDescription = getDescriptionFromTagValue(tagValue);\n            }\n        } else if ((tagType === Types.tagTypes['RATIONAL']) || (tagType === Types.tagTypes['SRATIONAL'])) {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = '' + (tagValue[0] / tagValue[1]);\n        } else {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = getDescriptionFromTagValue(tagValue);\n        }\n    }\n\n    return {\n        id: tagCode,\n        name: tagName,\n        value: tagValue,\n        description: tagDescription\n    };\n}\n\nfunction tagValueFitsInOffsetSlot(tagType, tagCount) {\n    return Types.typeSizes[tagType] * tagCount <= Types.getTypeSize('LONG');\n}\n\nfunction getTagValue(dataView, offset, type, count, byteOrder, forceByteType = false) {\n    let value = [];\n\n    if (forceByteType) {\n        count = count * Types.typeSizes[type];\n        type = Types.tagTypes['BYTE'];\n    }\n    for (let valueIndex = 0; valueIndex < count; valueIndex++) {\n        value.push(getTagValueAt[type](dataView, offset, byteOrder));\n        offset += Types.typeSizes[type];\n    }\n\n    if (type === Types.tagTypes['ASCII']) {\n        value = Types.getAsciiValue(value);\n    } else if (value.length === 1) {\n        value = value[0];\n    }\n\n    return value;\n}\n\nfunction tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount) {\n    return tiffHeaderOffset + tagValueOffset + Types.typeSizes[tagType] * tagCount <= dataView.byteLength;\n}\n\nfunction splitNullSeparatedAsciiString(string) {\n    const tagValue = [];\n    let i = 0;\n\n    for (let j = 0; j < string.length; j++) {\n        if (string[j] === '\\x00') {\n            i++;\n            continue;\n        }\n        if (tagValue[i] === undefined) {\n            tagValue[i] = '';\n        }\n        tagValue[i] += string[j];\n    }\n\n    return tagValue;\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return asciiValue.map((value) => decodeURIComponent(escape(value)));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n\nfunction getDescriptionFromTagValue(tagValue) {\n    if (tagValue instanceof Array) {\n        return tagValue.join(', ');\n    }\n    return tagValue;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    const length = getLength(dataView, fileDataOffset);\n    const numberOfColorComponents = getNumberOfColorComponents(dataView, fileDataOffset, length);\n    return {\n        'Bits Per Sample': getDataPrecision(dataView, fileDataOffset, length),\n        'Image Height': getImageHeight(dataView, fileDataOffset, length),\n        'Image Width': getImageWidth(dataView, fileDataOffset, length),\n        'Color Components': numberOfColorComponents,\n        'Subsampling': numberOfColorComponents && getSubsampling(dataView, fileDataOffset, numberOfColorComponents.value, length)\n    };\n}\n\nfunction getLength(dataView, fileDataOffset) {\n    return Types.getShortAt(dataView, fileDataOffset);\n}\n\nfunction getDataPrecision(dataView, fileDataOffset, length) {\n    const OFFSET = 2;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset, length) {\n    const OFFSET = 3;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset, length) {\n    const OFFSET = 5;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getNumberOfColorComponents(dataView, fileDataOffset, length) {\n    const OFFSET = 7;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getSubsampling(dataView, fileDataOffset, numberOfColorComponents, length) {\n    const OFFSET = 8;\n    const SIZE = 3 * numberOfColorComponents;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const components = [];\n\n    for (let i = 0; i < numberOfColorComponents; i++) {\n        const componentOffset = fileDataOffset + OFFSET + i * 3;\n        components.push([\n            Types.getByteAt(dataView, componentOffset),\n            Types.getByteAt(dataView, componentOffset + 1),\n            Types.getByteAt(dataView, componentOffset + 2)\n        ]);\n    }\n\n    return {\n        value: components,\n        description: components.length > 1 ? getComponentIds(components) + getSamplingType(components) : ''\n    };\n}\n\nfunction getComponentIds(components) {\n    const ids = {\n        0x01: 'Y',\n        0x02: 'Cb',\n        0x03: 'Cr',\n        0x04: 'I',\n        0x05: 'Q',\n    };\n\n    return components.map((compontent) => ids[compontent[0]]).join('');\n}\n\nfunction getSamplingType(components) {\n    const types = {\n        0x11: '4:4:4 (1 1)',\n        0x12: '4:4:0 (1 2)',\n        0x14: '4:4:1 (1 4)',\n        0x21: '4:2:2 (2 1)',\n        0x22: '4:2:0 (2 2)',\n        0x24: '4:2:1 (2 4)',\n        0x41: '4:1:1 (4 1)',\n        0x42: '4:1:0 (4 2)'\n    };\n\n    if (components.length === 0 || components[0][1] === undefined || types[components[0][1]] === undefined) {\n        return '';\n    }\n\n    return types[components[0][1]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, jfifDataOffset) {\n    const length = getLength(dataView, jfifDataOffset);\n    const thumbnailWidth = getThumbnailWidth(dataView, jfifDataOffset, length);\n    const thumbnailHeight = getThumbnailHeight(dataView, jfifDataOffset, length);\n    const tags = {\n        'JFIF Version': getVersion(dataView, jfifDataOffset, length),\n        'Resolution Unit': getResolutionUnit(dataView, jfifDataOffset, length),\n        'XResolution': getXResolution(dataView, jfifDataOffset, length),\n        'YResolution': getYResolution(dataView, jfifDataOffset, length),\n        'JFIF Thumbnail Width': thumbnailWidth,\n        'JFIF Thumbnail Height': thumbnailHeight\n    };\n\n    if (thumbnailWidth !== undefined && thumbnailHeight !== undefined) {\n        const thumbnail = getThumbnail(dataView, jfifDataOffset, 3 * thumbnailWidth.value * thumbnailHeight.value, length);\n        if (thumbnail) {\n            tags['JFIF Thumbnail'] = thumbnail;\n        }\n    }\n\n    for (const tagName in tags) {\n        if (tags[tagName] === undefined) {\n            delete tags[tagName];\n        }\n    }\n\n    return tags;\n}\n\nfunction getLength(dataView, jfifDataOffset) {\n    return Types.getShortAt(dataView, jfifDataOffset);\n}\n\nfunction getVersion(dataView, jfifDataOffset, length) {\n    const OFFSET = 7;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const majorVersion = Types.getByteAt(dataView, jfifDataOffset + OFFSET);\n    const minorVersion = Types.getByteAt(dataView, jfifDataOffset + OFFSET + 1);\n    return {\n        value: majorVersion * 0x100 + minorVersion,\n        description: majorVersion + '.' + minorVersion\n    };\n}\n\nfunction getResolutionUnit(dataView, jfifDataOffset, length) {\n    const OFFSET = 9;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, jfifDataOffset + OFFSET);\n    return {\n        value,\n        description: getResolutionUnitDescription(value)\n    };\n}\n\nfunction getResolutionUnitDescription(value) {\n    if (value === 0) {\n        return 'None';\n    }\n    if (value === 1) {\n        return 'inches';\n    }\n    if (value === 2) {\n        return 'cm';\n    }\n    return 'Unknown';\n}\n\nfunction getXResolution(dataView, jfifDataOffset, length) {\n    const OFFSET = 10;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, jfifDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getYResolution(dataView, jfifDataOffset, length) {\n    const OFFSET = 12;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, jfifDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getThumbnailWidth(dataView, jfifDataOffset, length) {\n    const OFFSET = 14;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, jfifDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getThumbnailHeight(dataView, jfifDataOffset, length) {\n    const OFFSET = 15;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, jfifDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getThumbnail(dataView, jfifDataOffset, thumbnailLength, length) {\n    const OFFSET = 16;\n\n    if (thumbnailLength === 0 || OFFSET + thumbnailLength > length) {\n        return undefined;\n    }\n\n    const value = dataView.buffer.slice(jfifDataOffset + OFFSET, jfifDataOffset + OFFSET + thumbnailLength);\n    return {\n        value,\n        description: '<24-bit RGB pixel data>'\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    'iptc': {\n        0x0100: {\n            'name': 'Model Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0105: {\n            'name': 'Destination',\n            'repeatable': true\n        },\n        0x0114: {\n            'name': 'File Format',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0116: {\n            'name': 'File Format Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x011e: 'Service Identifier',\n        0x0128: 'Envelope Number',\n        0x0132: 'Product ID',\n        0x013c: 'Envelope Priority',\n        0x0146: {\n            'name': 'Date Sent',\n            'description': getCreationDate\n        },\n        0x0150: {\n            'name': 'Time Sent',\n            'description': getCreationTime\n        },\n        0x015a: {\n            'name': 'Coded Character Set',\n            'description': getEncodingName,\n            'encoding_name': getEncodingName,\n        },\n        0x0164: 'UNO',\n        0x0178: {\n            'name': 'ARM Identifier',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x017a: {\n            'name': 'ARM Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0200: {\n            'name': 'Record Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0203: 'Object Type Reference',\n        0x0204: 'Object Attribute Reference',\n        0x0205: 'Object Name',\n        0x0207: 'Edit Status',\n        0x0208: {\n            'name': 'Editorial Update',\n            'description': (value) => {\n                if (getStringValue(value) === '01') {\n                    return 'Additional Language';\n                }\n                return 'Unknown';\n            }\n        },\n        0x020a: 'Urgency',\n        0x020c: {\n            'name': 'Subject Reference',\n            'repeatable': true,\n            'description': (value) => {\n                const parts = getStringValue(value).split(':');\n                return parts[2] + (parts[3] ? '/' + parts[3] : '') + (parts[4] ? '/' + parts[4] : '');\n            }\n        },\n        0x020f: 'Category',\n        0x0214: {\n            'name': 'Supplemental Category',\n            'repeatable': true\n        },\n        0x0216: 'Fixture Identifier',\n        0x0219: {\n            'name': 'Keywords',\n            'repeatable': true\n        },\n        0x021a: {\n            'name': 'Content Location Code',\n            'repeatable': true\n        },\n        0x021b: {\n            'name': 'Content Location Name',\n            'repeatable': true\n        },\n        0x021e: 'Release Date',\n        0x0223: 'Release Time',\n        0x0225: 'Expiration Date',\n        0x0226: 'Expiration Time',\n        0x0228: 'Special Instructions',\n        0x022a: {\n            'name': 'Action Advised',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '01') {\n                    return 'Object Kill';\n                } else if (string === '02') {\n                    return 'Object Replace';\n                } else if (string === '03') {\n                    return 'Object Append';\n                } else if (string === '04') {\n                    return 'Object Reference';\n                }\n                return 'Unknown';\n            }\n        },\n        0x022d: {\n            'name': 'Reference Service',\n            'repeatable': true\n        },\n        0x022f: {\n            'name': 'Reference Date',\n            'repeatable': true\n        },\n        0x0232: {\n            'name': 'Reference Number',\n            'repeatable': true\n        },\n        0x0237: {\n            'name': 'Date Created',\n            'description': getCreationDate\n        },\n        0x023c: {\n            'name': 'Time Created',\n            'description': getCreationTime\n        },\n        0x023e: {\n            'name': 'Digital Creation Date',\n            'description': getCreationDate\n        },\n        0x023f: {\n            'name': 'Digital Creation Time',\n            'description': getCreationTime\n        },\n        0x0241: 'Originating Program',\n        0x0246: 'Program Version',\n        0x024b: {\n            'name': 'Object Cycle',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'a') {\n                    return 'morning';\n                } else if (string === 'p') {\n                    return 'evening';\n                } else if (string === 'b') {\n                    return 'both';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0250: {\n            'name': 'By-line',\n            'repeatable': true\n        },\n        0x0255: {\n            'name': 'By-line Title',\n            'repeatable': true\n        },\n        0x025a: 'City',\n        0x025c: 'Sub-location',\n        0x025f: 'Province/State',\n        0x0264: 'Country/Primary Location Code',\n        0x0265: 'Country/Primary Location Name',\n        0x0267: 'Original Transmission Reference',\n        0x0269: 'Headline',\n        0x026e: 'Credit',\n        0x0273: 'Source',\n        0x0274: 'Copyright Notice',\n        0x0276: {\n            'name': 'Contact',\n            'repeatable': true\n        },\n        0x0278: 'Caption/Abstract',\n        0x027a: {\n            'name': 'Writer/Editor',\n            'repeatable': true\n        },\n        0x027d: {\n            'name': 'Rasterized Caption',\n            'description': (value) => value\n        },\n        0x0282: 'Image Type',\n        0x0283: {\n            'name': 'Image Orientation',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'P') {\n                    return 'Portrait';\n                } else if (string === 'L') {\n                    return 'Landscape';\n                } else if (string === 'S') {\n                    return 'Square';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0287: 'Language Identifier',\n        0x0296: {\n            'name': 'Audio Type',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                const character0 = stringValue.charAt(0);\n                const character1 = stringValue.charAt(1);\n                let description = '';\n\n                if (character0 === '1') {\n                    description += 'Mono';\n                } else if (character0 === '2') {\n                    description += 'Stereo';\n                }\n\n                if (character1 === 'A') {\n                    description += ', actuality';\n                } else if (character1 === 'C') {\n                    description += ', question and answer session';\n                } else if (character1 === 'M') {\n                    description += ', music, transmitted by itself';\n                } else if (character1 === 'Q') {\n                    description += ', response to a question';\n                } else if (character1 === 'R') {\n                    description += ', raw sound';\n                } else if (character1 === 'S') {\n                    description += ', scener';\n                } else if (character1 === 'V') {\n                    description += ', voicer';\n                } else if (character1 === 'W') {\n                    description += ', wrap';\n                }\n\n                if (description !== '') {\n                    return description;\n                }\n                return stringValue;\n            }\n        },\n        0x0297: {\n            'name': 'Audio Sampling Rate',\n            'description': (value) => parseInt(getStringValue(value), 10) + ' Hz'\n        },\n        0x0298: {\n            'name': 'Audio Sampling Resolution',\n            'description': (value) => {\n                const bits = parseInt(getStringValue(value), 10);\n                return bits + (bits === 1 ? ' bit' : ' bits');\n            }\n        },\n        0x0299: {\n            'name': 'Audio Duration',\n            'description': (value) => {\n                const duration = getStringValue(value);\n                if (duration.length >= 6) {\n                    return duration.substr(0, 2) + ':' + duration.substr(2, 2) + ':' + duration.substr(4, 2);\n                }\n                return duration;\n            }\n        },\n        0x029a: 'Audio Outcue',\n        0x02ba: 'Short Document ID',\n        0x02bb: 'Unique Document ID',\n        0x02bc: 'Owner ID',\n        0x02c8: {\n            'name': (value) => {\n                if (value.length === 2) {\n                    return 'ObjectData Preview File Format';\n                }\n                return 'Record 2 destination';\n            },\n            'description': (value) => {\n                if (value.length === 2) {\n                    const intValue = (value[0] << 8) + value[1];\n                    if (intValue === 0) {\n                        return 'No ObjectData';\n                    } else if (intValue === 1) {\n                        return 'IPTC-NAA Digital Newsphoto Parameter Record';\n                    } else if (intValue === 2) {\n                        return 'IPTC7901 Recommended Message Format';\n                    } else if (intValue === 3) {\n                        return 'Tagged Image File Format (Adobe/Aldus Image data)';\n                    } else if (intValue === 4) {\n                        return 'Illustrator (Adobe Graphics data)';\n                    } else if (intValue === 5) {\n                        return 'AppleSingle (Apple Computer Inc)';\n                    } else if (intValue === 6) {\n                        return 'NAA 89-3 (ANPA 1312)';\n                    } else if (intValue === 7) {\n                        return 'MacBinary II';\n                    } else if (intValue === 8) {\n                        return 'IPTC Unstructured Character Oriented File Format (UCOFF)';\n                    } else if (intValue === 9) {\n                        return 'United Press International ANPA 1312 variant';\n                    } else if (intValue === 10) {\n                        return 'United Press International Down-Load Message';\n                    } else if (intValue === 11) {\n                        return 'JPEG File Interchange (JFIF)';\n                    } else if (intValue === 12) {\n                        return 'Photo-CD Image-Pac (Eastman Kodak)';\n                    } else if (intValue === 13) {\n                        return 'Microsoft Bit Mapped Graphics File [*.BMP]';\n                    } else if (intValue === 14) {\n                        return 'Digital Audio File [*.WAV] (Microsoft & Creative Labs)';\n                    } else if (intValue === 15) {\n                        return 'Audio plus Moving Video [*.AVI] (Microsoft)';\n                    } else if (intValue === 16) {\n                        return 'PC DOS/Windows Executable Files [*.COM][*.EXE]';\n                    } else if (intValue === 17) {\n                        return 'Compressed Binary File [*.ZIP] (PKWare Inc)';\n                    } else if (intValue === 18) {\n                        return 'Audio Interchange File Format AIFF (Apple Computer Inc)';\n                    } else if (intValue === 19) {\n                        return 'RIFF Wave (Microsoft Corporation)';\n                    } else if (intValue === 20) {\n                        return 'Freehand (Macromedia/Aldus)';\n                    } else if (intValue === 21) {\n                        return 'Hypertext Markup Language \"HTML\" (The Internet Society)';\n                    } else if (intValue === 22) {\n                        return 'MPEG 2 Audio Layer 2 (Musicom), ISO/IEC';\n                    } else if (intValue === 23) {\n                        return 'MPEG 2 Audio Layer 3, ISO/IEC';\n                    } else if (intValue === 24) {\n                        return 'Portable Document File (*.PDF) Adobe';\n                    } else if (intValue === 25) {\n                        return 'News Industry Text Format (NITF)';\n                    } else if (intValue === 26) {\n                        return 'Tape Archive (*.TAR)';\n                    } else if (intValue === 27) {\n                        return 'Tidningarnas Telegrambyr NITF version (TTNITF DTD)';\n                    } else if (intValue === 28) {\n                        return 'Ritzaus Bureau NITF version (RBNITF DTD)';\n                    } else if (intValue === 29) {\n                        return 'Corel Draw [*.CDR]';\n                    }\n                    return `Unknown format ${intValue}`;\n                }\n                return getStringValue(value);\n            }\n        },\n        0x02c9: {\n            'name': 'ObjectData Preview File Format Version',\n            'description': (value, tags) => {\n                // Format ID, Version ID, Version Description\n                const formatVersions = {\n                    '00': {'00': '1'},\n                    '01': {'01': '1', '02': '2', '03': '3', '04': '4'},\n                    '02': {'04': '4'},\n                    '03': {'01': '5.0', '02': '6.0'},\n                    '04': {'01': '1.40'},\n                    '05': {'01': '2'},\n                    '06': {'01': '1'},\n                    '11': {'01': '1.02'},\n                    '20': {'01': '3.1', '02': '4.0', '03': '5.0', '04': '5.5'},\n                    '21': {'02': '2.0'}\n                };\n                const stringValue = getStringValue(value);\n\n                if (tags['ObjectData Preview File Format']) {\n                    const objectDataPreviewFileFormat = getStringValue(tags['ObjectData Preview File Format'].value);\n                    if (formatVersions[objectDataPreviewFileFormat]\n                        && formatVersions[objectDataPreviewFileFormat][stringValue]) {\n                        return formatVersions[objectDataPreviewFileFormat][stringValue];\n                    }\n                }\n\n                return stringValue;\n            }\n        },\n        0x02ca: 'ObjectData Preview Data',\n        0x070a: {\n            'name': 'Size Mode',\n            'description': (value) => {\n                return (value[0]).toString();\n            }\n        },\n        0x0714: {\n            'name': 'Max Subfile Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075a: {\n            'name': 'ObjectData Size Announced',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075f: {\n            'name': 'Maximum ObjectData Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        }\n    }\n};\n\nfunction getCreationDate(value) {\n    const date = getStringValue(value);\n\n    if (date.length >= 8) {\n        return date.substr(0, 4) + '-' + date.substr(4, 2) + '-' + date.substr(6, 2);\n    }\n\n    return date;\n}\n\nfunction getCreationTime(value) {\n    const time = getStringValue(value);\n    let parsedTime = time;\n\n    if (time.length >= 6) {\n        parsedTime = time.substr(0, 2) + ':' + time.substr(2, 2) + ':' + time.substr(4, 2);\n        if (time.length === 11) {\n            parsedTime += time.substr(6, 1) + time.substr(7, 2) + ':' + time.substr(9, 2);\n        }\n    }\n\n    return parsedTime;\n}\n\nfunction getEncodingName(value) {\n    const string = getStringValue(value);\n    if (string === '\\x1b%G') {\n        return 'UTF-8';\n    } else if (string === '\\x1b%5') {\n        return 'Windows-1252';\n    } else if (string === '\\x1b%/G') {\n        return 'UTF-8 Level 1';\n    } else if (string === '\\x1b%/H') {\n        return 'UTF-8 Level 2';\n    } else if (string === '\\x1b%/I') {\n        return 'UTF-8 Level 3';\n    } else if (string === '\\x1B/A') {\n        return 'ISO-8859-1';\n    } else if (string === '\\x1B/B') {\n        return 'ISO-8859-2';\n    } else if (string === '\\x1B/C') {\n        return 'ISO-8859-3';\n    } else if (string === '\\x1B/D') {\n        return 'ISO-8859-4';\n    } else if (string === '\\x1B/@') {\n        return 'ISO-8859-5';\n    } else if (string === '\\x1B/G') {\n        return 'ISO-8859-6';\n    } else if (string === '\\x1B/F') {\n        return 'ISO-8859-7';\n    } else if (string === '\\x1B/H') {\n        return 'ISO-8859-8';\n    }\n    return 'Unknown';\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof TextDecoder !== 'undefined') {\n        return TextDecoder;\n    }\n\n    return undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TextDecoder from './text-decoder.js';\n\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    decode,\n    TAG_HEADER_SIZE\n};\n\nfunction decode(encoding, tagValue) {\n    const Decoder = TextDecoder.get();\n    if ((typeof Decoder !== 'undefined') && (encoding !== undefined)) {\n        try {\n            return new Decoder(encoding).decode(Uint8Array.from(tagValue));\n        } catch (error) {\n            // Pass through and fall back to ASCII decoding.\n        }\n    }\n\n    const stringValue = tagValue.map((charCode) => String.fromCharCode(charCode)).join('');\n    return decodeAsciiValue(stringValue);\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return decodeURIComponent(escape(asciiValue));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport IptcTagNames from './iptc-tag-names.js';\nimport TagDecoder from './tag-decoder.js';\n\nconst BYTES_8BIM = 0x3842494d;\nconst BYTES_8BIM_SIZE = 4;\nconst RESOURCE_BLOCK_HEADER_SIZE = BYTES_8BIM_SIZE + 8;\nconst NAA_RESOURCE_BLOCK_TYPE = 0x0404;\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset, includeUnknown) {\n    try {\n        if (Array.isArray(dataView)) {\n            return parseTags(new DataView(Uint8Array.from(dataView).buffer), {size: dataView.length}, 0, includeUnknown);\n        }\n        const {naaBlock, dataOffset: newDataOffset} = getNaaResourceBlock(dataView, dataOffset);\n        return parseTags(dataView, naaBlock, newDataOffset, includeUnknown);\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getNaaResourceBlock(dataView, dataOffset) {\n    while (dataOffset + RESOURCE_BLOCK_HEADER_SIZE <= dataView.byteLength) {\n        const resourceBlock = getResourceBlock(dataView, dataOffset);\n        if (isNaaResourceBlock(resourceBlock)) {\n            return {naaBlock: resourceBlock, dataOffset: dataOffset + RESOURCE_BLOCK_HEADER_SIZE};\n        }\n        dataOffset += RESOURCE_BLOCK_HEADER_SIZE + resourceBlock.size + getBlockPadding(resourceBlock);\n    }\n    throw new Error('No IPTC NAA resource block.');\n}\n\nfunction getResourceBlock(dataView, dataOffset) {\n    const RESOURCE_BLOCK_SIZE_OFFSET = 10;\n\n    if (dataView.getUint32(dataOffset, false) !== BYTES_8BIM) {\n        throw new Error('Not an IPTC resource block.');\n    }\n\n    return {\n        type: dataView.getUint16(dataOffset + BYTES_8BIM_SIZE),\n        size: dataView.getUint16(dataOffset + RESOURCE_BLOCK_SIZE_OFFSET)\n    };\n}\n\nfunction isNaaResourceBlock(resourceBlock) {\n    return resourceBlock.type === NAA_RESOURCE_BLOCK_TYPE;\n}\n\nfunction getBlockPadding(resourceBlock) {\n    if (resourceBlock.size % 2 !== 0) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction parseTags(dataView, naaBlock, dataOffset, includeUnknown) {\n    const tags = {};\n    let encoding = undefined;\n\n    const endOfBlockOffset = dataOffset + naaBlock['size'];\n\n    while ((dataOffset < endOfBlockOffset) && (dataOffset < dataView.byteLength)) {\n        const {tag, tagSize} = readTag(dataView, dataOffset, tags, encoding, includeUnknown);\n\n        if (tag === null) {\n            break;\n        }\n\n        if (tag) {\n            if ('encoding' in tag) {\n                encoding = tag.encoding;\n            }\n\n            if ((tags[tag.name] === undefined) || (tag['repeatable'] === undefined)) {\n                tags[tag.name] = {\n                    id: tag.id,\n                    value: tag.value,\n                    description: tag.description\n                };\n            } else {\n                if (!(tags[tag.name] instanceof Array)) {\n                    tags[tag.name] = [{\n                        id: tags[tag.name].id,\n                        value: tags[tag.name].value,\n                        description: tags[tag.name].description\n                    }];\n                }\n                tags[tag.name].push({\n                    id: tag.id,\n                    value: tag.value,\n                    description: tag.description\n                });\n            }\n        }\n\n        dataOffset += TAG_HEADER_SIZE + tagSize;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, dataOffset, tags, encoding, includeUnknown) {\n    const TAG_CODE_OFFSET = 1;\n    const TAG_SIZE_OFFSET = 3;\n\n    if (leadByteIsMissing(dataView, dataOffset)) {\n        return {tag: null, tagSize: 0};\n    }\n\n    const tagCode = dataView.getUint16(dataOffset + TAG_CODE_OFFSET);\n    const tagSize = dataView.getUint16(dataOffset + TAG_SIZE_OFFSET);\n\n    if (!includeUnknown && !IptcTagNames['iptc'][tagCode]) {\n        return {tag: undefined, tagSize};\n    }\n\n    const tagValue = getTagValue(dataView, dataOffset + TAG_HEADER_SIZE, tagSize);\n\n    const tag = {\n        id: tagCode,\n        name: getTagName(IptcTagNames['iptc'][tagCode], tagCode, tagValue),\n        value: tagValue,\n        description: getTagDescription(IptcTagNames['iptc'][tagCode], tagValue, tags, encoding)\n    };\n    if (tagIsRepeatable(tagCode)) {\n        tag['repeatable'] = true;\n    }\n    if (tagContainsEncoding(tagCode)) {\n        tag['encoding'] = IptcTagNames['iptc'][tagCode]['encoding_name'](tagValue);\n    }\n\n    return {tag, tagSize};\n}\n\nfunction leadByteIsMissing(dataView, dataOffset) {\n    const TAG_LEAD_BYTE = 0x1c;\n    return dataView.getUint8(dataOffset) !== TAG_LEAD_BYTE;\n}\n\nfunction getTagValue(dataView, offset, size) {\n    const value = [];\n\n    for (let valueIndex = 0; valueIndex < size; valueIndex++) {\n        value.push(dataView.getUint8(offset + valueIndex));\n    }\n\n    return value;\n}\n\nfunction getTagName(tag, tagCode, tagValue) {\n    if (!tag) {\n        return `undefined-${tagCode}`;\n    }\n    if (tagIsName(tag)) {\n        return tag;\n    }\n    if (hasDynamicName(tag)) {\n        return tag['name'](tagValue);\n    }\n    return tag['name'];\n}\n\nfunction tagIsName(tag) {\n    return typeof tag === 'string';\n}\n\nfunction hasDynamicName(tag) {\n    return typeof (tag['name']) === 'function';\n}\n\nfunction getTagDescription(tag, tagValue, tags, encoding) {\n    if (hasDescriptionProperty(tag)) {\n        try {\n            return tag['description'](tagValue, tags);\n        } catch (error) {\n            // Fall through to next handler.\n        }\n    }\n    if (tagValueIsText(tag, tagValue)) {\n        return TagDecoder.decode(encoding, tagValue);\n    }\n    return tagValue;\n}\n\nfunction tagValueIsText(tag, tagValue) {\n    return tag && tagValue instanceof Array;\n}\n\nfunction hasDescriptionProperty(tag) {\n    return tag && tag['description'] !== undefined;\n}\n\nfunction tagIsRepeatable(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['repeatable'];\n}\n\nfunction tagContainsEncoding(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['encoding_name'] !== undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    'tiff:Orientation'(value) {\n        if (value === '1') {\n            return 'Horizontal (normal)';\n        }\n        if (value === '2') {\n            return 'Mirror horizontal';\n        }\n        if (value === '3') {\n            return 'Rotate 180';\n        }\n        if (value === '4') {\n            return 'Mirror vertical';\n        }\n        if (value === '5') {\n            return 'Mirror horizontal and rotate 270 CW';\n        }\n        if (value === '6') {\n            return 'Rotate 90 CW';\n        }\n        if (value === '7') {\n            return 'Mirror horizontal and rotate 90 CW';\n        }\n        if (value === '8') {\n            return 'Rotate 270 CW';\n        }\n        return value;\n    },\n    'tiff:ResolutionUnit': (value) => TagNamesCommon.ResolutionUnit(parseInt(value, 10)),\n    'tiff:XResolution': (value) => fraction(TagNamesCommon.XResolution, value),\n    'tiff:YResolution': (value) => fraction(TagNamesCommon.YResolution, value),\n    'exif:ApertureValue': (value) => fraction(TagNamesCommon.ApertureValue, value),\n    'exif:GPSLatitude': calculateGPSValue,\n    'exif:GPSLongitude': calculateGPSValue,\n    'exif:FNumber': (value) => fraction(TagNamesCommon.FNumber, value),\n    'exif:FocalLength': (value) => fraction(TagNamesCommon.FocalLength, value),\n    'exif:FocalPlaneResolutionUnit': (value) => TagNamesCommon.FocalPlaneResolutionUnit(parseInt(value, 10)),\n    'exif:ColorSpace': (value) => TagNamesCommon.ColorSpace(parseNumber(value)),\n    'exif:ComponentsConfiguration'(value, description) {\n        if (/^\\d, \\d, \\d, \\d$/.test(description)) {\n            const numbers = description.split(', ').map((number) => number.charCodeAt(0));\n            return TagNamesCommon.ComponentsConfiguration(numbers);\n        }\n        return description;\n    },\n    'exif:Contrast': (value) => TagNamesCommon.Contrast(parseInt(value, 10)),\n    'exif:CustomRendered': (value) => TagNamesCommon.CustomRendered(parseInt(value, 10)),\n    'exif:ExposureMode': (value) => TagNamesCommon.ExposureMode(parseInt(value, 10)),\n    'exif:ExposureProgram': (value) => TagNamesCommon.ExposureProgram(parseInt(value, 10)),\n    'exif:ExposureTime'(value) {\n        if (isFraction(value)) {\n            return TagNamesCommon.ExposureTime(value.split('/').map((number) => parseInt(number, 10)));\n        }\n        return value;\n    },\n    'exif:MeteringMode': (value) => TagNamesCommon.MeteringMode(parseInt(value, 10)),\n    'exif:Saturation': (value) => TagNamesCommon.Saturation(parseInt(value, 10)),\n    'exif:SceneCaptureType': (value) => TagNamesCommon.SceneCaptureType(parseInt(value, 10)),\n    'exif:Sharpness': (value) => TagNamesCommon.Sharpness(parseInt(value, 10)),\n    'exif:ShutterSpeedValue': (value) => fraction(TagNamesCommon.ShutterSpeedValue, value),\n    'exif:WhiteBalance': (value) => TagNamesCommon.WhiteBalance(parseInt(value, 10))\n};\n\nfunction fraction(func, value) {\n    if (isFraction(value)) {\n        return func(value.split('/'));\n    }\n    return value;\n}\n\nfunction parseNumber(value) {\n    if (value.substring(0, 2) === '0x') {\n        return parseInt(value.substring(2), 16);\n    }\n    return parseInt(value, 10);\n}\n\nfunction isFraction(value) {\n    return /^-?\\d+\\/-?\\d+$/.test(value);\n}\n\nfunction calculateGPSValue(value) {\n    const [degreesString, minutesString] = value.split(',');\n    if ((degreesString !== undefined) && (minutesString !== undefined)) {\n        const degrees = parseFloat(degreesString);\n        const minutes = parseFloat(minutesString);\n        const ref = minutesString.charAt(minutesString.length - 1);\n        if ((!Number.isNaN(degrees)) && (!Number.isNaN(minutes))) {\n            return '' + (degrees + minutes / 60) + ref;\n        }\n    }\n    return value;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof DOMParser !== 'undefined') {\n        return new DOMParser();\n    }\n    try {\n        // eslint-disable-next-line no-undef\n        return new (__non_webpack_require__('@xmldom/xmldom').DOMParser)({\n            errorHandler: {\n                error: () => {\n                    throw new Error('Faulty XML');\n                }\n            }\n        });\n    } catch (error) {\n        return undefined;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView, objectAssign} from './utils.js';\nimport XmpTagNames from './xmp-tag-names.js';\nimport DOMParser from './dom-parser.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, chunks) {\n    const tags = {};\n\n    if (typeof dataView === 'string') {\n        readTags(tags, dataView);\n        return tags;\n    }\n\n    const [standardXmp, extendedXmp] = extractCompleteChunks(dataView, chunks);\n\n    const hasStandardTags = readTags(tags, standardXmp);\n\n    if (extendedXmp) {\n        const hasExtendedTags = readTags(tags, extendedXmp);\n\n        if (!hasStandardTags && !hasExtendedTags) {\n            // Some writers are not spec-compliant in that they split an XMP\n            // metadata tree over both the standard XMP block and the extended\n            // XMP block. If we failed parsing both of the XMPs in the regular\n            // way, we try to combine them to see if that works better.\n            delete tags._raw;\n            readTags(tags, combineChunks(dataView, chunks));\n        }\n    }\n\n    return tags;\n}\n\n// The first chunk is always the regular XMP document. Then there is something\n// called extended XMP. The extended XMP is also a single XMP document but it\n// can be divided into multiple chunks that need to be combined into one.\nfunction extractCompleteChunks(dataView, chunks) {\n    if (chunks.length === 0) {\n        return [];\n    }\n\n    const completeChunks = [combineChunks(dataView, chunks.slice(0, 1))];\n    if (chunks.length > 1) {\n        completeChunks.push(combineChunks(dataView, chunks.slice(1)));\n    }\n\n    return completeChunks;\n}\n\nfunction combineChunks(dataView, chunks) {\n    const totalLength = chunks.reduce((size, chunk) => size + chunk.length, 0);\n    const combinedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n\n    for (let i = 0; i < chunks.length; i++) {\n        const chunk = chunks[i];\n        const slice = dataView.buffer.slice(chunk.dataOffset, chunk.dataOffset + chunk.length);\n        combinedChunks.set(new Uint8Array(slice), offset);\n        offset += chunk.length;\n    }\n\n    return new DataView(combinedChunks.buffer);\n}\n\nfunction readTags(tags, chunkDataView) {\n    try {\n        const {doc, raw} = getDocument(chunkDataView);\n        tags._raw = (tags._raw || '') + raw;\n        const rdf = getRDF(doc);\n\n        objectAssign(tags, parseXMPObject(convertToObject(rdf, true)));\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n\nfunction getDocument(chunkDataView) {\n    const domParser = DOMParser.get();\n    if (!domParser) {\n        console.warn('Warning: DOMParser is not available. It is needed to be able to parse XMP tags.'); // eslint-disable-line no-console\n        throw new Error();\n    }\n\n    const xmlString = typeof chunkDataView === 'string' ? chunkDataView : getStringFromDataView(chunkDataView, 0, chunkDataView.byteLength);\n    const doc = domParser.parseFromString(trimXmlSource(xmlString), 'application/xml');\n\n    if (doc.documentElement.nodeName === 'parsererror') {\n        throw new Error(doc.documentElement.textContent);\n    }\n\n    return {\n        doc,\n        raw: xmlString,\n    };\n}\n\nfunction trimXmlSource(xmlSource) {\n    return xmlSource.replace(/^.+(<\\?xpacket begin)/, '$1').replace(/(<\\?xpacket end=\".*\"\\?>).+$/, '$1');\n}\n\nfunction getRDF(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].tagName === 'x:xmpmeta') {\n            return getRDF(node.childNodes[i]);\n        }\n        if (node.childNodes[i].tagName === 'rdf:RDF') {\n            return node.childNodes[i];\n        }\n    }\n\n    throw new Error();\n}\n\nfunction convertToObject(node, isTopNode = false) {\n    const childNodes = getChildNodes(node);\n\n    if (hasTextOnlyContent(childNodes)) {\n        if (isTopNode) {\n            return {};\n        }\n        return getTextValue(childNodes[0]);\n    }\n\n    return getElementsFromNodes(childNodes);\n}\n\nfunction getChildNodes(node) {\n    const elements = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n        elements.push(node.childNodes[i]);\n    }\n\n    return elements;\n}\n\nfunction hasTextOnlyContent(nodes) {\n    return (nodes.length === 1) && (nodes[0].nodeName === '#text');\n}\n\nfunction getTextValue(node) {\n    return node.nodeValue;\n}\n\nfunction getElementsFromNodes(nodes) {\n    const elements = {};\n\n    nodes.forEach((node) => {\n        if (isElement(node)) {\n            const nodeElement = getElementFromNode(node);\n\n            if (elements[node.nodeName] !== undefined) {\n                if (!Array.isArray(elements[node.nodeName])) {\n                    elements[node.nodeName] = [elements[node.nodeName]];\n                }\n                elements[node.nodeName].push(nodeElement);\n            } else {\n                elements[node.nodeName] = nodeElement;\n            }\n        }\n    });\n\n    return elements;\n}\n\nfunction isElement(node) {\n    return (node.nodeName) && (node.nodeName !== '#text');\n}\n\nfunction getElementFromNode(node) {\n    return {\n        attributes: getAttributes(node),\n        value: convertToObject(node)\n    };\n}\n\nfunction getAttributes(element) {\n    const attributes = {};\n\n    for (let i = 0; i < element.attributes.length; i++) {\n        attributes[element.attributes[i].nodeName] = decodeURIComponent(escape(element.attributes[i].value));\n    }\n\n    return attributes;\n}\n\nfunction parseXMPObject(xmpObject) {\n    const tags = {};\n\n    if (typeof xmpObject === 'string') {\n        return xmpObject;\n    }\n\n    for (const nodeName in xmpObject) {\n        let nodes = xmpObject[nodeName];\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        nodes.forEach((node) => {\n            objectAssign(tags, parseNodeAttributesAsTags(node.attributes));\n            if (typeof node.value === 'object') {\n                objectAssign(tags, parseNodeChildrenAsTags(node.value));\n            }\n        });\n    }\n\n    return tags;\n}\n\nfunction parseNodeAttributesAsTags(attributes) {\n    const tags = {};\n\n    for (const name in attributes) {\n        if (isTagAttribute(name)) {\n            tags[getLocalName(name)] = {\n                value: attributes[name],\n                attributes: {},\n                description: getDescription(attributes[name], name)\n            };\n        }\n    }\n\n    return tags;\n}\n\nfunction isTagAttribute(name) {\n    return (name !== 'rdf:parseType') && (!isNamespaceDefinition(name));\n}\n\nfunction isNamespaceDefinition(name) {\n    return name.split(':')[0] === 'xmlns';\n}\n\nfunction getLocalName(name) {\n    if (/^MicrosoftPhoto(_\\d+_)?:Rating$/i.test(name)) {\n        return 'RatingPercent';\n    }\n    return name.split(':')[1];\n}\n\nfunction getDescription(value, name = undefined) {\n    if (Array.isArray(value)) {\n        const arrayDescription = getDescriptionOfArray(value);\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value, arrayDescription);\n        }\n        return arrayDescription;\n    }\n    if (typeof value === 'object') {\n        return getDescriptionOfObject(value);\n    }\n\n    try {\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value);\n        }\n        return decodeURIComponent(escape(value));\n    } catch (error) {\n        return value;\n    }\n}\n\nfunction getDescriptionOfArray(value) {\n    return value.map((item) => {\n        if (item.value !== undefined) {\n            return getDescription(item.value);\n        }\n        return getDescription(item);\n    }).join(', ');\n}\n\nfunction getDescriptionOfObject(value) {\n    const descriptions = [];\n\n    for (const key in value) {\n        descriptions.push(`${getClearTextKey(key)}: ${getDescription(value[key].value)}`);\n    }\n\n    return descriptions.join('; ');\n}\n\nfunction getClearTextKey(key) {\n    if (key === 'CiAdrCity') {\n        return 'CreatorCity';\n    }\n    if (key === 'CiAdrCtry') {\n        return 'CreatorCountry';\n    }\n    if (key === 'CiAdrExtadr') {\n        return 'CreatorAddress';\n    }\n    if (key === 'CiAdrPcode') {\n        return 'CreatorPostalCode';\n    }\n    if (key === 'CiAdrRegion') {\n        return 'CreatorRegion';\n    }\n    if (key === 'CiEmailWork') {\n        return 'CreatorWorkEmail';\n    }\n    if (key === 'CiTelWork') {\n        return 'CreatorWorkPhone';\n    }\n    if (key === 'CiUrlWork') {\n        return 'CreatorWorkUrl';\n    }\n    return key;\n}\n\nfunction parseNodeChildrenAsTags(children) {\n    const tags = {};\n\n    for (const name in children) {\n        if (!isNamespaceDefinition(name)) {\n            tags[getLocalName(name)] = parseNodeAsTag(children[name], name);\n        }\n    }\n\n    return tags;\n}\n\nfunction parseNodeAsTag(node, name) {\n    if (hasNestedSimpleRdfDescription(node)) {\n        return parseNodeAsSimpleRdfDescription(node, name);\n    }\n    if (hasNestedStructureRdfDescription(node)) {\n        return parseNodeAsStructureRdfDescription(node, name);\n    }\n    if (isCompactStructure(node)) {\n        return parseNodeAsCompactStructure(node, name);\n    }\n    if (isArray(node)) {\n        return parseNodeAsArray(node, name);\n    }\n    return parseNodeAsSimpleValue(node, name);\n}\n\nfunction hasNestedSimpleRdfDescription(node) {\n    return ((node.attributes['rdf:parseType'] === 'Resource') && (node.value['rdf:value'] !== undefined))\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] !== undefined));\n}\n\nfunction parseNodeAsSimpleRdfDescription(node, name) {\n    const attributes = parseNodeAttributes(node);\n\n    if (node.value['rdf:Description'] !== undefined) {\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(attributes, parseNodeAttributes(node), parseNodeChildrenAsAttributes(node));\n\n    const value = parseRdfValue(node);\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseNodeAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.attributes) {\n        if ((name !== 'rdf:parseType') && (name !== 'rdf:resource') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.attributes[name];\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseNodeChildrenAsAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.value) {\n        if ((name !== 'rdf:value') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.value[name].value;\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseRdfValue(node) {\n    return getURIValue(node.value['rdf:value']) || node.value['rdf:value'].value;\n}\n\nfunction hasNestedStructureRdfDescription(node) {\n    return (node.attributes['rdf:parseType'] === 'Resource')\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] === undefined));\n}\n\nfunction parseNodeAsStructureRdfDescription(node, name) {\n    const tag = {\n        value: {},\n        attributes: {}\n    };\n\n    if (node.value['rdf:Description'] !== undefined) {\n        objectAssign(tag.value, parseNodeAttributesAsTags(node.value['rdf:Description'].attributes));\n        objectAssign(tag.attributes, parseNodeAttributes(node));\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(tag.value, parseNodeChildrenAsTags(node.value));\n\n    tag.description = getDescription(tag.value, name);\n\n    return tag;\n}\n\nfunction isCompactStructure(node) {\n    return (Object.keys(node.value).length === 0)\n        && (node.attributes['xml:lang'] === undefined)\n        && (node.attributes['rdf:resource'] === undefined);\n}\n\nfunction parseNodeAsCompactStructure(node, name) {\n    const value = parseNodeAttributesAsTags(node.attributes);\n\n    return {\n        value,\n        attributes: {},\n        description: getDescription(value, name)\n    };\n}\n\nfunction isArray(node) {\n    return getArrayChild(node.value) !== undefined;\n}\n\nfunction getArrayChild(value) {\n    return value['rdf:Bag'] || value['rdf:Seq'] || value['rdf:Alt'];\n}\n\nfunction parseNodeAsArray(node, name) {\n    let items = getArrayChild(node.value).value['rdf:li'];\n    const attributes = parseNodeAttributes(node);\n    const value = [];\n\n    if (items === undefined) {\n        items = [];\n    } else if (!Array.isArray(items)) {\n        items = [items];\n    }\n\n    items.forEach((item) => {\n        value.push(parseArrayValue(item));\n    });\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseArrayValue(item) {\n    if (hasNestedSimpleRdfDescription(item)) {\n        return parseNodeAsSimpleRdfDescription(item);\n    }\n    if (hasNestedStructureRdfDescription(item)) {\n        return parseNodeAsStructureRdfDescription(item).value;\n    }\n    if (isCompactStructure(item)) {\n        return parseNodeAsCompactStructure(item).value;\n    }\n\n    return parseNodeAsSimpleValue(item);\n}\n\nfunction parseNodeAsSimpleValue(node, name) {\n    const value = getURIValue(node) || parseXMPObject(node.value);\n\n    return {\n        value,\n        attributes: parseNodeAttributes(node),\n        description: getDescription(value, name)\n    };\n}\n\nfunction getURIValue(node) {\n    return node.attributes && node.attributes['rdf:resource'];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\n\nexport const iccTags = {\n    'desc': {\n        'name': 'ICC Description',\n    },\n    'cprt': {\n        'name': 'ICC Copyright',\n    },\n    'dmdd': {\n        'name': 'ICC Device Model Description',\n    },\n    'vued': {\n        'name': 'ICC Viewing Conditions Description',\n    },\n    'dmnd': {\n        'name': 'ICC Device Manufacturer for Display',\n    },\n    'tech': {\n        'name': 'Technology',\n    },\n};\n\nexport const iccProfile = {\n    4: {\n        'name': 'Preferred CMM type',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => value !== null ? toCompany(value) : '',\n    },\n    8: {\n        'name': 'Profile Version',\n        'value': (dataView, offset) => {\n            return (dataView.getUint8(offset)).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) >> 4).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) % 16).toString(10);\n        }\n    },\n    12: {\n        'name': 'Profile/Device class',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => {\n            switch (value.toLowerCase()) {\n                case 'scnr': return 'Input Device profile';\n                case 'mntr': return 'Display Device profile';\n                case 'prtr': return 'Output Device profile';\n                case 'link': return 'DeviceLink profile';\n                case 'abst': return 'Abstract profile';\n                case 'spac': return 'ColorSpace profile';\n                case 'nmcl': return 'NamedColor profile';\n                case 'cenc': return 'ColorEncodingSpace profile';\n                case 'mid ': return 'MultiplexIdentification profile';\n                case 'mlnk': return 'MultiplexLink profile';\n                case 'mvis': return 'MultiplexVisualization profile';\n                default: return value;\n            }\n        }\n    },\n    16: {\n        'name': 'Color Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    20: {\n        'name': 'Connection Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    24: {\n        'name': 'ICC Profile Date',\n        'value': (dataView, offset) => parseDate(dataView, offset).toISOString()\n    },\n    36: {\n        'name': 'ICC Signature',\n        'value': (dataView, offset) => sliceToString(dataView.buffer.slice(offset, offset + 4))\n    },\n    40: {\n        'name': 'Primary Platform',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    48: {\n        'name': 'Device Manufacturer',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    52: {\n        'name': 'Device Model Number',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    64: {\n        'name': 'Rendering Intent',\n        'value': (dataView, offset) => dataView.getUint32(offset),\n        'description': (value) => {\n            switch (value) {\n                case 0: return 'Perceptual';\n                case 1: return 'Relative Colorimetric';\n                case 2: return 'Saturation';\n                case 3: return 'Absolute Colorimetric';\n                default: return value;\n            }\n        }\n    },\n\n    80: {\n        'name': 'Profile Creator',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n};\n\nfunction parseDate(dataView, offset) {\n    const year = dataView.getUint16(offset);\n    const month = dataView.getUint16(offset + 2) - 1;\n    const day = dataView.getUint16(offset + 4);\n    const hours = dataView.getUint16(offset + 6);\n    const minutes = dataView.getUint16(offset + 8);\n    const seconds = dataView.getUint16(offset + 10);\n    return new Date(Date.UTC(year, month, day, hours, minutes, seconds));\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction toCompany(value) {\n    switch (value.toLowerCase()) {\n        case 'appl': return 'Apple';\n        case 'adbe': return 'Adobe';\n        case 'msft': return 'Microsoft';\n        case 'sunw': return 'Sun Microsystems';\n        case 'sgi': return 'Silicon Graphics';\n        case 'tgnt': return 'Taligent';\n        default: return value;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\nimport {iccTags, iccProfile} from './icc-tag-names.js';\nimport {getStringFromDataView, getUnicodeStringFromDataView} from './utils.js';\n\nexport default {\n    read\n};\n\nconst PROFILE_HEADER_LENGTH = 84;\nconst ICC_TAG_COUNT_OFFSET = 128;\nconst ICC_SIGNATURE = 'acsp';\nconst TAG_TYPE_DESC = 'desc';\nconst TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE = 'mluc';\nconst TAG_TYPE_TEXT = 'text';\nconst TAG_TYPE_SIGNATURE = 'sig ';\nconst TAG_TABLE_SINGLE_TAG_DATA = 12;\n\n// ICC profile data can be longer than application segment max length of ~64k.\n// so it can be split into multiple APP2 segments. Each segment includes\n// total chunk count and chunk number.\n// Here we read all chunks into single continious array of bytes.\nfunction read(dataView, iccData) {\n    try {\n        const totalIccProfileLength = iccData.reduce((sum, icc) => sum + icc.length, 0);\n\n        const iccBinaryData = new Uint8Array(totalIccProfileLength);\n        let offset = 0;\n        const buffer = getBuffer(dataView);\n\n        for (let chunkNumber = 1; chunkNumber <= iccData.length; chunkNumber++) {\n            const iccDataChunk = iccData.find((x) => x.chunkNumber === chunkNumber);\n            if (!iccDataChunk) {\n                throw new Error(`ICC chunk ${chunkNumber} not found`);\n            }\n\n            const data = buffer.slice(iccDataChunk.offset, iccDataChunk.offset + iccDataChunk.length);\n            const chunkData = new Uint8Array(data);\n\n            iccBinaryData.set(chunkData, offset);\n            offset += chunkData.length;\n        }\n\n        return parseTags(new DataView(iccBinaryData.buffer));\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getBuffer(dataView) {\n    if (Array.isArray(dataView)) {\n        return (new DataView(Uint8Array.from(dataView).buffer)).buffer;\n    }\n    return dataView.buffer;\n}\n\nfunction iccDoesNotHaveTagCount(buffer) {\n    return buffer.length < (ICC_TAG_COUNT_OFFSET + 4);\n}\n\nfunction hasTagsData(buffer, tagHeaderOffset) {\n    return buffer.length < tagHeaderOffset + TAG_TABLE_SINGLE_TAG_DATA;\n}\n\nexport function parseTags(dataView) {\n    const buffer = dataView.buffer;\n\n    const length = dataView.getUint32();\n    if (dataView.byteLength !== length) {\n        throw new Error('ICC profile length not matching');\n    }\n\n    if (dataView.length < PROFILE_HEADER_LENGTH) {\n        throw new Error('ICC profile too short');\n    }\n\n    const tags = {};\n\n    const iccProfileKeys = Object.keys(iccProfile);\n    for (let i = 0; i < iccProfileKeys.length; i++) {\n        const offset = iccProfileKeys[i];\n        const profileEntry = iccProfile[offset];\n        const value = profileEntry.value(dataView, parseInt(offset, 10));\n        let description = value;\n        if (profileEntry.description) {\n            description = profileEntry.description(value);\n        }\n\n        tags[profileEntry.name] = {\n            value,\n            description\n        };\n    }\n\n    const signature = sliceToString(buffer.slice(36, 40));\n    if (signature !== ICC_SIGNATURE) {\n        throw new Error('ICC profile: missing signature');\n    }\n\n    /* ICC data is incomplete but we have header parsed so lets return it */\n    if (iccDoesNotHaveTagCount(buffer)) {\n        return tags;\n    }\n\n    const tagCount = dataView.getUint32(128);\n    let tagHeaderOffset = 132;\n\n    for (let i = 0; i < tagCount; i++) {\n        if (hasTagsData(buffer, tagHeaderOffset)) {\n            // Tags are corrupted (offset too far), return what we parsed until now\n            return tags;\n        }\n        const tagSignature = getStringFromDataView(dataView, tagHeaderOffset, 4);\n        const tagOffset = dataView.getUint32(tagHeaderOffset + 4);\n        const tagSize = dataView.getUint32(tagHeaderOffset + 8);\n\n        if (tagOffset > buffer.length) {\n            // Tag data is invalid, lets return what we managed to parse\n            return tags;\n        }\n        const tagType = getStringFromDataView(dataView, tagOffset, 4);\n\n        if (tagType === TAG_TYPE_DESC) {\n            const tagValueSize = dataView.getUint32(tagOffset + 8);\n            if (tagValueSize > tagSize) {\n                // Tag data is invalid, lets return what we managed to parse\n                return tags;\n            }\n\n            const val = sliceToString(buffer.slice(tagOffset + 12, tagOffset + tagValueSize + 11));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE) {\n            const numRecords = dataView.getUint32(tagOffset + 8);\n            const recordSize = dataView.getUint32(tagOffset + 12);\n            let offset = tagOffset + 16;\n            const val = [];\n            for (let recordNum = 0; recordNum < numRecords; recordNum++) {\n                const languageCode = getStringFromDataView(dataView, offset + 0, 2);\n                const countryCode = getStringFromDataView(dataView, offset + 2, 2);\n                const textLength = dataView.getUint32(offset + 4);\n                const textOffset = dataView.getUint32(offset + 8);\n\n                const text = getUnicodeStringFromDataView(dataView, tagOffset + textOffset, textLength);\n                val.push({languageCode, countryCode, text});\n                offset += recordSize;\n            }\n            if (numRecords === 1) {\n                addTag(tags, tagSignature, val[0].text);\n            } else {\n                const valObj = {};\n                for (let valIndex = 0; valIndex < val.length; valIndex++) {\n                    valObj[`${val[valIndex].languageCode}-${val[valIndex].countryCode}`] = val[valIndex].text;\n                }\n                addTag(tags, tagSignature, valObj);\n            }\n        } else if (tagType === TAG_TYPE_TEXT) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + tagSize - 7));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_SIGNATURE) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + 12));\n            addTag(tags, tagSignature, val);\n        }\n        tagHeaderOffset = tagHeaderOffset + 12;\n    }\n\n    return tags;\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction addTag(tags, tagSignature, value) {\n    if (iccTags[tagSignature]) {\n        tags[iccTags[tagSignature].name] = {value, description: value};\n    } else {\n        tags[tagSignature] = {value, description: value};\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    return {\n        'Image Width': getImageWidth(dataView, fileDataOffset),\n        'Image Height': getImageHeight(dataView, fileDataOffset),\n        'Bit Depth': getBitDepth(dataView, fileDataOffset),\n        'Color Type': getColorType(dataView, fileDataOffset),\n        'Compression': getCompression(dataView, fileDataOffset),\n        'Filter': getFilter(dataView, fileDataOffset),\n        'Interlace': getInterlace(dataView, fileDataOffset)\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset) {\n    const OFFSET = 0;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset) {\n    const OFFSET = 4;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getBitDepth(dataView, fileDataOffset) {\n    const OFFSET = 8;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}`\n    };\n}\n\nfunction getColorType(dataView, fileDataOffset) {\n    const OFFSET = 9;\n    const SIZE = 1;\n    const COLOR_TYPES = {\n        0: 'Grayscale',\n        2: 'RGB',\n        3: 'Palette',\n        4: 'Grayscale with Alpha',\n        6: 'RGB with Alpha'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: COLOR_TYPES[value] || 'Unknown'\n    };\n}\n\nfunction getCompression(dataView, fileDataOffset) {\n    const OFFSET = 10;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Deflate/Inflate' : 'Unknown'\n    };\n}\n\nfunction getFilter(dataView, fileDataOffset) {\n    const OFFSET = 11;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Adaptive' : 'Unknown'\n    };\n}\n\nfunction getInterlace(dataView, fileDataOffset) {\n    const OFFSET = 12;\n    const SIZE = 1;\n    const INTERLACE_TYPES = {\n        0: 'Noninterlaced',\n        1: 'Adam7 Interlace'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: INTERLACE_TYPES[value] || 'Unknown'\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValueFromArray} from './utils.js';\nimport TagDecoder from './tag-decoder.js';\nimport {TYPE_TEXT, TYPE_ITXT} from './image-header-png.js';\n\nexport default {\n    read\n};\n\nconst STATE_KEYWORD = 'STATE_KEYWORD';\nconst STATE_COMPRESSION = 'STATE_COMPRESSION';\nconst STATE_LANG = 'STATE_LANG';\nconst STATE_TRANSLATED_KEYWORD = 'STATE_TRANSLATED_KEYWORD';\nconst STATE_TEXT = 'STATE_TEXT';\nconst COMPRESSION_SECTION_LENGTH = 2;\n\nfunction read(dataView, pngTextChunks) {\n    return pngTextChunks.reduce((tags, {offset, length, type}) => {\n        const {name, value, description} = getNameAndValue(dataView, offset, length, type);\n        if (name) {\n            tags[name] = {\n                value,\n                description\n            };\n        }\n        return tags;\n    }, {});\n}\n\nfunction getNameAndValue(dataView, offset, length, type) {\n    const keywordChars = [];\n    const langChars = [];\n    const translatedKeywordChars = [];\n    const valueChars = [];\n    let parsingState = STATE_KEYWORD;\n\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        if (parsingState === STATE_COMPRESSION) {\n            const compressionFlag = dataView.getUint8(offset + i);\n            if (compressionFlag !== 0) {\n                return {}; // We don't support compression.\n            }\n            i += COMPRESSION_SECTION_LENGTH;\n            parsingState = moveToNextState(type, parsingState);\n        }\n        const byte = dataView.getUint8(offset + i);\n        if (byte === 0) {\n            parsingState = moveToNextState(type, parsingState);\n        } else if (parsingState === STATE_KEYWORD) {\n            keywordChars.push(byte);\n        } else if (parsingState === STATE_LANG) {\n            langChars.push(byte);\n        } else if (parsingState === STATE_TRANSLATED_KEYWORD) {\n            translatedKeywordChars.push(byte);\n        } else {\n            valueChars.push(byte);\n        }\n    }\n\n    const textValue = getStringValueFromArray(valueChars);\n\n    return {\n        name: getName(type, langChars, keywordChars),\n        value: textValue,\n        description: type === TYPE_ITXT ? TagDecoder.decode('UTF-8', valueChars) : textValue\n    };\n}\n\nfunction moveToNextState(type, parsingState) {\n    if (parsingState === STATE_KEYWORD && type === TYPE_ITXT) {\n        return STATE_COMPRESSION;\n    }\n    if (parsingState === STATE_COMPRESSION) {\n        return STATE_LANG;\n    }\n    if (parsingState === STATE_LANG) {\n        return STATE_TRANSLATED_KEYWORD;\n    }\n    return STATE_TEXT;\n}\n\nfunction getName(type, langChars, keywordChars) {\n    const name = getStringValueFromArray(keywordChars);\n    if (type === TYPE_TEXT || langChars.length === 0) {\n        return name;\n    }\n    const lang = getStringValueFromArray(langChars);\n    return `${name} (${lang})`;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\nimport {PNG_CHUNK_LENGTH_OFFSET, PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_DATA_OFFSET, PNG_CHUNK_TYPE_SIZE, TYPE_PHYS, TYPE_TIME} from './image-header-png.js';\nimport {getStringFromDataView} from './utils.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, chunkOffsets) {\n    const tags = {};\n\n    for (let i = 0; i < chunkOffsets.length; i++) {\n        const chunkLength = Types.getLongAt(dataView, chunkOffsets[i] + PNG_CHUNK_LENGTH_OFFSET);\n        const chunkType = getStringFromDataView(dataView, chunkOffsets[i] + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE);\n\n        if (chunkType === TYPE_PHYS) {\n            tags['Pixels Per Unit X'] = getPixelsPerUnitX(dataView, chunkOffsets[i], chunkLength);\n            tags['Pixels Per Unit Y'] = getPixelsPerUnitY(dataView, chunkOffsets[i], chunkLength);\n            tags['Pixel Units'] = getPixelUnits(dataView, chunkOffsets[i], chunkLength);\n        } else if (chunkType === TYPE_TIME) {\n            tags['Modify Date'] = getModifyDate(dataView, chunkOffsets[i], chunkLength);\n        }\n    }\n\n    return tags;\n}\n\nfunction getPixelsPerUnitX(dataView, chunkOffset, chunkLength) {\n    const TAG_OFFSET = 0;\n    const TAG_SIZE = 4;\n\n    if (!tagFitsInBuffer(dataView, chunkOffset, chunkLength, TAG_OFFSET, TAG_SIZE)) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + TAG_OFFSET);\n\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getPixelsPerUnitY(dataView, chunkOffset, chunkLength) {\n    const TAG_OFFSET = 4;\n    const TAG_SIZE = 4;\n\n    if (!tagFitsInBuffer(dataView, chunkOffset, chunkLength, TAG_OFFSET, TAG_SIZE)) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + TAG_OFFSET);\n\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getPixelUnits(dataView, chunkOffset, chunkLength) {\n    const TAG_OFFSET = 8;\n    const TAG_SIZE = 1;\n\n    if (!tagFitsInBuffer(dataView, chunkOffset, chunkLength, TAG_OFFSET, TAG_SIZE)) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + TAG_OFFSET);\n\n    return {\n        value,\n        description: value === 1 ? 'meters' : 'Unknown'\n    };\n}\n\nfunction getModifyDate(dataView, chunkOffset, chunkLength) {\n    const TIME_TAG_SIZE = 7;\n\n    if (!tagFitsInBuffer(dataView, chunkOffset, chunkLength, 0, TIME_TAG_SIZE)) {\n        return undefined;\n    }\n\n    const year = Types.getShortAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET);\n    const month = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + 2);\n    const day = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + 3);\n    const hours = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + 4);\n    const minutes = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + 5);\n    const seconds = Types.getByteAt(dataView, chunkOffset + PNG_CHUNK_DATA_OFFSET + 6);\n\n    return {\n        value: [year, month, day, hours, minutes, seconds],\n        description: `${pad(year, 4)}-${pad(month, 2)}-${pad(day, 2)} ${pad(hours, 2)}:${pad(minutes, 2)}:${pad(seconds, 2)}`\n    };\n}\n\nfunction tagFitsInBuffer(dataView, chunkOffset, chunkLength, tagOffset, tagSize) {\n    return tagOffset + tagSize <= chunkLength && chunkOffset + PNG_CHUNK_DATA_OFFSET + tagOffset + tagSize <= dataView.byteLength;\n}\n\nfunction pad(number, size) {\n    return `${'0'.repeat(size - ('' + number).length)}${number}`;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {deferInit, getBase64Image} from './utils.js';\n\n// https://exiftool.org/TagNames/EXIF.html#Compression\nconst COMPRESSION_JPEG = [6, 7, 99];\n\nexport default {\n    get,\n};\n\nfunction get(dataView, thumbnailTags, tiffHeaderOffset) {\n    if (hasJpegThumbnail(thumbnailTags)) {\n        thumbnailTags.type = 'image/jpeg';\n        const offset = tiffHeaderOffset + thumbnailTags.JPEGInterchangeFormat.value;\n        thumbnailTags.image = dataView.buffer.slice(offset, offset + thumbnailTags.JPEGInterchangeFormatLength.value);\n        deferInit(thumbnailTags, 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    // There is a small possibility of thumbnails in TIFF format but they are\n    // not stored as a self-contained image file and would be much more\n    // difficult to extract.\n    // https://exiftool.org/forum/index.php?topic=3273.msg14778#msg14778\n\n    return thumbnailTags;\n}\n\nfunction hasJpegThumbnail(tags) {\n    return tags && ((tags.Compression === undefined) || (COMPRESSION_JPEG.includes(tags.Compression.value)))\n        && tags.JPEGInterchangeFormat && tags.JPEGInterchangeFormat.value\n        && tags.JPEGInterchangeFormatLength && tags.JPEGInterchangeFormatLength.value;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n/**\n * Thrown when no Exif metadata was found for the given image.\n *\n * @param {string} message The error message.\n */\nfunction MetadataMissingError(message) {\n    this.name = 'MetadataMissingError';\n    this.message = message || 'No Exif data';\n    this.stack = (new Error()).stack;\n}\n\nMetadataMissingError.prototype = new Error;\n\nexport default {\n    MetadataMissingError,\n};\n","/**\n * ExifReader\n * http://github.com/mattiasw/exifreader\n * Copyright (C) 2011-2023  Mattias Wallander <mattias@wallander.eu>\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n/* global Buffer, __non_webpack_require__ */\n\nimport {objectAssign, dataUriToBuffer} from './utils.js';\nimport DataViewWrapper from './dataview.js';\nimport Constants from './constants.js';\nimport {getStringValueFromArray} from './utils.js';\nimport {getCalculatedGpsValue} from './tag-names-utils.js';\nimport ImageHeader from './image-header.js';\nimport Tags from './tags.js';\nimport FileTags from './file-tags.js';\nimport JfifTags from './jfif-tags.js';\nimport IptcTags from './iptc-tags.js';\nimport XmpTags from './xmp-tags.js';\nimport IccTags from './icc-tags.js';\nimport PngFileTags from './png-file-tags.js';\nimport PngTextTags from './png-text-tags.js';\nimport PngTags from './png-tags.js';\nimport Thumbnail from './thumbnail.js';\nimport exifErrors from './errors.js';\n\nexport default {\n    load,\n    loadView,\n    errors: exifErrors,\n};\n\nexport const errors = exifErrors;\n\nexport function load(data, options) {\n    if (isFilePathOrURL(data)) {\n        return loadFile(data, options).then((fileContents) => loadFromData(fileContents, options));\n    }\n    if (isBrowserFileObject(data)) {\n        return loadFileObject(data).then((fileContents) => loadFromData(fileContents, options));\n    }\n    return loadFromData(data, options);\n}\n\nfunction isFilePathOrURL(data) {\n    return typeof data === 'string';\n}\n\nfunction loadFile(filename, options) {\n    if (/^https?:\\/\\//.test(filename)) {\n        if (typeof fetch !== 'undefined') {\n            return browserFetchRemoteFile(filename, options);\n        }\n\n        return nodeFetchRemoteFile(filename, options);\n    }\n\n    if (isDataUri(filename)) {\n        return Promise.resolve(dataUriToBuffer(filename));\n    }\n\n    return loadLocalFile(filename, options);\n}\n\nfunction browserFetchRemoteFile(url, {length} = {}) {\n    const options = {method: 'GET'};\n    if (Number.isInteger(length) && length >= 0) {\n        options.headers = {\n            range: `bytes=0-${length - 1}`,\n        };\n    }\n    return fetch(url, options).then((response) => response.arrayBuffer());\n}\n\nfunction nodeFetchRemoteFile(url, {length} = {}) {\n    return new Promise((resolve, reject) => {\n        const options = {};\n        if (Number.isInteger(length) && length >= 0) {\n            options.headers = {\n                range: `bytes=0-${length - 1}`,\n            };\n        }\n\n        const get = requireNodeGet(url);\n        get(url, options, (response) => {\n            if ((response.statusCode >= 200) && (response.statusCode <= 299)) {\n                const data = [];\n                response.on('data', (chunk) => data.push(Buffer.from(chunk)));\n                response.on('error', (error) => reject(error));\n                response.on('end', () => resolve(Buffer.concat(data)));\n            } else {\n                reject(`Could not fetch file: ${response.statusCode} ${response.statusMessage}`);\n                response.resume();\n            }\n        }).on('error', (error) => reject(error));\n    });\n}\n\nfunction requireNodeGet(url) {\n    if (/^https:\\/\\//.test(url)) {\n        return __non_webpack_require__('https').get;\n    }\n    return __non_webpack_require__('http').get;\n}\n\nfunction isDataUri(filename) {\n    return /^data:[^;,]*(;base64)?,/.test(filename);\n}\n\nfunction loadLocalFile(filename, {length} = {}) {\n    return new Promise((resolve, reject) => {\n        const fs = requireNodeFs();\n        fs.open(filename, (error, fd) => {\n            if (error) {\n                reject(error);\n            } else {\n                fs.stat(filename, (error, stat) => {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        const size = Math.min(stat.size, length !== undefined ? length : stat.size);\n                        const buffer = Buffer.alloc(size);\n                        const options = {\n                            buffer,\n                            length: size\n                        };\n                        fs.read(fd, options, (error) => {\n                            if (error) {\n                                reject(error);\n                            } else {\n                                fs.close(fd, (error) => {\n                                    if (error) {\n                                        console.warn(`Could not close file ${filename}:`, error); // eslint-disable-line no-console\n                                    }\n                                    resolve(buffer);\n                                });\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    });\n}\n\nfunction requireNodeFs() {\n    try {\n        return __non_webpack_require__('fs');\n    } catch (error) {\n        return undefined;\n    }\n}\n\nfunction isBrowserFileObject(data) {\n    return (typeof window !== 'undefined') && (typeof File !== 'undefined') && (data instanceof File);\n}\n\nfunction loadFileObject(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (readerEvent) => resolve(readerEvent.target.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsArrayBuffer(file);\n    });\n}\n\nfunction loadFromData(data, options) {\n    if (isNodeBuffer(data)) {\n        // File data read in Node can share the underlying buffer with other\n        // data. Therefore it's safest to get a new one to avoid weird bugs.\n        data = (new Uint8Array(data)).buffer;\n    }\n    return loadView(getDataView(data), options);\n}\n\nfunction isNodeBuffer(data) {\n    try {\n        return Buffer.isBuffer(data);\n    } catch (error) {\n        return false;\n    }\n}\n\nfunction getDataView(data) {\n    try {\n        return new DataView(data);\n    } catch (error) {\n        return new DataViewWrapper(data);\n    }\n}\n\nexport function loadView(dataView, {expanded = false, includeUnknown = false} = {expanded: false, includeUnknown: false}) {\n    let foundMetaData = false;\n    let tags = {};\n\n    const {\n        fileDataOffset,\n        jfifDataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks,\n        mpfDataOffset,\n        pngHeaderOffset,\n        pngTextChunks,\n        pngChunkOffsets\n    } = ImageHeader.parseAppMarkers(dataView);\n\n    if (Constants.USE_JPEG && Constants.USE_FILE && hasFileData(fileDataOffset)) {\n        foundMetaData = true;\n        const readTags = FileTags.read(dataView, fileDataOffset);\n        if (expanded) {\n            tags.file = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_JPEG && Constants.USE_JFIF && hasJfifData(jfifDataOffset)) {\n        foundMetaData = true;\n        const readTags = JfifTags.read(dataView, jfifDataOffset);\n        if (expanded) {\n            tags.jfif = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_EXIF && hasExifData(tiffHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = Tags.read(dataView, tiffHeaderOffset, includeUnknown);\n        if (readTags.Thumbnail) {\n            tags.Thumbnail = readTags.Thumbnail;\n            delete readTags.Thumbnail;\n        }\n\n        if (expanded) {\n            tags.exif = readTags;\n            addGpsGroup(tags);\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_IPTC && readTags['IPTC-NAA'] && !hasIptcData(iptcDataOffset)) {\n            const readIptcTags = IptcTags.read(readTags['IPTC-NAA'].value, 0, includeUnknown);\n            if (expanded) {\n                tags.iptc = readIptcTags;\n            } else {\n                tags = objectAssign({}, tags, readIptcTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_XMP && readTags['ApplicationNotes'] && !hasXmpData(xmpChunks)) {\n            const readXmpTags = XmpTags.read(getStringValueFromArray(readTags['ApplicationNotes'].value));\n            if (expanded) {\n                tags.xmp = readXmpTags;\n            } else {\n                delete readXmpTags._raw;\n                tags = objectAssign({}, tags, readXmpTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_ICC && readTags['ICC_Profile'] && !hasIccData(iccChunks)) {\n            const readIccTags = IccTags.read(\n                readTags['ICC_Profile'].value,\n                [{\n                    offset: 0,\n                    length: readTags['ICC_Profile'].value.length,\n                    chunkNumber: 1,\n                    chunksTotal: 1\n                }]\n            );\n            if (expanded) {\n                tags.icc = readIccTags;\n            } else {\n                tags = objectAssign({}, tags, readIccTags);\n            }\n        }\n    }\n\n    if (Constants.USE_JPEG && Constants.USE_IPTC && hasIptcData(iptcDataOffset)) {\n        foundMetaData = true;\n        const readTags = IptcTags.read(dataView, iptcDataOffset, includeUnknown);\n        if (expanded) {\n            tags.iptc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_XMP && hasXmpData(xmpChunks)) {\n        foundMetaData = true;\n        const readTags = XmpTags.read(dataView, xmpChunks);\n        if (expanded) {\n            tags.xmp = readTags;\n        } else {\n            delete readTags._raw;\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if ((Constants.USE_JPEG || Constants.USE_WEBP) && Constants.USE_ICC && hasIccData(iccChunks)) {\n        foundMetaData = true;\n        const readTags = IccTags.read(dataView, iccChunks);\n        if (expanded) {\n            tags.icc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_MPF && hasMpfData(mpfDataOffset)) {\n        foundMetaData = true;\n        const readMpfTags = Tags.readMpf(dataView, mpfDataOffset, includeUnknown);\n        if (expanded) {\n            tags.mpf = readMpfTags;\n        } else {\n            tags = objectAssign({}, tags, readMpfTags);\n        }\n    }\n\n    if (Constants.USE_PNG && Constants.USE_PNG_FILE && hasPngFileData(pngHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = PngFileTags.read(dataView, pngHeaderOffset);\n        if (expanded) {\n            tags.png = !tags.png ? readTags : objectAssign({}, tags.png, readTags);\n            tags.pngFile = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_PNG && hasPngTextData(pngTextChunks)) {\n        foundMetaData = true;\n        const readTags = PngTextTags.read(dataView, pngTextChunks);\n        if (expanded) {\n            tags.png = !tags.png ? readTags : objectAssign({}, tags.png, readTags);\n            tags.pngText = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_PNG && hasPngData(pngChunkOffsets)) {\n        foundMetaData = true;\n        const readTags = PngTags.read(dataView, pngChunkOffsets);\n        if (expanded) {\n            tags.png = !tags.png ? readTags : objectAssign({}, tags.png, readTags);\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    const thumbnail = (Constants.USE_JPEG || Constants.USE_WEBP)\n        && Constants.USE_EXIF\n        && Constants.USE_THUMBNAIL\n        && Thumbnail.get(dataView, tags.Thumbnail, tiffHeaderOffset);\n    if (thumbnail) {\n        foundMetaData = true;\n        tags.Thumbnail = thumbnail;\n    } else {\n        delete tags.Thumbnail;\n    }\n\n    if (!foundMetaData) {\n        throw new exifErrors.MetadataMissingError();\n    }\n\n    return tags;\n}\n\nfunction hasFileData(fileDataOffset) {\n    return fileDataOffset !== undefined;\n}\n\nfunction hasJfifData(jfifDataOffset) {\n    return jfifDataOffset !== undefined;\n}\n\nfunction hasExifData(tiffHeaderOffset) {\n    return tiffHeaderOffset !== undefined;\n}\n\nfunction addGpsGroup(tags) {\n    if (tags.exif) {\n        if (tags.exif.GPSLatitude && tags.exif.GPSLatitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Latitude = getCalculatedGpsValue(tags.exif.GPSLatitude.value);\n                if (tags.exif.GPSLatitudeRef.value.join('') === 'S') {\n                    tags.gps.Latitude = -tags.gps.Latitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n\n        if (tags.exif.GPSLongitude && tags.exif.GPSLongitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Longitude = getCalculatedGpsValue(tags.exif.GPSLongitude.value);\n                if (tags.exif.GPSLongitudeRef.value.join('') === 'W') {\n                    tags.gps.Longitude = -tags.gps.Longitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n\n        if (tags.exif.GPSAltitude && tags.exif.GPSAltitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Altitude = tags.exif.GPSAltitude.value[0] / tags.exif.GPSAltitude.value[1];\n                if (tags.exif.GPSAltitudeRef.value === 1) {\n                    tags.gps.Altitude = -tags.gps.Altitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n    }\n}\n\nfunction hasIptcData(iptcDataOffset) {\n    return iptcDataOffset !== undefined;\n}\n\nfunction hasXmpData(xmpChunks) {\n    return Array.isArray(xmpChunks) && xmpChunks.length > 0;\n}\n\nfunction hasIccData(iccDataOffsets) {\n    return Array.isArray(iccDataOffsets) && iccDataOffsets.length > 0;\n}\n\nfunction hasMpfData(mpfDataOffset) {\n    return mpfDataOffset !== undefined;\n}\n\nfunction hasPngFileData(pngFileDataOffset) {\n    return pngFileDataOffset !== undefined;\n}\n\nfunction hasPngTextData(pngTextChunks) {\n    return pngTextChunks !== undefined;\n}\n\nfunction hasPngData(pngChunkOffsets) {\n    return pngChunkOffsets !== undefined;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","export const COMMON_MIME_TYPES = new Map([\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n    ['aac', 'audio/aac'],\n    ['abw', 'application/x-abiword'],\n    ['arc', 'application/x-freearc'],\n    ['avif', 'image/avif'],\n    ['avi', 'video/x-msvideo'],\n    ['azw', 'application/vnd.amazon.ebook'],\n    ['bin', 'application/octet-stream'],\n    ['bmp', 'image/bmp'],\n    ['bz', 'application/x-bzip'],\n    ['bz2', 'application/x-bzip2'],\n    ['cda', 'application/x-cdf'],\n    ['csh', 'application/x-csh'],\n    ['css', 'text/css'],\n    ['csv', 'text/csv'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\n    ['eot', 'application/vnd.ms-fontobject'],\n    ['epub', 'application/epub+zip'],\n    ['gz', 'application/gzip'],\n    ['gif', 'image/gif'],\n    ['heic', 'image/heic'],\n    ['heif', 'image/heif'],\n    ['htm', 'text/html'],\n    ['html', 'text/html'],\n    ['ico', 'image/vnd.microsoft.icon'],\n    ['ics', 'text/calendar'],\n    ['jar', 'application/java-archive'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['js', 'text/javascript'],\n    ['json', 'application/json'],\n    ['jsonld', 'application/ld+json'],\n    ['mid', 'audio/midi'],\n    ['midi', 'audio/midi'],\n    ['mjs', 'text/javascript'],\n    ['mp3', 'audio/mpeg'],\n    ['mp4', 'video/mp4'],\n    ['mpeg', 'video/mpeg'],\n    ['mpkg', 'application/vnd.apple.installer+xml'],\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\n    ['odt', 'application/vnd.oasis.opendocument.text'],\n    ['oga', 'audio/ogg'],\n    ['ogv', 'video/ogg'],\n    ['ogx', 'application/ogg'],\n    ['opus', 'audio/opus'],\n    ['otf', 'font/otf'],\n    ['png', 'image/png'],\n    ['pdf', 'application/pdf'],\n    ['php', 'application/x-httpd-php'],\n    ['ppt', 'application/vnd.ms-powerpoint'],\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\n    ['rar', 'application/vnd.rar'],\n    ['rtf', 'application/rtf'],\n    ['sh', 'application/x-sh'],\n    ['svg', 'image/svg+xml'],\n    ['swf', 'application/x-shockwave-flash'],\n    ['tar', 'application/x-tar'],\n    ['tif', 'image/tiff'],\n    ['tiff', 'image/tiff'],\n    ['ts', 'video/mp2t'],\n    ['ttf', 'font/ttf'],\n    ['txt', 'text/plain'],\n    ['vsd', 'application/vnd.visio'],\n    ['wav', 'audio/wav'],\n    ['weba', 'audio/webm'],\n    ['webm', 'video/webm'],\n    ['webp', 'image/webp'],\n    ['woff', 'font/woff'],\n    ['woff2', 'font/woff2'],\n    ['xhtml', 'application/xhtml+xml'],\n    ['xls', 'application/vnd.ms-excel'],\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\n    ['xml', 'application/xml'],\n    ['xul', 'application/vnd.mozilla.xul+xml'],\n    ['zip', 'application/zip'],\n    ['7z', 'application/x-7z-compressed'],\n\n    // Others\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['msg', 'application/vnd.ms-outlook']\n]);\n\n\nexport function toFileWithPath(file: FileWithPath, path?: string): FileWithPath {\n    const f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        const {webkitRelativePath} = file;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n\n    return f;\n}\n\nexport interface FileWithPath extends File {\n    readonly path?: string;\n}\n\nfunction withMimeType(file: FileWithPath) {\n    const {name} = file;\n    const hasExtension = name && name.lastIndexOf('.') !== -1;\n\n    if (hasExtension && !file.type) {\n        const ext = name.split('.')\n            .pop()!.toLowerCase();\n        const type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n\n    return file;\n}\n","import {FileWithPath, toFileWithPath} from './file';\n\n\nconst FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store', // macOs\n    'Thumbs.db'  // Windows\n];\n\n\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n *\n * EXPERIMENTAL: A list of https://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle objects can also be passed as an arg\n * and a list of File objects will be returned.\n *\n * @param evt\n */\nexport async function fromEvent(evt: Event | any): Promise<(FileWithPath | DataTransferItem)[]> {\n    if (isObject<DragEvent>(evt) && isDataTransfer(evt.dataTransfer)) {\n        return getDataTransferFiles(evt.dataTransfer, evt.type);\n    } else if (isChangeEvt(evt)) {\n        return getInputFiles(evt);\n    } else if (Array.isArray(evt) && evt.every(item => 'getFile' in item && typeof item.getFile === 'function')) {\n        return getFsHandleFiles(evt)\n    }\n    return [];\n}\n\nfunction isDataTransfer(value: any): value is DataTransfer {\n    return isObject(value);\n}\n\nfunction isChangeEvt(value: any): value is Event {\n    return isObject<Event>(value) && isObject(value.target);\n}\n\nfunction isObject<T>(v: any): v is T {\n    return typeof v === 'object' && v !== null\n}\n\nfunction getInputFiles(evt: Event) {\n    return fromList<FileWithPath>((evt.target as HTMLInputElement).files).map(file => toFileWithPath(file));\n}\n\n// Ee expect each handle to be https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\nasync function getFsHandleFiles(handles: any[]) {\n    const files = await Promise.all(handles.map(h => h.getFile()));\n    return files.map(file => toFileWithPath(file));\n}\n\n\nasync function getDataTransferFiles(dt: DataTransfer, type: string) {\n    // IE11 does not support dataTransfer.items\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items#Browser_compatibility\n    if (dt.items) {\n        const items = fromList<DataTransferItem>(dt.items)\n            .filter(item => item.kind === 'file');\n        // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n        // only 'dragstart' and 'drop' has access to the data (source node)\n        if (type !== 'drop') {\n            return items;\n        }\n        const files = await Promise.all(items.map(toFilePromises));\n        return noIgnoredFiles(flatten<FileWithPath>(files));\n    }\n\n    return noIgnoredFiles(fromList<FileWithPath>(dt.files)\n        .map(file => toFileWithPath(file)));\n}\n\nfunction noIgnoredFiles(files: FileWithPath[]) {\n    return files.filter(file => FILES_TO_IGNORE.indexOf(file.name) === -1);\n}\n\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList<T>(items: DataTransferItemList | FileList | null): T[] {\n    if (items === null) {\n        return [];\n    }\n\n    const files = [];\n\n    // tslint:disable: prefer-for-of\n    for (let i = 0; i < items.length; i++) {\n        const file = items[i];\n        files.push(file);\n    }\n\n    return files as any;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item: DataTransferItem) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n\n    const entry = item.webkitGetAsEntry();\n\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry) as any;\n    }\n\n    return fromDataTransferItem(item);\n}\n\nfunction flatten<T>(items: any[]): T[] {\n    return items.reduce((acc, files) => [\n        ...acc,\n        ...(Array.isArray(files) ? flatten(files) : [files])\n    ], []);\n}\n\nfunction fromDataTransferItem(item: DataTransferItem) {\n    const file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(`${item} is not a File`);\n    }\n    const fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nasync function fromEntry(entry: any) {\n    return entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry: any) {\n    const reader = entry.createReader();\n\n    return new Promise<FileArray[]>((resolve, reject) => {\n        const entries: Promise<FileValue[]>[] = [];\n\n        function readEntries() {\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(async (batch: any[]) => {\n                if (!batch.length) {\n                    // Done reading directory\n                    try {\n                        const files = await Promise.all(entries);\n                        resolve(files);\n                    } catch (err) {\n                        reject(err);\n                    }\n                } else {\n                    const items = Promise.all(batch.map(fromEntry));\n                    entries.push(items);\n\n                    // Continue reading\n                    readEntries();\n                }\n            }, (err: any) => {\n                reject(err);\n            });\n        }\n\n        readEntries();\n    });\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nasync function fromFileEntry(entry: any) {\n    return new Promise<FileWithPath>((resolve, reject) => {\n        entry.file((file: FileWithPath) => {\n            const fwp = toFileWithPath(file, entry.fullPath);\n            resolve(fwp);\n        }, (err: any) => {\n            reject(err);\n        });\n    });\n}\n\n// Infinite type recursion\n// https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\ninterface FileArray extends Array<FileValue> {}\ntype FileValue = FileWithPath\n    | FileArray[];\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from \"attr-accept\"; // Error codes\n\nexport var FILE_INVALID_TYPE = \"file-invalid-type\";\nexport var FILE_TOO_LARGE = \"file-too-large\";\nexport var FILE_TOO_SMALL = \"file-too-small\";\nexport var TOO_MANY_FILES = \"too-many-files\";\nexport var ErrorCode = {\n  FileInvalidType: FILE_INVALID_TYPE,\n  FileTooLarge: FILE_TOO_LARGE,\n  FileTooSmall: FILE_TOO_SMALL,\n  TooManyFiles: TOO_MANY_FILES\n}; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(\", \")) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" \").concat(maxSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" \").concat(minSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: \"Too many files\"\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === \"application/x-moz-file\" || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n/**\n *\n * @param {object} options\n * @param {File[]} options.files\n * @param {string|string[]} [options.accept]\n * @param {number} [options.minSize]\n * @param {number} [options.maxSize]\n * @param {boolean} [options.multiple]\n * @param {number} [options.maxFiles]\n * @param {(f: File) => FileError|FileError[]|null} [options.validator]\n * @returns\n */\n\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple,\n      maxFiles = _ref.maxFiles,\n      validator = _ref.validator;\n\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    var customErrors = validator ? validator(file) : null;\n    return accepted && sizeMatch && !customErrors;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === \"function\") {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== \"undefined\") {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === \"object\" && item !== null && item.kind === \"file\";\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf(\"Edge/\") !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}\n/**\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\n * is supported by the browser.\n * @returns {boolean}\n */\n\nexport function canUseFileSystemAccessAPI() {\n  return \"showOpenFilePicker\" in window;\n}\n/**\n * Convert the `{accept}` dropzone prop to the\n * `{types}` option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n *\n * @param {AcceptProp} accept\n * @returns {{accept: string[]}[]}\n */\n\nexport function pickerOptionsFromAccept(accept) {\n  if (isDefined(accept)) {\n    var acceptForPicker = Object.entries(accept).filter(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          mimeType = _ref3[0],\n          ext = _ref3[1];\n\n      var ok = true;\n\n      if (!isMIMEType(mimeType)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.\"));\n        ok = false;\n      }\n\n      if (!Array.isArray(ext) || !ext.every(isExt)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because an invalid file extension was provided.\"));\n        ok = false;\n      }\n\n      return ok;\n    }).reduce(function (agg, _ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          mimeType = _ref5[0],\n          ext = _ref5[1];\n\n      return _objectSpread(_objectSpread({}, agg), {}, _defineProperty({}, mimeType, ext));\n    }, {});\n    return [{\n      // description is required due to https://crbug.com/1264708\n      description: \"Files\",\n      accept: acceptForPicker\n    }];\n  }\n\n  return accept;\n}\n/**\n * Convert the `{accept}` dropzone prop to an array of MIME types/extensions.\n * @param {AcceptProp} accept\n * @returns {string}\n */\n\nexport function acceptPropAsAcceptAttr(accept) {\n  if (isDefined(accept)) {\n    return Object.entries(accept).reduce(function (a, _ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          mimeType = _ref7[0],\n          ext = _ref7[1];\n\n      return [].concat(_toConsumableArray(a), [mimeType], _toConsumableArray(ext));\n    }, []) // Silently discard invalid entries as pickerOptionsFromAccept warns about these\n    .filter(function (v) {\n      return isMIMEType(v) || isExt(v);\n    }).join(\",\");\n  }\n\n  return undefined;\n}\n/**\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is an abort exception.\n */\n\nexport function isAbort(v) {\n  return v instanceof DOMException && (v.name === \"AbortError\" || v.code === v.ABORT_ERR);\n}\n/**\n * Check if v is a security error.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is a security error.\n */\n\nexport function isSecurityError(v) {\n  return v instanceof DOMException && (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR);\n}\n/**\n * Check if v is a MIME type string.\n *\n * See accepted format: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers.\n *\n * @param {string} v\n */\n\nexport function isMIMEType(v) {\n  return v === \"audio/*\" || v === \"video/*\" || v === \"image/*\" || v === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(v);\n}\n/**\n * Check if v is a file extension.\n * @param {string} v\n */\n\nexport function isExt(v) {\n  return /^.*\\.[\\w]+$/.test(v);\n}\n/**\n * @typedef {Object.<string, string[]>} AcceptProp\n */\n\n/**\n * @typedef {object} FileError\n * @property {string} message\n * @property {ErrorCode|string} code\n */\n\n/**\n * @typedef {\"file-invalid-type\"|\"file-too-large\"|\"file-too-small\"|\"too-many-files\"} ErrorCode\n */","var _excluded = [\"children\"],\n    _excluded2 = [\"open\"],\n    _excluded3 = [\"refKey\", \"role\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fromEvent } from \"file-selector\";\nimport { acceptPropAsAcceptAttr, allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, canUseFileSystemAccessAPI, isAbort, isEvtWithFiles, isIeOrEdge, isPropagationStopped, isSecurityError, onDocumentDragOver, pickerOptionsFromAccept, TOO_MANY_FILES_REJECTION } from \"./utils/index\";\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\n    open: open\n  })));\n});\nDropzone.displayName = \"Dropzone\"; // Add default props for react-docgen\n\nvar defaultProps = {\n  disabled: false,\n  getFilesFromEvent: fromEvent,\n  maxSize: Infinity,\n  minSize: 0,\n  multiple: true,\n  maxFiles: 0,\n  preventDropOnDocument: true,\n  noClick: false,\n  noKeyboard: false,\n  noDrag: false,\n  noDragEventsBubbling: false,\n  validator: null,\n  useFsAccessApi: true,\n  autoFocus: false\n};\nDropzone.defaultProps = defaultProps;\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n   */\n  accept: PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Maximum accepted number of files\n   * The default value is 0 which means there is no limitation to how many files are accepted.\n   */\n  maxFiles: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when opening the file dialog\n   */\n  onFileDialogOpen: PropTypes.func,\n\n  /**\n   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n   * to open the file picker instead of using an `<input type=\"file\">` click event.\n   */\n  useFsAccessApi: PropTypes.bool,\n\n  /**\n   * Set to true to focus the root element on render\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are dropped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * Cb for when there's some error from any of the promises.\n   *\n   * @param {Error} error\n   */\n  onError: PropTypes.func,\n\n  /**\n   * Custom validation function. It must return null if there's no errors.\n   * @param {File} file\n   * @returns {FileError|FileError[]|null}\n   */\n  validator: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state.\n *\n * @typedef {object} DropzoneState\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\n/**\n * An object with the dropzone methods.\n *\n * @typedef {object} DropzoneMethods\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {import(\"./utils\").AcceptProp} [props.accept] Set accepted file types.\n * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {boolean} [props.useFsAccessApi] Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n * to open the file picker instead of using an `<input type=\"file\">` click event.\n * @param {boolean} autoFocus Set to true to auto focus the root element.\n * @param {Function} [props.onFileDialogOpen] Cb for when opening the file dialog\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be an object with keys as a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) and the value an array of file extensions (optional).\n * If `multiple` is set to false and additional files are dropped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n * @param {(error: Error) => void} [props.onError]\n *\n * @returns {DropzoneState & DropzoneMethods}\n */\n\nexport function useDropzone() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n      accept = _defaultProps$props.accept,\n      disabled = _defaultProps$props.disabled,\n      getFilesFromEvent = _defaultProps$props.getFilesFromEvent,\n      maxSize = _defaultProps$props.maxSize,\n      minSize = _defaultProps$props.minSize,\n      multiple = _defaultProps$props.multiple,\n      maxFiles = _defaultProps$props.maxFiles,\n      onDragEnter = _defaultProps$props.onDragEnter,\n      onDragLeave = _defaultProps$props.onDragLeave,\n      onDragOver = _defaultProps$props.onDragOver,\n      onDrop = _defaultProps$props.onDrop,\n      onDropAccepted = _defaultProps$props.onDropAccepted,\n      onDropRejected = _defaultProps$props.onDropRejected,\n      onFileDialogCancel = _defaultProps$props.onFileDialogCancel,\n      onFileDialogOpen = _defaultProps$props.onFileDialogOpen,\n      useFsAccessApi = _defaultProps$props.useFsAccessApi,\n      autoFocus = _defaultProps$props.autoFocus,\n      preventDropOnDocument = _defaultProps$props.preventDropOnDocument,\n      noClick = _defaultProps$props.noClick,\n      noKeyboard = _defaultProps$props.noKeyboard,\n      noDrag = _defaultProps$props.noDrag,\n      noDragEventsBubbling = _defaultProps$props.noDragEventsBubbling,\n      onError = _defaultProps$props.onError,\n      validator = _defaultProps$props.validator;\n\n  var acceptAttr = useMemo(function () {\n    return acceptPropAsAcceptAttr(accept);\n  }, [accept]);\n  var pickerTypes = useMemo(function () {\n    return pickerOptionsFromAccept(accept);\n  }, [accept]);\n  var onFileDialogOpenCb = useMemo(function () {\n    return typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop;\n  }, [onFileDialogOpen]);\n  var onFileDialogCancelCb = useMemo(function () {\n    return typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop;\n  }, [onFileDialogCancel]);\n  /**\n   * @constant\n   * @type {React.MutableRefObject<HTMLElement>}\n   */\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive;\n  var fsAccessApiWorksRef = useRef(typeof window !== \"undefined\" && window.isSecureContext && useFsAccessApi && canUseFileSystemAccessAPI()); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: \"closeDialog\"\n            });\n            onFileDialogCancelCb();\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"focus\", onWindowFocus, false);\n    return function () {\n      window.removeEventListener(\"focus\", onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\n      document.addEventListener(\"drop\", onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\n        document.removeEventListener(\"drop\", onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]); // Auto focus the root when autoFocus is true\n\n  useEffect(function () {\n    if (!disabled && autoFocus && rootRef.current) {\n      rootRef.current.focus();\n    }\n\n    return function () {};\n  }, [rootRef, autoFocus, disabled]);\n  var onErrCb = useCallback(function (e) {\n    if (onError) {\n      onError(e);\n    } else {\n      // Let the user know something's gone wrong if they haven't provided the onError cb.\n      console.error(e);\n    }\n  }, [onError]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var fileCount = files.length;\n        var isDragAccept = fileCount > 0 && allFilesAccepted({\n          files: files,\n          accept: acceptAttr,\n          minSize: minSize,\n          maxSize: maxSize,\n          multiple: multiple,\n          maxFiles: maxFiles,\n          validator: validator\n        });\n        var isDragReject = fileCount > 0 && !isDragAccept;\n        dispatch({\n          isDragAccept: isDragAccept,\n          isDragReject: isDragReject,\n          isDragActive: true,\n          type: \"setDraggedFiles\"\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, onErrCb, noDragEventsBubbling, acceptAttr, minSize, maxSize, multiple, maxFiles, validator]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n    var hasFiles = isEvtWithFiles(event);\n\n    if (hasFiles && event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = \"copy\";\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (hasFiles && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      type: \"setDraggedFiles\",\n      isDragActive: false,\n      isDragAccept: false,\n      isDragReject: false\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var setFiles = useCallback(function (files, event) {\n    var acceptedFiles = [];\n    var fileRejections = [];\n    files.forEach(function (file) {\n      var _fileAccepted = fileAccepted(file, acceptAttr),\n          _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n          accepted = _fileAccepted2[0],\n          acceptError = _fileAccepted2[1];\n\n      var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n          _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n          sizeMatch = _fileMatchSize2[0],\n          sizeError = _fileMatchSize2[1];\n\n      var customErrors = validator ? validator(file) : null;\n\n      if (accepted && sizeMatch && !customErrors) {\n        acceptedFiles.push(file);\n      } else {\n        var errors = [acceptError, sizeError];\n\n        if (customErrors) {\n          errors = errors.concat(customErrors);\n        }\n\n        fileRejections.push({\n          file: file,\n          errors: errors.filter(function (e) {\n            return e;\n          })\n        });\n      }\n    });\n\n    if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\n      // Reject everything and empty accepted files\n      acceptedFiles.forEach(function (file) {\n        fileRejections.push({\n          file: file,\n          errors: [TOO_MANY_FILES_REJECTION]\n        });\n      });\n      acceptedFiles.splice(0);\n    }\n\n    dispatch({\n      acceptedFiles: acceptedFiles,\n      fileRejections: fileRejections,\n      type: \"setFiles\"\n    });\n\n    if (onDrop) {\n      onDrop(acceptedFiles, fileRejections, event);\n    }\n\n    if (fileRejections.length > 0 && onDropRejected) {\n      onDropRejected(fileRejections, event);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted(acceptedFiles, event);\n    }\n  }, [dispatch, multiple, acceptAttr, minSize, maxSize, maxFiles, onDrop, onDropAccepted, onDropRejected, validator]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        setFiles(files, event);\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n\n    dispatch({\n      type: \"reset\"\n    });\n  }, [getFilesFromEvent, setFiles, onErrCb, noDragEventsBubbling]); // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    // No point to use FS access APIs if context is not secure\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\n    if (fsAccessApiWorksRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb(); // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n\n      var opts = {\n        multiple: multiple,\n        types: pickerTypes\n      };\n      window.showOpenFilePicker(opts).then(function (handles) {\n        return getFilesFromEvent(handles);\n      }).then(function (files) {\n        setFiles(files, null);\n        dispatch({\n          type: \"closeDialog\"\n        });\n      }).catch(function (e) {\n        // AbortError means the user canceled\n        if (isAbort(e)) {\n          onFileDialogCancelCb(e);\n          dispatch({\n            type: \"closeDialog\"\n          });\n        } else if (isSecurityError(e)) {\n          fsAccessApiWorksRef.current = false; // CORS, so cannot use this API\n          // Try using the input\n\n          if (inputRef.current) {\n            inputRef.current.value = null;\n            inputRef.current.click();\n          } else {\n            onErrCb(new Error(\"Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.\"));\n          }\n        } else {\n          onErrCb(e);\n        }\n      });\n      return;\n    }\n\n    if (inputRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb();\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch, onFileDialogOpenCb, onFileDialogCancelCb, useFsAccessApi, setFiles, onErrCb, pickerTypes, multiple]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.key === \" \" || event.key === \"Enter\" || event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, openFileDialog]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: \"focus\"\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: \"blur\"\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [noClick, openFileDialog]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? \"ref\" : _ref2$refKey,\n          role = _ref2.role,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, _excluded3);\n\n      return _objectSpread(_objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\n        role: typeof role === \"string\" && role !== \"\" ? role : \"presentation\"\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}), rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, _excluded4);\n\n      var inputProps = _defineProperty({\n        accept: acceptAttr,\n        multiple: multiple,\n        type: \"file\",\n        style: {\n          display: \"none\"\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread(_objectSpread({}, inputProps), rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n/**\n * @param {DropzoneState} state\n * @param {{type: string} & DropzoneState} action\n * @returns {DropzoneState}\n */\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case \"focus\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: true\n      });\n\n    case \"blur\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: false\n      });\n\n    case \"openDialog\":\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        isFileDialogActive: true\n      });\n\n    case \"closeDialog\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: false\n      });\n\n    case \"setDraggedFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isDragActive: action.isDragActive,\n        isDragAccept: action.isDragAccept,\n        isDragReject: action.isDragReject\n      });\n\n    case \"setFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case \"reset\":\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nfunction noop() {}\n\nexport { ErrorCode } from \"./utils\";","import React from 'react';\n\nconst EditIcon = () => {\n  return (\n    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'>\n      <path d='M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z' />\n    </svg>\n  );\n};\n\nexport default EditIcon;\n","import classnames from 'classnames';\nimport React from 'react';\nimport styles from '../styles.module.css';\n\nconst Input = ({\n  props: { id, inline, style, type, name },\n  inputRef,\n  handleBlur,\n  handleKeydown,\n  handleFocus,\n  inputClassName,\n  ...rest\n}) => {\n  return (\n    <input\n      id={id}\n      className={classnames(styles.shared, inputClassName, {\n        [styles.inline]: inline\n      })}\n      style={style}\n      ref={inputRef}\n      type={type}\n      name={name}\n      onBlur={handleBlur}\n      onKeyDown={handleKeydown}\n      autoFocus\n      onFocus={handleFocus}\n      {...rest}\n    />\n  );\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\n\nconst sharedPropTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n  className: PropTypes.string,\n  value: PropTypes.string,\n  formatDisplayText: PropTypes.func,\n  defaultValue: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSave: PropTypes.func,\n  onChange: PropTypes.func,\n  onEditMode: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  readonly: PropTypes.bool,\n  inputClassName: PropTypes.string\n};\n\nexport const EditTextPropTypes = {\n  ...sharedPropTypes,\n  type: PropTypes.string,\n  inline: PropTypes.bool,\n  showEditButton: PropTypes.bool,\n  editButtonContent: PropTypes.any,\n  editButtonProps: PropTypes.object\n};\n\nexport const EditTextareaPropTypes = {\n  ...sharedPropTypes,\n  rows: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])])\n};\n","import classnames from 'classnames';\nimport React from 'react';\nimport EditIcon from './components/EditIcon';\nimport Input from './components/Input';\nimport { EditTextPropTypes } from './propTypes';\nimport styles from './styles.module.css';\n\nexport default function EditText({\n  id,\n  name,\n  className,\n  placeholder = '',\n  inline = false,\n  style = {},\n  readonly = false,\n  type = 'text',\n  value,\n  defaultValue,\n  formatDisplayText = (x) => x,\n  onEditMode = () => {},\n  onChange = () => {},\n  onSave = () => {},\n  onBlur = () => {},\n  showEditButton = false,\n  editButtonContent = <EditIcon />,\n  editButtonProps = {},\n  inputClassName\n}) {\n  const inputRef = React.useRef(null);\n  const [changeEvent, setChangeEvent] = React.useState({});\n  const [previousValue, setPreviousValue] = React.useState('');\n  const [savedText, setSavedText] = React.useState('');\n  const [editMode, setEditMode] = React.useState(false);\n\n  React.useEffect(() => {\n    if (defaultValue !== undefined) {\n      setPreviousValue(defaultValue);\n      setSavedText(defaultValue);\n    }\n  }, [defaultValue]);\n\n  React.useEffect(() => {\n    if (value !== undefined) {\n      setSavedText(value);\n      if (!editMode) {\n        setPreviousValue(value);\n      }\n    }\n  }, [value, editMode]);\n\n  const handleClickDisplay = () => {\n    if (readonly || showEditButton) return;\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleClickEditButton = () => {\n    setEditMode(true);\n    onEditMode();\n  };\n\n  const handleBlur = (save = true) => {\n    if (inputRef.current) {\n      const { name: inputName, value: inputValue } = inputRef.current;\n      if (save && previousValue !== inputValue) {\n        onSave({\n          name: inputName,\n          value: inputValue,\n          previousValue: previousValue\n        });\n        setSavedText(inputValue);\n        setPreviousValue(inputValue);\n      } else if (!save) {\n        onChange({\n          ...changeEvent,\n          target: changeEvent.target\n            ? { ...changeEvent.target, value: previousValue }\n            : { value: previousValue }\n        });\n      }\n      setEditMode(false);\n      onBlur();\n    }\n  };\n\n  const handleKeydown = (e) => {\n    if (e.keyCode === 13 || e.charCode === 13) {\n      handleBlur();\n    } else if (e.keyCode === 27 || e.charCode === 27) {\n      handleBlur(false);\n    }\n  };\n\n  const handleFocus = (e) => {\n    if (type === 'text') {\n      e.currentTarget.setSelectionRange(\n        e.currentTarget.value.length,\n        e.currentTarget.value.length\n      );\n    }\n  };\n\n  const renderDisplayMode = () => {\n    return (\n      <div\n        className={classnames(styles.displayContainer, {\n          [styles.inline]: inline\n        })}\n      >\n        <div\n          id={id}\n          className={classnames(\n            styles.label,\n            styles.shared,\n            {\n              [styles.placeholder]: placeholder && !savedText,\n              [styles.inline]: inline,\n              [styles.readonly]: readonly || showEditButton\n            },\n            className\n          )}\n          onClick={handleClickDisplay}\n          style={style}\n          aria-label='display component'\n        >\n          {formatDisplayText(savedText) || placeholder}\n        </div>\n        {showEditButton && !readonly && (\n          <button\n            type='button'\n            className={styles.editButton}\n            {...editButtonProps}\n            onClick={handleClickEditButton}\n          >\n            {editButtonContent}\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  const renderEditMode = (controlled) => {\n    const sharedProps = {\n      inputRef: inputRef,\n      handleBlur: handleBlur,\n      handleKeydown: handleKeydown,\n      handleFocus: handleFocus,\n      props: { id, inline, style, type, name },\n      ['aria-label']: 'input component'\n    };\n    return controlled ? (\n      <Input\n        {...sharedProps}\n        value={value}\n        onChange={(e) => {\n          setChangeEvent(e);\n          onChange(e);\n        }}\n        inputClassName={inputClassName}\n      />\n    ) : (\n      <Input\n        {...sharedProps}\n        defaultValue={savedText}\n        inputClassName={inputClassName}\n      />\n    );\n  };\n\n  return !readonly && editMode\n    ? renderEditMode(value !== undefined && onChange !== undefined)\n    : renderDisplayMode();\n}\n\nEditText.propTypes = EditTextPropTypes;\n","import { getDownloadURL, uploadBytesResumable } from 'firebase/storage';\nimport { useMemo, useReducer, useCallback, useRef, useEffect, useState } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign(__assign({}, state), { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign(__assign({}, state), { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = useCallback(function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    }, [getDefaultValue]);\r\n    var setError = useCallback(function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    }, []);\r\n    var setValue = useCallback(function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    }, []);\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useComparatorRef = function (value, isEqual, onChange) {\r\n    var ref = useRef(value);\r\n    useEffect(function () {\r\n        if (!isEqual(value, ref.current)) {\r\n            ref.current = value;\r\n            if (onChange) {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n    return ref;\r\n};\n\nvar useDownloadURL = (function (storageRef) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useComparatorRef(storageRef, isEqual, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        getDownloadURL(ref.current).then(setValue).catch(setError);\r\n    }, [ref.current]);\r\n    return [value, loading, error];\r\n});\r\nvar isEqual = function (v1, v2) {\r\n    var bothNull = !v1 && !v2;\r\n    var equal = !!v1 && !!v2 && v1.fullPath === v2.fullPath;\r\n    return bothNull || equal;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar useUploadFile = (function () {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), uploading = _b[0], setUploading = _b[1];\r\n    var _c = useState(), snapshot = _c[0], setSnapshot = _c[1];\r\n    var uploadFile = useCallback(function (storageRef, data, metadata) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                    setUploading(true);\r\n                    setError(undefined);\r\n                    var uploadTask = uploadBytesResumable(storageRef, data, metadata);\r\n                    uploadTask.on('state_changed', function (snapshot) {\r\n                        setSnapshot(snapshot);\r\n                    }, function (error) {\r\n                        setUploading(false);\r\n                        setError(error);\r\n                        resolve(undefined);\r\n                    }, function () {\r\n                        setUploading(false);\r\n                        setSnapshot(undefined);\r\n                        resolve({\r\n                            metadata: uploadTask.snapshot.metadata,\r\n                            ref: uploadTask.snapshot.ref,\r\n                        });\r\n                    });\r\n                })];\r\n        });\r\n    }); }, []);\r\n    return [uploadFile, uploading, snapshot, error];\r\n});\n\nexport { useDownloadURL, useUploadFile };\n"],"names":["_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","getLoadingButtonUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","LoadingButtonRoot","styled","Button","shouldForwardProp","prop","rootShouldForwardProp","name","overridesResolver","props","styles","root","startIconLoadingStart","_defineProperty","concat","loadingButtonClasses","endIconLoadingEnd","_ref3","ownerState","theme","_extends","transition","transitions","create","duration","short","opacity","loadingPosition","loading","color","fullWidth","marginRight","marginLeft","LoadingButtonLoadingIndicator","loadingIndicator","capitalize","_ref7","position","visibility","display","variant","left","size","transform","vars","palette","action","disabled","right","React","inProps","ref","useThemeProps","children","_props$disabled","idProp","id","_props$loading","loadingIndicatorProp","_props$loadingPositio","_props$variant","other","_objectWithoutPropertiesLoose","useId","_jsx","CircularProgress","classes","slots","startIcon","endIcon","composedClasses","composeClasses","useUtilityClasses","loadingButtonLoadingIndicator","className","_jsxs","Stack","createStack","file","acceptedFiles","acceptedFilesArray","Array","isArray","split","fileName","mimeType","type","toLowerCase","baseMimeType","replace","some","validType","trim","charAt","endsWith","hasOwn","hasOwnProperty","classNames","i","arguments","length","arg","argType","push","inner","apply","toString","Object","prototype","includes","key","call","join","module","getStringFromDataView","dataView","offset","chars","byteLength","getUint8","getStringValueFromArray","getUnicodeStringFromDataView","getUint16","charArray","map","charCode","String","fromCharCode","objectAssign","property","deferInit","object","initializer","initialized","defineProperty","get","configurable","enumerable","value","writable","getBase64Image","image","btoa","reduce","Uint8Array","data","byte","Buffer","undefined","from","DataView","buffer","_classCallCheck","readUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","bufferTypeIsUnsupported","Error","this","_createClass","littleEndian","USE_FILE","USE_JFIF","USE_PNG_FILE","USE_EXIF","USE_IPTC","USE_XMP","USE_ICC","USE_MPF","USE_THUMBNAIL","USE_TIFF","USE_JPEG","USE_PNG","USE_HEIC","USE_WEBP","getStringValue","getEncodedString","encoding","slice","getCalculatedGpsValue","LITTLE_ENDIAN","BIG_ENDIAN","getByteOrder","tiffHeaderOffset","isTiffFile","TIFF_ID","TIFF_ID_OFFSET","ByteOrder","hasTiffMarker","findTiffOffsets","Constants","hasAppMarkers","isJpegFile","MIN_JPEG_DATA_BUFFER_LENGTH","JPEG_ID","findJpegOffsets","fieldLength","sof0DataOffset","sof2DataOffset","jfifDataOffset","iptcDataOffset","xmpChunks","iccChunks","mpfDataOffset","appMarkerPosition","JPEG_ID_SIZE","APP_ID_OFFSET","isSOF0Marker","APP_MARKER_SIZE","isSOF2Marker","isApp0JfifMarker","JFIF_DATA_OFFSET","isApp1ExifMarker","TIFF_HEADER_OFFSET","isApp1XmpMarker","getXmpChunkDetails","isApp1ExtendedXmpMarker","getExtendedXmpChunkDetails","isApp13PhotoshopMarker","IPTC_DATA_OFFSET","isApp2ICCMarker","iccDataOffset","APP2_ICC_DATA_OFFSET","iccDataLength","iccChunkNumber","ICC_CHUNK_NUMBER_OFFSET","iccChunksTotal","ICC_TOTAL_CHUNKS_OFFSET","chunkNumber","chunksTotal","isApp2MPFMarker","MPF_DATA_OFFSET","isAppMarker","isFillByte","fileDataOffset","XMP_DATA_OFFSET","XMP_EXTENDED_DATA_OFFSET","APP2_ICC_IDENTIFIER","APP2_MPF_IDENTIFIER","SOF0_MARKER","SOF2_MARKER","DHT_MARKER","DQT_MARKER","DRI_MARKER","SOS_MARKER","APP0_MARKER","APP1_MARKER","APP2_MARKER","APP13_MARKER","APP15_MARKER","COMMENT_MARKER","FILL_BYTE","APP0_JFIF_IDENTIFIER","APP1_EXIF_IDENTIFIER","APP1_XMP_IDENTIFIER","APP1_XMP_EXTENDED_IDENTIFIER","APP13_IPTC_IDENTIFIER","markerIdLength","isXmpIdentifier","isExtendedXmpIdentifier","dataOffset","appMarker","isPngFile","PNG_ID","findPngOffsets","offsets","PNG_CHUNK_LENGTH_SIZE","PNG_CHUNK_TYPE_SIZE","isPngImageHeaderChunk","pngHeaderOffset","PNG_CHUNK_DATA_OFFSET","isPngXmpChunk","getPngXmpDataOffset","getUint32","PNG_CHUNK_LENGTH_OFFSET","isPngTextChunk","chunkType","PNG_CHUNK_TYPE_OFFSET","pngTextChunks","isPngExifChunk","isPngChunk","pngChunkOffsets","PNG_XMP_PREFIX","TYPE_TEXT","TYPE_ITXT","TYPE_PHYS","TYPE_TIME","TYPE_EXIF","SUPPORTED_PNG_CHUNK_TYPES","numberOfNullSeparators","isHeicFile","HEIC_ID","heicMajorBrand","HEIC_ID_OFFSET","indexOf","findHeicOffsets","_findMetaAtom","ATOM_LENGTH_SIZE","ATOM_TYPE_SIZE","ATOM_MIN_LENGTH","ATOM_TYPE_OFFSET","atomLength","getAtomLength","findMetaAtom","metaOffset","metaLength","metaEndOffset","Math","min","_findMetaItems","STRING_SIZE","ITEM_INDEX_REL_OFFSET","ilocOffset","exifItemOffset","colrOffset","itemName","findMetaItems","exifOffset","EXIF_ITEM_OFFSET_SIZE","ILOC_DATA_OFFSET","EXIF_POINTER_OFFSET","EXIF_POINTER_SIZE","EXIF_PREFIX_LENGTH_OFFSET","ILOC_ITEM_SIZE","exifItemIndex","exifPointer","findExifOffset","ITEM_TYPE_OFFSET","ITEM_TYPE_SIZE","ITEM_CONTENT_OFFSET","colorType","findIccChunks","extendsToEndOfFile","hasExtendedSize","ATOM_EXTENDED_SIZE_OFFSET","hasEmptyHighBits","isWebpFile","RIFF_ID","WEBP_MARKER","findOffsets","EXIF_IDENTIFIER","chunkId","chunkSize","parseAppMarkers","Tiff","Jpeg","Png","Heic","Webp","typeSizes","tagTypes","getAsciiValue","getByteAt","getAsciiAt","getShortAt","byteOrder","getLongAt","getRationalAt","getUndefinedAt","getSlongAt","getSrationalAt","getIfdPointerAt","getTypeSize","typeName","getInt32","ApertureValue","pow","sqrt","toFixed","ColorSpace","ComponentsConfiguration","character","Contrast","CustomRendered","ExposureMode","ExposureProgram","ExposureTime","round","FNumber","FocalLength","FocalPlaneResolutionUnit","LightSource","MeteringMode","ResolutionUnit","Saturation","SceneCaptureType","Sharpness","ShutterSpeedValue","denominator","WhiteBalance","XResolution","YResolution","description","TagNamesCommon","values","formats","sample","_ref","_ref2","_slicedToArray","num","test","status","mode","tagNames0thExifIfds","TagNames0thIfd","x","y","focalLengths","TagNamesGpsIfd","TagNamesInteroperabilityIfd","TagNamesMpfIfd","EXIF_IFD_POINTER_KEY","GPS_INFO_IFD_POINTER_KEY","INTEROPERABILITY_IFD_POINTER_KEY","getTagValueAt","Types","read","includeUnknown","tags","readIfd","get0thIfdOffset","read0thIfd","readInteroperabilityIfd","readGpsIfd","readExifIfd","readMpf","ENTRY_SIZE","images","ceil","attributes","getImageNumberValue","getImageFlags","getImageFormat","getImageType","imageSize","imageOffset","isFirstIndividualImage","dependentImage1EntryNumber","dependentImage2EntryNumber","addMpfImages","entries","flags","flagsDescription","imageFormat","ifdType","FIELD_COUNT_SIZE","numberOfFields","getNumberOfFields","fieldIndex","tag","readTag","nextIfdOffset","tagValue","TAG_TYPE_OFFSET","TAG_COUNT_OFFSET","TAG_VALUE_OFFSET","tagCode","tagType","tagCount","TagNames","tagValueFitsInOffsetSlot","getTagValue","tagValueOffset","tagValueFitsInDataView","asciiValue","decodeURIComponent","escape","error","decodeAsciiValue","string","j","splitNullSeparatedAsciiString","tagName","tagDescription","getDescriptionFromTagValue","count","valueIndex","getLength","numberOfColorComponents","OFFSET","getNumberOfColorComponents","getDataPrecision","getImageHeight","getImageWidth","getSubsampling","components","componentOffset","getComponentIds","getSamplingType","ids","compontent","types","thumbnailWidth","getThumbnailWidth","thumbnailHeight","getThumbnailHeight","getVersion","getResolutionUnit","getXResolution","getYResolution","thumbnail","thumbnailLength","getThumbnail","majorVersion","minorVersion","getResolutionUnitDescription","getCreationDate","getCreationTime","getEncodingName","parts","stringValue","character0","character1","parseInt","bits","substr","intValue","formatVersions","objectDataPreviewFileFormat","n","date","time","parsedTime","TextDecoder","decode","Decoder","TAG_HEADER_SIZE","BYTES_8BIM","BYTES_8BIM_SIZE","RESOURCE_BLOCK_HEADER_SIZE","NAA_RESOURCE_BLOCK_TYPE","parseTags","_getNaaResourceBlock","resourceBlock","getResourceBlock","isNaaResourceBlock","naaBlock","getBlockPadding","getNaaResourceBlock","endOfBlockOffset","_readTag","tagSize","TAG_LEAD_BYTE","leadByteIsMissing","IptcTagNames","getTagName","getTagDescription","tagIsRepeatable","tagContainsEncoding","tagIsName","hasDynamicName","hasDescriptionProperty","tagValueIsText","TagDecoder","fraction","calculateGPSValue","substring","parseNumber","numbers","number","charCodeAt","isFraction","func","_value$split","_value$split2","degreesString","minutesString","degrees","parseFloat","minutes","Number","isNaN","DOMParser","__non_webpack_require__","errorHandler","chunks","readTags","_extractCompleteChunk","completeChunks","combineChunks","extractCompleteChunks","_extractCompleteChunk2","standardXmp","extendedXmp","hasStandardTags","hasExtendedTags","_raw","totalLength","chunk","combinedChunks","set","chunkDataView","_getDocument","domParser","console","warn","xmlString","doc","parseFromString","xmlSource","documentElement","nodeName","textContent","raw","getDocument","parseXMPObject","convertToObject","getRDF","node","childNodes","nodes","isTopNode","elements","getChildNodes","nodeValue","getTextValue","forEach","isElement","nodeElement","getAttributes","getElementFromNode","getElementsFromNodes","element","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","getDescription","isNamespaceDefinition","arrayDescription","item","getDescriptionOfArray","XmpTagNames","descriptions","getClearTextKey","getDescriptionOfObject","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","parseNodeAsStructureRdfDescription","isCompactStructure","parseNodeAsCompactStructure","getArrayChild","items","parseNodeAttributes","parseNodeAsSimpleValue","parseArrayValue","parseNodeAsArray","parseNodeChildrenAsAttributes","getURIValue","parseRdfValue","keys","iccTags","iccProfile","toCompany","year","month","day","hours","seconds","Date","UTC","parseDate","toISOString","iccData","totalIccProfileLength","sum","icc","iccBinaryData","getBuffer","_loop","iccDataChunk","find","chunkData","PROFILE_HEADER_LENGTH","iccProfileKeys","profileEntry","signature","sliceToString","ICC_SIGNATURE","ICC_TAG_COUNT_OFFSET","iccDoesNotHaveTagCount","tagHeaderOffset","hasTagsData","tagSignature","tagOffset","TAG_TYPE_DESC","tagValueSize","addTag","TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE","numRecords","recordSize","val","recordNum","languageCode","countryCode","textLength","textOffset","text","valObj","valIndex","TAG_TYPE_TEXT","TAG_TYPE_SIGNATURE","TAG_TABLE_SINGLE_TAG_DATA","getBitDepth","getColorType","getCompression","getFilter","getInterlace","_getNameAndValue","keywordChars","langChars","translatedKeywordChars","valueChars","parsingState","STATE_KEYWORD","STATE_COMPRESSION","COMPRESSION_SECTION_LENGTH","moveToNextState","STATE_LANG","STATE_TRANSLATED_KEYWORD","textValue","getName","getNameAndValue","STATE_TEXT","lang","chunkOffsets","chunkLength","getPixelsPerUnitX","getPixelsPerUnitY","getPixelUnits","getModifyDate","chunkOffset","tagFitsInBuffer","pad","repeat","COMPRESSION_JPEG","thumbnailTags","Compression","JPEGInterchangeFormat","JPEGInterchangeFormatLength","MetadataMissingError","message","stack","load","options","isFilePathOrURL","filename","fetch","url","method","isInteger","headers","range","then","response","arrayBuffer","browserFetchRemoteFile","Promise","resolve","reject","requireNodeGet","statusCode","on","statusMessage","resume","nodeFetchRemoteFile","isDataUri","dataUri","atob","char","decodedData","dataUriToBuffer","fs","requireNodeFs","open","fd","stat","alloc","close","loadLocalFile","loadFile","fileContents","loadFromData","window","File","isBrowserFileObject","reader","FileReader","onload","readerEvent","target","result","onerror","readAsArrayBuffer","loadView","errors","exifErrors","isBuffer","isNodeBuffer","DataViewWrapper","getDataView","_ref4","expanded","_ref4$expanded","_ref4$includeUnknown","foundMetaData","_ImageHeader$parseApp","ImageHeader","hasFileData","FileTags","hasJfifData","JfifTags","jfif","hasExifData","Tags","Thumbnail","exif","GPSLatitude","GPSLatitudeRef","gps","Latitude","GPSLongitude","GPSLongitudeRef","Longitude","GPSAltitude","GPSAltitudeRef","Altitude","addGpsGroup","hasIptcData","readIptcTags","IptcTags","iptc","hasXmpData","readXmpTags","XmpTags","xmp","hasIccData","readIccTags","IccTags","hasMpfData","readMpfTags","mpf","PngFileTags","png","pngFile","hasPngTextData","PngTextTags","pngText","hasPngData","PngTags","iccDataOffsets","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bigint","bool","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","COMMON_MIME_TYPES","Map","toFileWithPath","path","f","lastIndexOf","ext","pop","withMimeType","webkitRelativePath","FILES_TO_IGNORE","isObject","v","getInputFiles","evt","fromList","files","getFsHandleFiles","handles","all","h","getFile","_a","sent","getDataTransferFiles","dt","filter","kind","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","entry","isDirectory","fromDirEntry","acc","__spreadArray","__read","getAsFile","fwp","fromEntry","fromFileEntry","createReader","readEntries","_this","batch","__awaiter","err_1","fullPath","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","obj","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","_iterableToArrayLimit","_nonIterableRest","o","minLen","constructor","len","arr2","FILE_INVALID_TYPE","FILE_TOO_LARGE","FILE_TOO_SMALL","TOO_MANY_FILES","getInvalidTypeRejectionErr","accept","messageSuffix","code","getTooLargeRejectionErr","maxSize","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","accepts","fileMatchSize","isDefined","isPropagationStopped","event","cancelBubble","isEvtWithFiles","dataTransfer","onDocumentDragOver","preventDefault","composeEventHandlers","_len","fns","_key","_len2","args","_key2","fn","isMIMEType","isExt","_excluded2","_excluded3","_excluded4","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","Dropzone","forwardRef","_useDropzone","useDropzone","useImperativeHandle","Fragment","displayName","defaultProps","getFilesFromEvent","isChangeEvt","every","Infinity","multiple","maxFiles","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","validator","useFsAccessApi","autoFocus","propTypes","onFileDialogCancel","onFileDialogOpen","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","onError","initialState","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","fileRejections","_defaultProps$props","acceptAttr","useMemo","a","_ref6","acceptPropAsAcceptAttr","pickerTypes","ok","agg","_ref5","pickerOptionsFromAccept","onFileDialogOpenCb","noop","onFileDialogCancelCb","rootRef","useRef","inputRef","_useReducer2","useReducer","reducer","state","dispatch","fsAccessApiWorksRef","isSecureContext","onWindowFocus","current","setTimeout","useEffect","addEventListener","removeEventListener","dragTargetsRef","onDocumentDrop","contains","document","focus","onErrCb","useCallback","e","onDragEnterCb","persist","stopPropagation","fileCount","accepted","sizeMatch","customErrors","allFilesAccepted","catch","onDragOverCb","hasFiles","dropEffect","_unused","onDragLeaveCb","targets","targetIdx","splice","setFiles","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","onDropCb","openFileDialog","opts","showOpenFilePicker","DOMException","ABORT_ERR","SECURITY_ERR","isSecurityError","click","onKeyDownCb","isEqualNode","keyCode","onFocusCb","onBlurCb","onClickCb","userAgent","navigator","isIe","isEdge","isIeOrEdge","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref2$refKey","refKey","role","onKeyDown","onFocus","onBlur","onClick","rest","tabIndex","onInputElementClick","getInputProps","_ref3$refKey","onChange","style","EditIcon","xmlns","viewBox","Input","_classnames","_ref$props","inline","handleBlur","handleKeydown","handleFocus","inputClassName","_excluded$1","classnames","shared","sharedPropTypes","formatDisplayText","defaultValue","placeholder","onSave","onEditMode","readonly","EditTextPropTypes","showEditButton","editButtonContent","editButtonProps","rows","EditText","_ref$placeholder","_ref$inline","_ref$style","_ref$readonly","_ref$type","_ref$formatDisplayTex","_ref$onEditMode","_ref$onChange","_onChange","_ref$onSave","_ref$onBlur","_ref$showEditButton","_ref$editButtonConten","_ref$editButtonProps","_React$useState","changeEvent","setChangeEvent","_React$useState2","previousValue","setPreviousValue","_React$useState3","savedText","setSavedText","_React$useState4","editMode","setEditMode","handleClickDisplay","handleClickEditButton","save","_inputRef$current","inputName","inputValue","currentTarget","setSelectionRange","controlled","_sharedProps","sharedProps","renderEditMode","_classnames2","jsxs","displayContainer","label","editButton","renderDisplayMode","thisArg","_arguments","P","generator","fulfilled","step","rejected","__generator","body","t","g","_","trys","ops","verb","op","useUploadFile","useState","setError","_b","uploading","setUploading","_c","snapshot","setSnapshot","uploadFile","storageRef","metadata","uploadTask","uploadBytesResumable"],"sourceRoot":""}