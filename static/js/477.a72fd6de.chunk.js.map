{"version":3,"file":"static/js/477.a72fd6de.chunk.js","mappings":"6WAoCMA,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAYE,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,uDAKzBC,GAASJ,EAAAA,EAAAA,IAAOK,EAAAA,EAAW,CAC/BC,kBAAmB,SAACC,GAAY,MAAc,SAATA,CAAe,GADvCP,EAEC,SAAAQ,GAAA,IAAGC,EAAKD,EAALC,MAAOC,EAAIF,EAAJE,KAAI,OAAAC,EAAAA,EAAAA,GAAA,CAC5BC,OAAQH,EAAc,OAAEI,OAAS,EACjCC,WAAYL,EAAmB,YAAEM,OAAO,CAAC,QAAS,UAAW,CAC3DC,OAAQP,EAAmB,YAAEO,OAAOC,MACpCC,SAAUT,EAAmB,YAAES,SAASC,gBAE1CC,aAAc,GACVV,GAAQ,CACVW,WAAW,GAADC,QAAKC,EAAAA,EAAAA,GArBS,MAsBxBC,MAAM,eAADF,OAtBmB,IAsBS,OACjCR,WAAYL,EAAmB,YAAEM,OAAO,CAAC,QAAS,UAAW,CAC3DC,OAAQP,EAAmB,YAAEO,OAAOC,MACpCC,SAAUT,EAAmB,YAAES,SAASO,kBAE3C,IAGGC,GAAS1B,EAAAA,EAAAA,IAAO2B,EAAAA,GAAW,CAC/BrB,kBAAmB,SAACC,GAAY,MAAc,SAATA,CAAe,GADvCP,EAEZ,SAAA4B,GAAA,IAAGnB,EAAKmB,EAALnB,MAAOC,EAAIkB,EAAJlB,KAAI,MAAQ,CACvB,sBAAoBC,EAAAA,EAAAA,GAAA,CAClBkB,SAAU,WACVC,WAAY,SACZN,MAAM,GAADF,QAAKC,EAAAA,EAAAA,GApCc,MAqCxBT,WAAYL,EAAmB,YAAEM,OAAO,QAAS,CAC/CC,OAAQP,EAAmB,YAAEO,OAAOC,MACpCC,SAAUT,EAAmB,YAAES,SAASO,iBAE1CM,UAAW,eACNrB,IAAIsB,EAAAA,EAAAA,GAAA,CACPC,UAAW,SACXnB,WAAYL,EAAmB,YAAEM,OAAO,QAAS,CAC/CC,OAAQP,EAAmB,YAAEO,OAAOC,MACpCC,SAAUT,EAAmB,YAAES,SAASC,gBAE1CK,MAAOf,EAAe,QAAE,IACvBA,EAAmB,YAAEyB,GAAG,MAAQ,CAC/BV,MAAOf,EAAe,QAAE,MAI/B,IAsGD,IAnGwC,SAAC0B,GACvC,IAAAC,EAAwBC,EAAAA,UAAe,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtC1B,EAAI4B,EAAA,GAAEE,EAAOF,EAAA,GACdG,EAAe,WACnBD,GAAS9B,EACX,EAEA,OACEgC,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEC,QAAS,QAASC,SAAA,EAC3BC,EAAAA,EAAAA,KAACC,EAAAA,GAAW,KACZD,EAAAA,EAAAA,KAAC3C,EAAM,CAAC6C,UAAW,EAAGpB,SAAS,WAAWnB,KAAMA,EAAKoC,UACnDJ,EAAAA,EAAAA,MAACQ,EAAAA,EAAO,CACNN,GAAI,CACFO,GAAI,QACJL,SAAA,EAEFC,EAAAA,EAAAA,KAACK,EAAAA,EAAU,CACTC,KAAK,QACLC,MAAM,UACN,aAAW,cACXC,QAASd,EACTG,IAAEjC,EAAAA,EAAAA,GAAA,CACA6C,YAAa,OACbC,gBAAiB,SACb/C,GAAQ,CAAEmC,QAAS,SACvBC,UAEFC,EAAAA,EAAAA,KAACW,EAAAA,EAAQ,OAEXX,EAAAA,EAAAA,KAACY,EAAAA,EAAU,CACTC,UAAU,KACVC,QAAQ,KACRP,MAAM,UACNQ,QAAM,EACNlB,GAAI,CAAEmB,SAAU,EAAGT,MAAO,SAAUR,SAEnCX,EAAM6B,iBAIbtB,EAAAA,EAAAA,MAAChB,EAAM,CAACuB,UAAW,EAAGY,QAAQ,YAAYnD,KAAMA,EAAKoC,SAAA,EACnDC,EAAAA,EAAAA,KAACG,EAAAA,EAAO,CACNN,GAAI,CACFC,QAAS,OACToB,WAAY,SACZC,eAAgB,WAChBC,GAAI,CAAC,IACLrB,UAEFC,EAAAA,EAAAA,KAACK,EAAAA,EAAU,CAACG,QAASd,EAAaK,UAChCC,EAAAA,EAAAA,KAACqB,EAAAA,EAAe,SAGpBrB,EAAAA,EAAAA,KAACsB,EAAAA,EAAO,KACR3B,EAAAA,EAAAA,MAAC4B,EAAAA,EAAI,CAACV,UAAU,MAAKd,SAAA,EACnBC,EAAAA,EAAAA,KAACV,EAAAA,SAAc,CAAAS,UACbC,EAAAA,EAAAA,KAAChD,EAAU,CAACwE,GAAG,IAAGzB,UAChBJ,EAAAA,EAAAA,MAAC8B,EAAAA,EAAc,CAAA1B,SAAA,EACbC,EAAAA,EAAAA,KAAC0B,EAAAA,EAAY,CAAA3B,UACXC,EAAAA,EAAAA,KAAC2B,EAAAA,EAAY,OAEf3B,EAAAA,EAAAA,KAAC4B,EAAAA,EAAY,CAACC,QAAQ,iBAI5B7B,EAAAA,EAAAA,KAACsB,EAAAA,EAAO,CAACzB,GAAI,CAAEiC,GAAI,MACnB9B,EAAAA,EAAAA,KAACV,EAAAA,SAAc,CAAAS,UACbC,EAAAA,EAAAA,KAAChD,EAAU,CAACwE,GAAG,WAAUzB,UACvBJ,EAAAA,EAAAA,MAAC8B,EAAAA,EAAc,CAAA1B,SAAA,EACbC,EAAAA,EAAAA,KAAC0B,EAAAA,EAAY,CAAA3B,UACXC,EAAAA,EAAAA,KAAC+B,EAAAA,EAAe,OAElB/B,EAAAA,EAAAA,KAAC4B,EAAAA,EAAY,CAACC,QAAQ,oBAI5B7B,EAAAA,EAAAA,KAACsB,EAAAA,EAAO,CAACzB,GAAI,CAAEiC,GAAI,YAGvBnC,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CACFiB,UAAU,OACVhB,GAAI,CACFa,gBAAiB,SAAChD,GAAK,MACE,UAAvBA,EAAMsE,QAAQC,KACVvE,EAAMsE,QAAQE,KAAK,KACnBxE,EAAMsE,QAAQE,KAAK,IAAI,EAC7BlB,SAAU,EACVmB,OAAQ,QACRC,SAAU,QACVrC,SAAA,EAEFC,EAAAA,EAAAA,KAACG,EAAAA,EAAO,KACRH,EAAAA,EAAAA,KAACqC,EAAAA,EAAS,CAACC,SAAS,KAAKzC,GAAI,CAAE0C,GAAI,EAAGC,GAAI,GAAIzC,SAC3CX,EAAMW,gBAKjB,C,8IC3KM0C,GAAaxF,EAAAA,EAAAA,SAAOyF,EAAAA,EAAPzF,CAAaE,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,2CAK1BuF,EAAO,SAAHlF,GAA0C,IAApCmF,EAAInF,EAAJmF,KACd,OACE5C,EAAAA,EAAAA,KAACyC,EAAU,CAAA1C,UACTC,EAAAA,EAAAA,KAAC6C,EAAAA,EAAK,CACJC,IAAKF,EAAKG,IACVC,IAAI,GACJC,aAAW,EACXC,MAAO,CAAEC,UAAW,cAI5B,EA0BA,UAjBqB,WAA2B,IAADC,EACvCC,EARY,WAClB,IAAMC,GAAkBC,EAAAA,EAAAA,KACxBC,GAAsCC,EAAAA,EAAAA,GAAaH,GAAgBI,GAAAlE,EAAAA,EAAAA,GAAAgE,EAAA,GAEnE,MAAO,CAAEG,UAFOD,EAAA,GAEIE,iBAFcF,EAAA,GAGpC,CAGqBG,GACnB,OAAIR,EAAWO,iBACN,MAIP5D,EAAAA,EAAAA,KAAC8D,EAAAA,EAAU,CAAC7C,SAAS,OAAMlB,UACzBC,EAAAA,EAAAA,KAAC+D,IAAQ,CAACC,UAAQ,EAACC,qBAAmB,EAACC,SAAU,IAAKnE,SAC/B,QAD+BqD,EACnDC,EAAWM,iBAAS,IAAAP,OAAA,EAApBA,EAAsBe,KAAI,SAACvB,EAAMwB,GAAC,OACjCpE,EAAAA,EAAAA,KAAC2C,EAAI,CAASC,KAAMA,GAATwB,EAAiB,OAKtC,C,oECnDab,EAAqB,SAACR,GACjC,OAAOsB,EAAAA,EAAAA,KAAIC,EAAAA,EAAAA,MAAiB,OAAHvB,QAAG,IAAHA,EAAAA,EAAO,SAClC,C,kGCkBMwB,EAAe,SAACC,GACpB,MAAO,CACLC,aAA0BC,IAAjBF,GAA+C,OAAjBA,EACvCG,MAAOH,EAEX,EA4BA,WAAsBI,GACpB,IAAMJ,EAAeI,EAAkBA,SAAoBF,EAC3DG,GAA0BC,EAAAA,EAAAA,aA1B1B,SAACC,EAAwBC,GACvB,OAAQA,EAAOC,MACb,IAAK,QACH,OAAArH,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKmH,GAAK,IACRG,MAAOF,EAAOE,MACdT,SAAS,EACTE,WAAOD,IAEX,IAAK,QACH,OAAOH,EAAaS,EAAOR,cAC7B,IAAK,QACH,OAAA5G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKmH,GAAK,IACRG,WAAOR,EACPD,SAAS,EACTE,MAAOK,EAAOL,QAElB,QACE,OAAOI,EAEb,GAOER,EAAaC,IACdW,GAAA3F,EAAAA,EAAAA,GAAAqF,EAAA,GAHME,EAAKI,EAAA,GAAEC,EAAQD,EAAA,GAKhBE,GAAQC,EAAAA,EAAAA,cAAY,WACxB,IAAMd,EAAeI,EAAkBA,SAAoBF,EAC3DU,EAAS,CAAEH,KAAM,QAAST,aAAAA,GAC5B,GAAG,CAACI,IAEEW,GAAWD,EAAAA,EAAAA,cAAY,SAACJ,GAC5BE,EAAS,CAAEH,KAAM,QAASC,MAAAA,GAC5B,GAAG,IAEGM,GAAWF,EAAAA,EAAAA,cAAY,SAACX,GAC5BS,EAAS,CAAEH,KAAM,QAASN,MAAAA,GAC5B,GAAG,IAEH,OAAOc,EAAAA,EAAAA,UACL,iBAAO,CACLP,MAAOH,EAAMG,MACbT,QAASM,EAAMN,QACfY,MAAAA,EACAE,SAAAA,EACAC,SAAAA,EACAb,MAAOI,EAAMJ,MACd,GACD,CAACI,EAAMG,MAAOH,EAAMN,QAASY,EAAOE,EAAUC,EAAUT,EAAMJ,OAEjE,EClDKe,EAAU,SACdC,EACAC,GAEA,IAAMC,GAAqBF,IAAOC,EAC5BE,IAAmBH,KAAQC,GAAMD,EAAGI,WAAaH,EAAGG,SAC1D,OAAOF,GAAYC,CACrB,EAgCA,EA9BqB,SAACE,GACpB,IAAAC,EAA6DC,IAArDhB,EAAKe,EAALf,MAAOT,EAAOwB,EAAPxB,QAASY,EAAKY,EAALZ,MAAOE,EAAQU,EAARV,SAAUC,EAAQS,EAART,SAAUb,EAAKsB,EAALtB,MAI7CN,EA/BwB,SAC9BM,EACAe,EACAS,GAEA,IAAM9B,GAAM+B,EAAAA,EAAAA,QAAOzB,GASnB,OARA0B,EAAAA,EAAAA,YAAU,WACHX,EAAQf,EAAON,EAAIiC,WACtBjC,EAAIiC,QAAU3B,EACVwB,GACFA,IAGN,IACO9B,CACT,CAgBckC,CAAiBP,EAAYN,EAASL,GAsBlD,OApBAgB,EAAAA,EAAAA,YAAU,WACHhC,EAAIiC,SAITE,EAAAA,EAAAA,IAAKnC,EAAIiC,SACNG,MAAK,SAACC,GAAU,OACfC,QAAQC,IAAIF,EAAWG,MAAM1C,KAAI,SAACvB,GAAI,OAAKkE,EAAAA,EAAAA,IAAelE,EAAK,IAAE,IAElE6D,MAAK,SAACM,GACLvB,EACEuB,EAAK5C,KAAI,SAACpB,GAAG,MAAM,CACjBA,IAAAA,EACD,IAEL,IACCiE,MAAMzB,GAdPC,OAASd,EAgBb,GAAG,CAACL,EAAIiC,UAED,CAAC3B,EAAOF,EAASS,EAC1B,C","sources":["routes/common-page.tsx","routes/home/home-page.tsx","utils/firebase-utils/firebase-utils.ts","utils/firebase-utils/use-loading-value.ts","utils/firebase-utils/use-list-items.ts"],"sourcesContent":["import {\n  Box,\n  Toolbar,\n  IconButton,\n  Typography,\n  Divider,\n  List,\n  Container,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  styled,\n} from \"@mui/material\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport MuiDrawer from \"@mui/material/Drawer\";\nimport MuiAppBar, { AppBarProps as MuiAppBarProps } from \"@mui/material/AppBar\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport CarouselIcon from \"@mui/icons-material/ViewCarousel\";\nimport CollectionsIcon from \"@mui/icons-material/Collections\";\nimport React, { ReactNode } from \"react\";\nimport { FC } from \"react\";\nimport { toRem } from \"../utils/styled-components\";\nimport { Link } from \"react-router-dom\";\n\ntype CommonPageProps = {\n  children: ReactNode;\n  pageName: string;\n};\n\nconst drawerWidth: number = 240;\n\ninterface AppBarProps extends MuiAppBarProps {\n  open?: boolean;\n}\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n`;\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop: string) => prop !== \"open\",\n})<AppBarProps>(({ theme, open }) => ({\n  zIndex: theme[\"zIndex\"].drawer + 1,\n  transition: theme[\"transitions\"].create([\"width\", \"margin\"], {\n    easing: theme[\"transitions\"].easing.sharp,\n    duration: theme[\"transitions\"].duration.leavingScreen,\n  }),\n  borderBottom: 1,\n  ...(open && {\n    marginLeft: `${toRem(drawerWidth)}`,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme[\"transitions\"].create([\"width\", \"margin\"], {\n      easing: theme[\"transitions\"].easing.sharp,\n      duration: theme[\"transitions\"].duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst Drawer = styled(MuiDrawer, {\n  shouldForwardProp: (prop: string) => prop !== \"open\",\n})(({ theme, open }) => ({\n  \"& .MuiDrawer-paper\": {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: `${toRem(drawerWidth)}`,\n    transition: theme[\"transitions\"].create(\"width\", {\n      easing: theme[\"transitions\"].easing.sharp,\n      duration: theme[\"transitions\"].duration.enteringScreen,\n    }),\n    boxSizing: \"border-box\",\n    ...(!open && {\n      overflowX: \"hidden\",\n      transition: theme[\"transitions\"].create(\"width\", {\n        easing: theme[\"transitions\"].easing.sharp,\n        duration: theme[\"transitions\"].duration.leavingScreen,\n      }),\n      width: theme[\"spacing\"](7),\n      [theme[\"breakpoints\"].up(\"sm\")]: {\n        width: theme[\"spacing\"](9),\n      },\n    }),\n  },\n}));\n\n// eslint-disable-next-line max-lines-per-function\nconst CommonPage: FC<CommonPageProps> = (props) => {\n  const [open, setOpen] = React.useState(false);\n  const toggleDrawer = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <CssBaseline />\n      <AppBar elevation={0} position=\"absolute\" open={open}>\n        <Toolbar\n          sx={{\n            pr: \"24px\", // keep right padding when drawer closed\n          }}\n        >\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={toggleDrawer}\n            sx={{\n              marginRight: \"36px\",\n              backgroundColor: \"black\",\n              ...(open && { display: \"none\" }),\n            }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            sx={{ flexGrow: 1, color: \"black\" }}\n          >\n            {props.pageName}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer elevation={0} variant=\"permanent\" open={open}>\n        <Toolbar\n          sx={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"flex-end\",\n            px: [1],\n          }}\n        >\n          <IconButton onClick={toggleDrawer}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </Toolbar>\n        <Divider />\n        <List component=\"nav\">\n          <React.Fragment>\n            <StyledLink to=\"/\">\n              <ListItemButton>\n                <ListItemIcon>\n                  <CarouselIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Home\" />\n              </ListItemButton>\n            </StyledLink>\n          </React.Fragment>\n          <Divider sx={{ my: 1 }} />\n          <React.Fragment>\n            <StyledLink to=\"/gallery\">\n              <ListItemButton>\n                <ListItemIcon>\n                  <CollectionsIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Gallery\" />\n              </ListItemButton>\n            </StyledLink>\n          </React.Fragment>\n          <Divider sx={{ my: 1 }} />\n        </List>\n      </Drawer>\n      <Box\n        component=\"main\"\n        sx={{\n          backgroundColor: (theme) =>\n            theme.palette.mode === \"light\"\n              ? theme.palette.grey[100]\n              : theme.palette.grey[900],\n          flexGrow: 1,\n          height: \"100vh\",\n          overflow: \"auto\",\n        }}\n      >\n        <Toolbar />\n        <Container maxWidth=\"xl\" sx={{ mt: 4, mb: 4 }}>\n          {props.children}\n        </Container>\n      </Box>\n    </Box>\n  );\n};\n\nexport default CommonPage;\n","import { FC } from \"react\";\nimport CommonPage from \"../common-page\";\nimport { getFirebaseStorage } from \"../../utils/firebase-utils/firebase-utils\";\nimport Carousel from \"react-material-ui-carousel\";\nimport { Paper } from \"@mui/material\";\nimport useListItems from \"../../utils/firebase-utils/use-list-items\";\nimport Image from \"mui-image\";\nimport styled from \"styled-components\";\n\ntype CarouselItem = {\n  url: string;\n};\n\nconst StyledItem = styled(Paper)`\n  width: 100%;\n  height: 80vh;\n`;\n\nconst Item = ({ item }: { item: CarouselItem }) => {\n  return (\n    <StyledItem>\n      <Image\n        src={item.url}\n        alt=\"\"\n        showLoading\n        style={{ objectFit: \"contain\" }}\n      />\n    </StyledItem>\n  );\n};\n\nconst useHomePage = () => {\n  const firebaseStorage = getFirebaseStorage();\n  const [photoList, photoListLoading] = useListItems(firebaseStorage);\n\n  return { photoList, photoListLoading };\n};\n\nconst HomePage: FC = (): JSX.Element | null => {\n  const controller = useHomePage();\n  if (controller.photoListLoading) {\n    return null;\n  }\n\n  return (\n    <CommonPage pageName=\"Home\">\n      <Carousel autoPlay stopAutoPlayOnHover interval={5000}>\n        {controller.photoList?.map((item, i) => (\n          <Item key={i} item={item} />\n        ))}\n      </Carousel>\n    </CommonPage>\n  );\n};\n\nexport default HomePage;\n","import { StorageReference, getStorage, ref } from \"firebase/storage\";\n\nexport const getFirebaseStorage = (url?: string): StorageReference => {\n  return ref(getStorage(), url ?? \"images\");\n};\n","import { useCallback, useMemo, useReducer } from \"react\";\n\nexport type LoadingValue<T, E> = {\n  error?: E;\n  loading: boolean;\n  reset: () => void;\n  setError: (error: E) => void;\n  setValue: (value?: T) => void;\n  value?: T;\n};\n\ntype ReducerState<E> = {\n  error?: E;\n  loading: boolean;\n  value?: any;\n};\n\ntype ErrorAction<E> = { type: \"error\"; error: E };\ntype ResetAction = { type: \"reset\"; defaultValue?: any };\ntype ValueAction = { type: \"value\"; value: any };\ntype ReducerAction<E> = ErrorAction<E> | ResetAction | ValueAction;\n\nconst defaultState = (defaultValue?: any) => {\n  return {\n    loading: defaultValue === undefined || defaultValue === null,\n    value: defaultValue,\n  };\n};\n\nconst reducer =\n  <E>() =>\n  (state: ReducerState<E>, action: ReducerAction<E>): ReducerState<E> => {\n    switch (action.type) {\n      case \"error\":\n        return {\n          ...state,\n          error: action.error,\n          loading: false,\n          value: undefined,\n        };\n      case \"reset\":\n        return defaultState(action.defaultValue);\n      case \"value\":\n        return {\n          ...state,\n          error: undefined,\n          loading: false,\n          value: action.value,\n        };\n      default:\n        return state;\n    }\n  };\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default <T, E>(getDefaultValue?: () => T): LoadingValue<T, E> => {\n  const defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n  const [state, dispatch] = useReducer(\n    reducer<E>(),\n    defaultState(defaultValue)\n  );\n\n  const reset = useCallback(() => {\n    const defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n    dispatch({ type: \"reset\", defaultValue });\n  }, [getDefaultValue]);\n\n  const setError = useCallback((error: E) => {\n    dispatch({ type: \"error\", error });\n  }, []);\n\n  const setValue = useCallback((value?: T) => {\n    dispatch({ type: \"value\", value });\n  }, []);\n\n  return useMemo(\n    () => ({\n      error: state.error,\n      loading: state.loading,\n      reset,\n      setError,\n      setValue,\n      value: state.value,\n    }),\n    [state.error, state.loading, reset, setError, setValue, state.value]\n  );\n};\n","import {\n  getDownloadURL,\n  list,\n  StorageError,\n  StorageReference,\n} from \"firebase/storage\";\nimport { useEffect, useRef } from \"react\";\nimport useLoadingValue from \"./use-loading-value\";\n\nexport type ListItem = {\n  url: string;\n};\nexport type LoadingHook<T, E> = [T | undefined, boolean, E | undefined];\nexport type ListItemsHook = LoadingHook<ListItem[], StorageError>;\n\nexport type RefHook<T> = {\n  current: T;\n};\n\nexport const useComparatorRef = <T>(\n  value: T | null | undefined,\n  isEqual: (v1: T | null | undefined, v2: T | null | undefined) => boolean,\n  onChange?: () => void\n): RefHook<T | null | undefined> => {\n  const ref = useRef(value);\n  useEffect(() => {\n    if (!isEqual(value, ref.current)) {\n      ref.current = value;\n      if (onChange) {\n        onChange();\n      }\n    }\n  });\n  return ref;\n};\n\nconst isEqual = (\n  v1: StorageReference | null | undefined,\n  v2: StorageReference | null | undefined\n): boolean => {\n  const bothNull: boolean = !v1 && !v2;\n  const equal: boolean = !!v1 && !!v2 && v1.fullPath === v2.fullPath;\n  return bothNull || equal;\n};\n\nconst useListItems = (storageRef?: StorageReference | null): ListItemsHook => {\n  const { error, loading, reset, setError, setValue, value } = useLoadingValue<\n    ListItem[],\n    StorageError\n  >();\n  const ref = useComparatorRef(storageRef, isEqual, reset);\n\n  useEffect(() => {\n    if (!ref.current) {\n      setValue(undefined);\n      return;\n    }\n    list(ref.current)\n      .then((listResult) =>\n        Promise.all(listResult.items.map((item) => getDownloadURL(item)))\n      )\n      .then((urls) => {\n        setValue(\n          urls.map((url) => ({\n            url,\n          }))\n        );\n      })\n      .catch(setError);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ref.current]);\n\n  return [value, loading, error];\n};\n\nexport default useListItems;\n"],"names":["StyledLink","styled","Link","_templateObject","_taggedTemplateLiteral","AppBar","MuiAppBar","shouldForwardProp","prop","_ref","theme","open","_objectSpread","zIndex","drawer","transition","create","easing","sharp","duration","leavingScreen","borderBottom","marginLeft","concat","toRem","width","enteringScreen","Drawer","MuiDrawer","_ref2","position","whiteSpace","boxSizing","_defineProperty","overflowX","up","props","_React$useState","React","_React$useState2","_slicedToArray","setOpen","toggleDrawer","_jsxs","Box","sx","display","children","_jsx","CssBaseline","elevation","Toolbar","pr","IconButton","edge","color","onClick","marginRight","backgroundColor","MenuIcon","Typography","component","variant","noWrap","flexGrow","pageName","alignItems","justifyContent","px","ChevronLeftIcon","Divider","List","to","ListItemButton","ListItemIcon","CarouselIcon","ListItemText","primary","my","CollectionsIcon","palette","mode","grey","height","overflow","Container","maxWidth","mt","mb","StyledItem","Paper","Item","item","Image","src","url","alt","showLoading","style","objectFit","_controller$photoList","controller","firebaseStorage","getFirebaseStorage","_useListItems","useListItems","_useListItems2","photoList","photoListLoading","useHomePage","CommonPage","Carousel","autoPlay","stopAutoPlayOnHover","interval","map","i","ref","getStorage","defaultState","defaultValue","loading","undefined","value","getDefaultValue","_useReducer","useReducer","state","action","type","error","_useReducer2","dispatch","reset","useCallback","setError","setValue","useMemo","isEqual","v1","v2","bothNull","equal","fullPath","storageRef","_useLoadingValue","useLoadingValue","onChange","useRef","useEffect","current","useComparatorRef","list","then","listResult","Promise","all","items","getDownloadURL","urls","catch"],"sourceRoot":""}