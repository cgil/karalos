"use strict";(self.webpackChunkkaralos=self.webpackChunkkaralos||[]).push([[769],{4144:function(n,e,t){t.r(e);var r,i,o=t(1413),a=t(3433),s=t(4165),c=t(5861),l=t(9439),d=t(168),p=t(2791),u=t(7726),x=t(276),h=t(4082),f=t(5617),m=t(8267),g=t(4912),Z=t(9369),j=t(6598),y=t(49),w=(t(9323),t(7639)),b=t(5849),v=t(8588),k=t(4554),C=t(1867),V=t(2492),I=t(4567),L=t(7234),P=t(1849),S=t(9596),O=t(9709),U=t(184),z=g.default.div(r||(r=(0,d.Z)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ",";\n  border-width: ",";\n  border-radius: ",";\n  border-color: ",";\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #bdbdbd;\n  outline: none;\n  transition: border 0.24s ease-in-out;\n  height: ",";\n"])),(0,P.V)(20),(0,P.V)(2),(0,P.V)(2),(function(n){return n.theme.palette.dark}),(0,P.V)(200)),F=(0,g.default)(Z.Z)(i||(i=(0,d.Z)(["\n  margin-top: ",";\n"])),(0,P.V)(24));e.default=function(){var n=(0,g.useTheme)(),e=(0,f.eh)(),t=(0,p.useState)([]),r=(0,l.Z)(t,2),i=r[0],d=r[1],R=(0,h.k)(),W=(0,l.Z)(R,2),G=W[0],D=W[1],N=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Promise.allSettled(i.map(function(){var n=(0,c.Z)((0,s.Z)().mark((function n(t){var r,i;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return r=t.name.toLowerCase().replace(/\s+/g,"-"),i=(0,x.iH)(e,r),n.abrupt("return",G(i,t,{contentType:"image/".concat(t.type)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){return d([])}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=(0,m.uI)({accept:{"image/*":[]},onDrop:function(n){d(n.map((function(n){return Object.assign(n,{preview:URL.createObjectURL(n)})})))}}),A=H.getRootProps,B=H.getInputProps,E=H.open,T=function(n){return function(){var e=(0,a.Z)(i);e.splice(e.indexOf(n),1),d(e)}};return(0,p.useEffect)((function(){return function(){i.forEach((function(n){return URL.revokeObjectURL(n.preview)}))}}),[i]),(0,U.jsx)(u.Z,{pageName:"Admin",children:(0,U.jsxs)(j.Z,{maxWidth:"lg",children:[(0,U.jsx)(Z.Z,{direction:"row",justifyContent:"end",useFlexGap:!0,sx:{marginBottom:(0,P.V)(12)},children:(0,U.jsx)(w.Z,{title:i.length>0?null:"No files added to Upload.",children:(0,U.jsx)("span",{children:(0,U.jsx)(O.Z,{size:"medium",type:"button",variant:"contained",onClick:N,color:"secondary",disabled:!(i.length>0),startIcon:(0,U.jsx)(S.Z,{}),loading:D,loadingPosition:"start",children:"Upload"})})})}),(0,U.jsx)(z,{children:(0,U.jsxs)("div",(0,o.Z)((0,o.Z)({},A({className:"dropzone"})),{},{onClick:function(n){return n.stopPropagation},children:[(0,U.jsx)("input",(0,o.Z)({},B())),(0,U.jsx)("p",{children:"Drag 'n' drop some files here, or click to select images"}),(0,U.jsx)(Z.Z,{direction:"row",justifyContent:"center",useFlexGap:!0,children:(0,U.jsx)(b.Z,{size:"medium",type:"button",variant:"contained",onClick:E,children:"Add"})})]}))}),(0,U.jsx)(F,{direction:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-start",spacing:2,useFlexGap:!0,children:i.map((function(e,t){return(0,U.jsxs)(v.Z,{sx:{maxWidth:280,display:"flex"},children:[(0,U.jsx)(k.Z,{sx:{display:"flex",width:(0,P.V)(130),justifyContent:"flex-start"},children:(0,U.jsx)(C.Z,{component:"img",image:e.preview,alt:e.name,sx:{width:"auto",maxWidth:(0,P.V)(130),height:(0,P.V)(133),objectFit:"cover"}})}),(0,U.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",width:(0,P.V)(150)},children:[(0,U.jsxs)(V.Z,{sx:{flex:"1 0 auto"},children:[(0,U.jsx)(I.Z,{noWrap:!0,variant:"body2",color:"text.secondary",children:"Pending upload"}),(0,U.jsx)(w.Z,{title:e.name,children:(0,U.jsxs)(Z.Z,{direction:"row",children:[(0,U.jsx)("span",{style:{width:"calc(100% - ".concat(30,"px)")},children:(0,U.jsx)(y.y,{defaultValue:e.name.slice(0,e.name.lastIndexOf(".")),onSave:function(n){return function(n,e){var t=(0,a.Z)(i),r=t[e],o=(n.substring(0,n.lastIndexOf("."))||n).replace(/\s+/g,"-").toLowerCase(),s=r.type.slice(r.type.lastIndexOf("/")+1),c=new File([r],"".concat(o,".").concat(s),{type:r.type});t[e]=Object.assign(c,{preview:URL.createObjectURL(c)}),d(t)}(n.value,t)},placeholder:"Image name",style:{border:"".concat((0,P.V)(1)," solid #ffff"),paddingLeft:0,fontSize:n.typography.body1.fontSize}})}),(0,U.jsxs)(I.Z,{component:"span",variant:"body2",color:"text.secondary",style:{width:(0,P.V)(30),lineHeight:(0,P.V)(34)},children:[".",e.type.slice(e.type.lastIndexOf("/")+1)]})]})})]}),(0,U.jsx)(L.Z,{children:(0,U.jsx)(b.Z,{size:"small",color:"primary",onClick:T(e),children:"Remove Image"})})]})]},e.name)}))})]})})}},7726:function(n,e,t){var r,i=t(9439),o=t(4942),a=t(1413),s=t(168),c=t(6934),l=t(4554),d=t(9464),p=t(977),u=t(4567),x=t(5849),h=t(4721),f=t(3236),m=t(6278),g=t(7064),Z=t(9900),j=t(266),y=t(8654),w=t(5256),b=t(8008),v=t(1009),k=t(609),C=t(1334),V=t(2791),I=t(1849),L=t(1087),P=t(6929),S=t(184),O=(0,c.ZP)(L.rU)(r||(r=(0,s.Z)(["\n  text-decoration: none;\n  color: inherit;\n"]))),U=(0,c.ZP)(w.Z,{shouldForwardProp:function(n){return"open"!==n}})((function(n){var e=n.theme,t=n.open;return(0,a.Z)({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),borderBottom:1},t&&{marginLeft:"".concat((0,I.V)(240)),width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),z=(0,c.ZP)(y.ZP,{shouldForwardProp:function(n){return"open"!==n}})((function(n){var e=n.theme,t=n.open;return{"& .MuiDrawer-paper":(0,a.Z)({position:"relative",whiteSpace:"nowrap",width:"".concat((0,I.V)(240)),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box"},!t&&(0,o.Z)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}))}}));e.Z=function(n){var e=(0,P.a)(),t=V.useState(!0),r=(0,i.Z)(t,2),o=r[0],s=r[1],c=function(){s(!o)};return(0,S.jsxs)(l.Z,{sx:{display:"flex",backgroundColor:"white"},children:[(0,S.jsx)(U,{elevation:0,position:"absolute",open:o,children:(0,S.jsxs)(d.Z,{sx:{pr:"24px"},children:[(0,S.jsx)(p.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:c,sx:(0,a.Z)({marginRight:"36px",backgroundColor:"black"},o&&{display:"none"}),children:(0,S.jsx)(b.Z,{})}),(0,S.jsx)(u.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1,color:"black"},children:n.pageName}),e.user?(0,S.jsx)(x.Z,{onClick:e.logout,color:"primary",children:"Logout"}):(0,S.jsx)(x.Z,{component:L.rU,to:"/sign-in",color:"inherit",children:"Login"})]})}),(0,S.jsxs)(z,{elevation:0,variant:"permanent",open:o,children:[(0,S.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,S.jsx)(p.Z,{onClick:c,children:(0,S.jsx)(v.Z,{})})}),(0,S.jsx)(h.Z,{}),(0,S.jsxs)(f.Z,{component:"nav",children:[(0,S.jsx)(V.Fragment,{children:(0,S.jsx)(O,{to:"/",children:(0,S.jsxs)(m.Z,{children:[(0,S.jsx)(g.Z,{children:(0,S.jsx)(k.Z,{})}),(0,S.jsx)(Z.Z,{primary:"Home"})]})})}),(0,S.jsx)(h.Z,{sx:{my:1}}),(0,S.jsx)(V.Fragment,{children:(0,S.jsx)(O,{to:"/gallery",children:(0,S.jsxs)(m.Z,{children:[(0,S.jsx)(g.Z,{children:(0,S.jsx)(C.Z,{})}),(0,S.jsx)(Z.Z,{primary:"Gallery"})]})})}),(0,S.jsx)(h.Z,{sx:{my:1}})]})]}),(0,S.jsxs)(l.Z,{component:"main",sx:{backgroundColor:function(n){return"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,S.jsx)(d.Z,{}),(0,S.jsx)(j.Z,{maxWidth:"xl",sx:{mt:4,mb:4},children:n.children})]})]})}}}]);
//# sourceMappingURL=769.bd805ecb.chunk.js.map